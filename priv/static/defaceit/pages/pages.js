(function(c,e){function j(a){return b.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}function n(a){if(!ta[a]){var d=f.body,h=b("<"+a+">").appendTo(d),i=h.css("display");h.remove();if("none"===i||""===i){L||(L=f.createElement("iframe"),L.frameBorder=L.width=L.height=0);d.appendChild(L);if(!ia||!L.createElement)ia=(L.contentWindow||L.contentDocument).document,ia.write((b.support.boxModel?"<!doctype html>":"")+"<html><body>"),ia.close();h=ia.createElement(a);ia.body.appendChild(h);i=b.css(h,
"display");d.removeChild(L)}ta[a]=i}return ta[a]}function r(a,d){var h={};b.each(oa.concat.apply([],oa.slice(0,d)),function(){h[this]=a});return h}function z(){pa=e}function w(){setTimeout(z,0);return pa=b.now()}function p(){try{return new c.XMLHttpRequest}catch(a){}}function H(a,d,h,i){if(b.isArray(d))b.each(d,function(d,b){h||ab.test(a)?i(a,b):H(a+"["+("object"==typeof b?d:"")+"]",b,h,i)});else if(!h&&"object"===b.type(d))for(var c in d)H(a+"["+c+"]",d[c],h,i);else i(a,d)}function R(a,d){var h,
i,c=b.ajaxSettings.flatOptions||{};for(h in d)d[h]!==e&&((c[h]?a:i||(i={}))[h]=d[h]);i&&b.extend(!0,a,i)}function D(a,d,b,i,c,f){c=c||d.dataTypes[0];f=f||{};f[c]=!0;for(var c=a[c],k=0,Y=c?c.length:0,l=a===ua,m;k<Y&&(l||!m);k++)m=c[k](d,b,i),"string"==typeof m&&(!l||f[m]?m=e:(d.dataTypes.unshift(m),m=D(a,d,b,i,m,f)));(l||!m)&&!f["*"]&&(m=D(a,d,b,i,"*",f));return m}function U(a){return function(d,h){"string"!=typeof d&&(h=d,d="*");if(b.isFunction(h))for(var i=d.toLowerCase().split(Ea),c=0,f=i.length,
k,e;c<f;c++)k=i[c],(e=/^\+/.test(k))&&(k=k.substr(1)||"*"),k=a[k]=a[k]||[],k[e?"unshift":"push"](h)}}function Z(a,d,h){var i="width"===d?a.offsetWidth:a.offsetHeight,c="width"===d?1:0;if(0<i){if("border"!==h)for(;4>c;c+=2)h||(i-=parseFloat(b.css(a,"padding"+aa[c]))||0),"margin"===h?i+=parseFloat(b.css(a,h+aa[c]))||0:i-=parseFloat(b.css(a,"border"+aa[c]+"Width"))||0;return i+"px"}i=ja(a,d);if(0>i||null==i)i=a.style[d];if(va.test(i))return i;i=parseFloat(i)||0;if(h)for(;4>c;c+=2)i+=parseFloat(b.css(a,
"padding"+aa[c]))||0,"padding"!==h&&(i+=parseFloat(b.css(a,"border"+aa[c]+"Width"))||0),"margin"===h&&(i+=parseFloat(b.css(a,h+aa[c]))||0);return i+"px"}function ba(a){var d=(a.nodeName||"").toLowerCase();"input"===d?ca(a):"script"!==d&&"undefined"!=typeof a.getElementsByTagName&&b.grep(a.getElementsByTagName("input"),ca)}function ca(a){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}function T(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=
typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function E(a,d){var h;1===d.nodeType&&(d.clearAttributes&&d.clearAttributes(),d.mergeAttributes&&d.mergeAttributes(a),h=d.nodeName.toLowerCase(),"object"===h?d.outerHTML=a.outerHTML:"input"!==h||"checkbox"!==a.type&&"radio"!==a.type?"option"===h?d.selected=a.defaultSelected:"input"===h||"textarea"===h?d.defaultValue=a.defaultValue:"script"===h&&d.text!==a.text&&(d.text=a.text):(a.checked&&(d.defaultChecked=d.checked=a.checked),d.value!==a.value&&
(d.value=a.value)),d.removeAttribute(b.expando),d.removeAttribute("_submit_attached"),d.removeAttribute("_change_attached"))}function F(a,d){if(1===d.nodeType&&b.hasData(a)){var h,i,c;i=b._data(a);var f=b._data(d,i),k=i.events;if(k)for(h in delete f.handle,f.events={},k){i=0;for(c=k[h].length;i<c;i++)b.event.add(d,h,k[h][i])}f.data&&(f.data=b.extend({},f.data))}}function da(a){var d=Fa.split("|"),a=a.createDocumentFragment();if(a.createElement)for(;d.length;)a.createElement(d.pop());return a}function ka(a,
d,h){d=d||0;if(b.isFunction(d))return b.grep(a,function(a,b){return!!d.call(a,b,a)===h});if(d.nodeType)return b.grep(a,function(a){return a===d===h});if("string"==typeof d){var i=b.grep(a,function(a){return 1===a.nodeType});if(bb.test(d))return b.filter(d,i,!h);d=b.filter(d,i)}return b.grep(a,function(a){return 0<=b.inArray(a,d)===h})}function J(){return!0}function g(){return!1}function x(a,d,h){var i=d+"defer",c=d+"queue",f=d+"mark",k=b._data(a,i);k&&("queue"===h||!b._data(a,c))&&("mark"===h||!b._data(a,
f))&&setTimeout(function(){!b._data(a,c)&&!b._data(a,f)&&(b.removeData(a,i,!0),k.fire())},0)}function V(a){for(var d in a)if(!("data"===d&&b.isEmptyObject(a[d]))&&"toJSON"!==d)return!1;return!0}function W(a,d,h){if(h===e&&1===a.nodeType)if(h="data-"+d.replace(ea,"-$1").toLowerCase(),h=a.getAttribute(h),"string"==typeof h){try{h="true"===h?!0:"false"===h?!1:"null"===h?null:b.isNumeric(h)?+h:Q.test(h)?b.parseJSON(h):h}catch(i){}b.data(a,d,h)}else h=e;return h}function fa(a){var d=u[a]={},b,i,a=a.split(/\s+/);
b=0;for(i=a.length;b<i;b++)d[a[b]]=!0;return d}var f=c.document,m=c.navigator,s=c.location,b=function(){function a(){if(!d.isReady){try{f.documentElement.doScroll("left")}catch(b){setTimeout(a,1);return}d.ready()}}var d=function(a,b){return new d.fn.init(a,b,k)},b=c.jQuery,i=c.$,k,P=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,I=/\S/,Y=/^\s+/,l=/\s+$/,g=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,v=/^[\],:{}\s]*$/,j=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
s=/(?:^|:|,)(?:\s*\[)+/g,u=/(webkit)[ \/]([\w.]+)/,B=/(opera)(?:.*version)?[ \/]([\w.]+)/,C=/(msie) ([\w.]+)/,p=/(mozilla)(?:.*? rv:([\w.]+))?/,n=/-([a-z]|[0-9])/ig,w=/^-ms-/,N=function(a,d){return(d+"").toUpperCase()},A=m.userAgent,M,la,db=Object.prototype.toString,wa=Object.prototype.hasOwnProperty,xa=Array.prototype.push,na=Array.prototype.slice,Ha=String.prototype.trim,Ia=Array.prototype.indexOf,r={};d.fn=d.prototype={constructor:d,init:function(a,b,h){var i,c;if(!a)return this;if(a.nodeType)return this.context=
this[0]=a,this.length=1,this;if("body"===a&&!b&&f.body)return this.context=f,this[0]=f.body,this.selector=a,this.length=1,this;if("string"==typeof a){"<"!==a.charAt(0)||">"!==a.charAt(a.length-1)||3>a.length?i=P.exec(a):i=[null,a,null];if(i&&(i[1]||!b)){if(i[1])return c=(b=b instanceof d?b[0]:b)?b.ownerDocument||b:f,(h=g.exec(a))?d.isPlainObject(b)?(a=[f.createElement(h[1])],d.fn.attr.call(a,b,!0)):a=[c.createElement(h[1])]:(h=d.buildFragment([i[1]],[c]),a=(h.cacheable?d.clone(h.fragment):h.fragment).childNodes),
d.merge(this,a);if((b=f.getElementById(i[2]))&&b.parentNode){if(b.id!==i[2])return h.find(a);this.length=1;this[0]=b}this.context=f;this.selector=a;return this}return!b||b.jquery?(b||h).find(a):this.constructor(b).find(a)}if(d.isFunction(a))return h.ready(a);a.selector!==e&&(this.selector=a.selector,this.context=a.context);return d.makeArray(a,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return na.call(this,0)},get:function(a){return null==a?this.toArray():
0>a?this[this.length+a]:this[a]},pushStack:function(a,b,h){var i=this.constructor();d.isArray(a)?xa.apply(i,a):d.merge(i,a);i.prevObject=this;i.context=this.context;"find"===b?i.selector=this.selector+(this.selector?" ":"")+h:b&&(i.selector=this.selector+"."+b+"("+h+")");return i},each:function(a,b){return d.each(this,a,b)},ready:function(a){d.bindReady();M.add(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
slice:function(){return this.pushStack(na.apply(this,arguments),"slice",na.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,function(d,b){return a.call(d,b,d)}))},end:function(){return this.prevObject||this.constructor(null)},push:xa,sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var a,b,h,i,c,f,k=arguments[0]||{},y=1,M=arguments.length,P=!1;"boolean"==typeof k&&(P=k,k=arguments[1]||{},y=2);"object"!=typeof k&&!d.isFunction(k)&&
(k={});for(M===y&&(k=this,--y);y<M;y++)if(null!=(a=arguments[y]))for(b in a)h=k[b],i=a[b],k!==i&&(P&&i&&(d.isPlainObject(i)||(c=d.isArray(i)))?(c?(c=!1,f=h&&d.isArray(h)?h:[]):f=h&&d.isPlainObject(h)?h:{},k[b]=d.extend(P,f,i)):i!==e&&(k[b]=i));return k};d.extend({noConflict:function(a){c.$===d&&(c.$=i);a&&c.jQuery===d&&(c.jQuery=b);return d},isReady:!1,readyWait:1,holdReady:function(a){a?d.readyWait++:d.ready(!0)},ready:function(a){if(!0===a&&!--d.readyWait||!0!==a&&!d.isReady){if(!f.body)return setTimeout(d.ready,
1);d.isReady=!0;!0!==a&&0<--d.readyWait||(M.fireWith(f,[d]),d.fn.trigger&&d(f).trigger("ready").off("ready"))}},bindReady:function(){if(!M){M=d.Callbacks("once memory");if("complete"===f.readyState)return setTimeout(d.ready,1);if(f.addEventListener)f.addEventListener("DOMContentLoaded",la,!1),c.addEventListener("load",d.ready,!1);else if(f.attachEvent){f.attachEvent("onreadystatechange",la);c.attachEvent("onload",d.ready);var b=!1;try{b=null==c.frameElement}catch(h){}f.documentElement.doScroll&&b&&
a()}}},isFunction:function(a){return"function"===d.type(a)},isArray:Array.isArray||function(a){return"array"===d.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?""+a:r[db.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==d.type(a)||a.nodeType||d.isWindow(a))return!1;try{if(a.constructor&&!wa.call(a,"constructor")&&!wa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(var h in a);
return h===e||wa.call(a,h)},isEmptyObject:function(a){for(var d in a)return!1;return!0},error:function(a){throw Error(a);},parseJSON:function(a){if("string"!=typeof a||!a)return null;a=d.trim(a);if(c.JSON&&c.JSON.parse)return c.JSON.parse(a);if(v.test(a.replace(j,"@").replace(o,"]").replace(s,"")))return(new Function("return "+a))();d.error("Invalid JSON: "+a)},parseXML:function(a){if("string"!=typeof a||!a)return null;var b,h;try{c.DOMParser?(h=new DOMParser,b=h.parseFromString(a,"text/xml")):(b=
new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(i){b=e}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&d.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){a&&I.test(a)&&(c.execScript||function(a){c.eval.call(c,a)})(a)},camelCase:function(a){return a.replace(w,"ms-").replace(n,N)},nodeName:function(a,d){return a.nodeName&&a.nodeName.toUpperCase()===d.toUpperCase()},each:function(a,b,h){var i,c=0,f=a.length,k=f===e||d.isFunction(a);
if(h)if(k)for(i in a){if(!1===b.apply(a[i],h))break}else for(;c<f&&!1!==b.apply(a[c++],h););else if(k)for(i in a){if(!1===b.call(a[i],i,a[i]))break}else for(;c<f&&!1!==b.call(a[c],c,a[c++]););return a},trim:Ha?function(a){return null==a?"":Ha.call(a)}:function(a){return null==a?"":(a+"").replace(Y,"").replace(l,"")},makeArray:function(a,b){var h=b||[];if(null!=a){var i=d.type(a);null==a.length||"string"===i||"function"===i||"regexp"===i||d.isWindow(a)?xa.call(h,a):d.merge(h,a)}return h},inArray:function(a,
d,b){var h;if(d){if(Ia)return Ia.call(d,a,b);h=d.length;for(b=b?0>b?Math.max(0,h+b):b:0;b<h;b++)if(b in d&&d[b]===a)return b}return-1},merge:function(a,b){var d=a.length,h=0;if("number"==typeof b.length)for(var i=b.length;h<i;h++)a[d++]=b[h];else for(;b[h]!==e;)a[d++]=b[h++];a.length=d;return a},grep:function(a,b,d){for(var h=[],i,d=!!d,c=0,f=a.length;c<f;c++)i=!!b(a[c],c),d!==i&&h.push(a[c]);return h},map:function(a,b,h){var i,c,f=[],k=0,y=a.length;if(a instanceof d||y!==e&&"number"==typeof y&&(0<
y&&a[0]&&a[y-1]||0===y||d.isArray(a)))for(;k<y;k++)i=b(a[k],k,h),null!=i&&(f[f.length]=i);else for(c in a)i=b(a[c],c,h),null!=i&&(f[f.length]=i);return f.concat.apply([],f)},guid:1,proxy:function(a,b){if("string"==typeof b)var h=a[b],b=a,a=h;if(!d.isFunction(a))return e;var i=na.call(arguments,2),h=function(){return a.apply(b,i.concat(na.call(arguments)))};h.guid=a.guid=a.guid||h.guid||d.guid++;return h},access:function(a,b,h,i,c,f,k){var y,M=null==h,P=0,I=a.length;if(h&&"object"==typeof h){for(P in h)d.access(a,
b,P,h[P],1,f,i);c=1}else if(i!==e){y=k===e&&d.isFunction(i);M&&(y?(y=b,b=function(a,b,h){return y.call(d(a),h)}):(b.call(a,i),b=null));if(b)for(;P<I;P++)b(a[P],h,y?i.call(a[P],P,b(a[P],h)):i,k);c=1}return c?a:M?b.call(a):I?b(a[0],h):f},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=u.exec(a)||B.exec(a)||C.exec(a)||0>a.indexOf("compatible")&&p.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(b,d){return new a.fn.init(b,d)}d.extend(!0,
a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(h,i){i&&i instanceof d&&!(i instanceof a)&&(i=a(i));return d.fn.init.call(this,h,i,b)};a.fn.init.prototype=a.fn;var b=a(f);return a},browser:{}});d.each("Boolean,Number,String,Function,Array,Date,RegExp,Object".split(","),function(a,b){r["[object "+b+"]"]=b.toLowerCase()});A=d.uaMatch(A);A.browser&&(d.browser[A.browser]=!0,d.browser.version=A.version);d.browser.webkit&&(d.browser.safari=!0);I.test("\u00a0")&&
(Y=/^[\s\xA0]+/,l=/[\s\xA0]+$/);k=d(f);f.addEventListener?la=function(){f.removeEventListener("DOMContentLoaded",la,!1);d.ready()}:f.attachEvent&&(la=function(){"complete"===f.readyState&&(f.detachEvent("onreadystatechange",la),d.ready())});return d}(),u={};b.Callbacks=function(a){var a=a?u[a]||fa(a):{},d=[],h=[],i,c,f,k,l,m,g=function(h){var i,c,f,k;i=0;for(c=h.length;i<c;i++)f=h[i],k=b.type(f),"array"===k?g(f):"function"===k&&(!a.unique||!j.has(f))&&d.push(f)},v=function(b,e){e=e||[];i=!a.memory||
[b,e];f=c=!0;m=k||0;k=0;for(l=d.length;d&&m<l;m++)if(!1===d[m].apply(b,e)&&a.stopOnFalse){i=!0;break}f=!1;d&&(a.once?!0===i?j.disable():d=[]:h&&h.length&&(i=h.shift(),j.fireWith(i[0],i[1])))},j={add:function(){if(d){var a=d.length;g(arguments);f?l=d.length:i&&!0!==i&&(k=a,v(i[0],i[1]))}return this},remove:function(){if(d)for(var b=arguments,h=0,i=b.length;h<i;h++)for(var c=0;c<d.length&&!(b[h]===d[c]&&(f&&c<=l&&(l--,c<=m&&m--),d.splice(c--,1),a.unique));c++);return this},has:function(a){if(d)for(var b=
0,h=d.length;b<h;b++)if(a===d[b])return!0;return!1},empty:function(){d=[];return this},disable:function(){d=h=i=e;return this},disabled:function(){return!d},lock:function(){h=e;(!i||!0===i)&&j.disable();return this},locked:function(){return!h},fireWith:function(b,d){h&&(f?a.once||h.push([b,d]):(!a.once||!i)&&v(b,d));return this},fire:function(){j.fireWith(this,arguments);return this},fired:function(){return!!c}};return j};var A=[].slice;b.extend({Deferred:function(a){var d=b.Callbacks("once memory"),
h=b.Callbacks("once memory"),i=b.Callbacks("memory"),c="pending",f={resolve:d,reject:h,notify:i},k={done:d.add,fail:h.add,progress:i.add,state:function(){return c},isResolved:d.fired,isRejected:h.fired,then:function(a,b,d){e.done(a).fail(b).progress(d);return this},always:function(){e.done.apply(e,arguments).fail.apply(e,arguments);return this},pipe:function(a,d,h){return b.Deferred(function(i){b.each({done:[a,"resolve"],fail:[d,"reject"],progress:[h,"notify"]},function(a,d){var h=d[0],c=d[1],f;b.isFunction(h)?
e[a](function(){(f=h.apply(this,arguments))&&b.isFunction(f.promise)?f.promise().then(i.resolve,i.reject,i.notify):i[c+"With"](this===e?i:this,[f])}):e[a](i[c])})}).promise()},promise:function(a){if(null==a)a=k;else for(var b in k)a[b]=k[b];return a}},e=k.promise({}),l;for(l in f)e[l]=f[l].fire,e[l+"With"]=f[l].fireWith;e.done(function(){c="resolved"},h.disable,i.lock).fail(function(){c="rejected"},d.disable,i.lock);a&&a.call(e,e);return e},when:function(a){function d(a){return function(b){k[a]=1<
arguments.length?A.call(arguments,0):b;l.notifyWith(m,k)}}function h(a){return function(b){i[a]=1<arguments.length?A.call(arguments,0):b;--e||l.resolveWith(l,i)}}var i=A.call(arguments,0),c=0,f=i.length,k=Array(f),e=f,l=1>=f&&a&&b.isFunction(a.promise)?a:b.Deferred(),m=l.promise();if(1<f){for(;c<f;c++)i[c]&&i[c].promise&&b.isFunction(i[c].promise)?i[c].promise().then(h(c),l.reject,d(c)):--e;e||l.resolveWith(l,i)}else l!==a&&l.resolveWith(l,f?[a]:[]);return m}});b.support=function(){var a,d,h,i,k,
e,l,m,g=f.createElement("div");g.setAttribute("className","t");g.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";d=g.getElementsByTagName("*");h=g.getElementsByTagName("a")[0];if(!d||!d.length||!h)return{};i=f.createElement("select");k=i.appendChild(f.createElement("option"));d=g.getElementsByTagName("input")[0];a={leadingWhitespace:3===g.firstChild.nodeType,tbody:!g.getElementsByTagName("tbody").length,htmlSerialize:!!g.getElementsByTagName("link").length,
style:/top/.test(h.getAttribute("style")),hrefNormalized:"/a"===h.getAttribute("href"),opacity:/^0.55/.test(h.style.opacity),cssFloat:!!h.style.cssFloat,checkOn:"on"===d.value,optSelected:k.selected,getSetAttribute:"t"!==g.className,enctype:!!f.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==f.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,
pixelMargin:!0};b.boxModel=a.boxModel="CSS1Compat"===f.compatMode;d.checked=!0;a.noCloneChecked=d.cloneNode(!0).checked;i.disabled=!0;a.optDisabled=!k.disabled;try{delete g.test}catch(v){a.deleteExpando=!1}!g.addEventListener&&g.attachEvent&&g.fireEvent&&(g.attachEvent("onclick",function(){a.noCloneEvent=!1}),g.cloneNode(!0).fireEvent("onclick"));d=f.createElement("input");d.value="t";d.setAttribute("type","radio");a.radioValue="t"===d.value;d.setAttribute("checked","checked");d.setAttribute("name",
"t");g.appendChild(d);h=f.createDocumentFragment();h.appendChild(g.lastChild);a.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked;a.appendChecked=d.checked;h.removeChild(d);h.appendChild(g);if(g.attachEvent)for(l in{submit:1,change:1,focusin:1})d="on"+l,(m=d in g)||(g.setAttribute(d,"return;"),m="function"==typeof g[d]),a[l+"Bubbles"]=m;h.removeChild(g);h=i=k=g=d=null;b(function(){var d,h,i,k,y,l,I=f.getElementsByTagName("body")[0];!I||(d=f.createElement("div"),d.style.cssText="padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px",
I.insertBefore(d,I.firstChild),g=f.createElement("div"),d.appendChild(g),g.innerHTML="<table><tr><td style='padding:0;margin:0;border:0;display:none'></td><td>t</td></tr></table>",e=g.getElementsByTagName("td"),m=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",a.reliableHiddenOffsets=m&&0===e[0].offsetHeight,c.getComputedStyle&&(g.innerHTML="",l=f.createElement("div"),l.style.width="0",l.style.marginRight="0",g.style.width="2px",g.appendChild(l),a.reliableMarginRight=0===(parseInt((c.getComputedStyle(l,
null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof g.style.zoom&&(g.innerHTML="",g.style.width=g.style.padding="1px",g.style.border=0,g.style.overflow="hidden",g.style.display="inline",g.style.zoom=1,a.inlineBlockNeedsLayout=3===g.offsetWidth,g.style.display="block",g.style.overflow="visible",g.innerHTML="<div style='width:5px;'></div>",a.shrinkWrapBlocks=3!==g.offsetWidth),g.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;",
g.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",h=g.firstChild,i=h.firstChild,k=h.nextSibling.firstChild.firstChild,y={doesNotAddBorder:5!==i.offsetTop,doesAddBorderForTableAndCells:5===
k.offsetTop},i.style.position="fixed",i.style.top="20px",y.fixedPosition=20===i.offsetTop||15===i.offsetTop,i.style.position=i.style.top="",h.style.overflow="hidden",h.style.position="relative",y.subtractsBorderForOverflowNotVisible=-5===i.offsetTop,y.doesNotIncludeMarginInBodyOffset=1!==I.offsetTop,c.getComputedStyle&&(g.style.marginTop="1%",a.pixelMargin="1%"!==(c.getComputedStyle(g,null)||{marginTop:0}).marginTop),"undefined"!=typeof d.style.zoom&&(d.style.zoom=1),I.removeChild(d),g=null,b.extend(a,
y))});return a}();var Q=/^(?:\{.*\}|\[.*\])$/,ea=/([A-Z])/g;b.extend({cache:{},uuid:0,expando:"jQuery"+(b.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?b.cache[a[b.expando]]:a[b.expando];return!!a&&!V(a)},data:function(a,d,h,i){if(b.acceptData(a)){var c,f;c=b.expando;var k="string"==typeof d,l=a.nodeType,g=l?b.cache:a,m=l?a[c]:a[c]&&c,v="events"===d;if(m&&g[m]&&(v||i||g[m].data)||!(k&&h===
e)){m||(l?a[c]=m=++b.uuid:m=c);g[m]||(g[m]={},l||(g[m].toJSON=b.noop));if("object"==typeof d||"function"==typeof d)i?g[m]=b.extend(g[m],d):g[m].data=b.extend(g[m].data,d);a=c=g[m];i||(c.data||(c.data={}),c=c.data);h!==e&&(c[b.camelCase(d)]=h);if(v&&!c[d])return a.events;k?(f=c[d],null==f&&(f=c[b.camelCase(d)])):f=c;return f}}},removeData:function(a,d,h){if(b.acceptData(a)){var i,c,f,k=b.expando,e=a.nodeType,l=e?b.cache:a,g=e?a[k]:k;if(l[g]){if(d&&(i=h?l[g]:l[g].data)){b.isArray(d)||(d in i?d=[d]:
(d=b.camelCase(d),d in i?d=[d]:d=d.split(" ")));c=0;for(f=d.length;c<f;c++)delete i[d[c]];if(!(h?V:b.isEmptyObject)(i))return}if(h||!(delete l[g].data,!V(l[g])))b.support.deleteExpando||!l.setInterval?delete l[g]:l[g]=null,e&&(b.support.deleteExpando?delete a[k]:a.removeAttribute?a.removeAttribute(k):a[k]=null)}}},_data:function(a,d,h){return b.data(a,d,h,!0)},acceptData:function(a){if(a.nodeName){var d=b.noData[a.nodeName.toLowerCase()];if(d)return!0!==d&&a.getAttribute("classid")===d}return!0}});
b.fn.extend({data:function(a,d){var h,i,c,f,k,l=this[0],g=0,m=null;if(a===e){if(this.length&&(m=b.data(l),1===l.nodeType&&!b._data(l,"parsedAttrs"))){c=l.attributes;for(k=c.length;g<k;g++)f=c[g].name,0===f.indexOf("data-")&&(f=b.camelCase(f.substring(5)),W(l,f,m[f]));b._data(l,"parsedAttrs",!0)}return m}if("object"==typeof a)return this.each(function(){b.data(this,a)});h=a.split(".",2);h[1]=h[1]?"."+h[1]:"";i=h[1]+"!";return b.access(this,function(d){if(d===e)return m=this.triggerHandler("getData"+
i,[h[0]]),m===e&&l&&(m=b.data(l,a),m=W(l,a,m)),m===e&&h[1]?this.data(h[0]):m;h[1]=d;this.each(function(){var c=b(this);c.triggerHandler("setData"+i,h);b.data(this,a,d);c.triggerHandler("changeData"+i,h)})},null,d,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){b.removeData(this,a)})}});b.extend({_mark:function(a,d){a&&(d=(d||"fx")+"mark",b._data(a,d,(b._data(a,d)||0)+1))},_unmark:function(a,d,h){!0!==a&&(h=d,d=a,a=!1);if(d){var h=h||"fx",i=h+"mark";(a=a?0:(b._data(d,
i)||1)-1)?b._data(d,i,a):(b.removeData(d,i,!0),x(d,h,"mark"))}},queue:function(a,d,h){var i;if(a)return d=(d||"fx")+"queue",i=b._data(a,d),h&&(!i||b.isArray(h)?i=b._data(a,d,b.makeArray(h)):i.push(h)),i||[]},dequeue:function(a,d){var d=d||"fx",h=b.queue(a,d),i=h.shift(),c={};"inprogress"===i&&(i=h.shift());i&&("fx"===d&&h.unshift("inprogress"),b._data(a,d+".run",c),i.call(a,function(){b.dequeue(a,d)},c));h.length||(b.removeData(a,d+"queue "+d+".run",!0),x(a,d,"queue"))}});b.fn.extend({queue:function(a,
d){var h=2;"string"!=typeof a&&(d=a,a="fx",h--);return arguments.length<h?b.queue(this[0],a):d===e?this:this.each(function(){var h=b.queue(this,a,d);"fx"===a&&"inprogress"!==h[0]&&b.dequeue(this,a)})},dequeue:function(a){return this.each(function(){b.dequeue(this,a)})},delay:function(a,d){a=b.fx?b.fx.speeds[a]||a:a;return this.queue(d||"fx",function(b,d){var c=setTimeout(b,a);d.stop=function(){clearTimeout(c)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,d){function h(){--k||
i.resolveWith(c,[c])}"string"!=typeof a&&(d=a,a=e);for(var a=a||"fx",i=b.Deferred(),c=this,f=c.length,k=1,l=a+"defer",g=a+"queue",m=a+"mark",v;f--;)if(v=b.data(c[f],l,e,!0)||(b.data(c[f],g,e,!0)||b.data(c[f],m,e,!0))&&b.data(c[f],l,b.Callbacks("once memory"),!0))k++,v.add(h);h();return i.promise(d)}});var X=/[\n\t\r]/g,k=/\s+/,l=/\r/g,v=/^(?:button|input)$/i,o=/^(?:button|input|object|select|textarea)$/i,B=/^a(?:rea)?$/i,C=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
N=b.support.getSetAttribute,O,S,qa;b.fn.extend({attr:function(a,d){return b.access(this,b.attr,a,d,1<arguments.length)},removeAttr:function(a){return this.each(function(){b.removeAttr(this,a)})},prop:function(a,d){return b.access(this,b.prop,a,d,1<arguments.length)},removeProp:function(a){a=b.propFix[a]||a;return this.each(function(){try{this[a]=e,delete this[a]}catch(b){}})},addClass:function(a){var d,h,i,c,f,e,l;if(b.isFunction(a))return this.each(function(d){b(this).addClass(a.call(this,d,this.className))});
if(a&&"string"==typeof a){d=a.split(k);h=0;for(i=this.length;h<i;h++)if(c=this[h],1===c.nodeType)if(!c.className&&1===d.length)c.className=a;else{f=" "+c.className+" ";e=0;for(l=d.length;e<l;e++)~f.indexOf(" "+d[e]+" ")||(f+=d[e]+" ");c.className=b.trim(f)}}return this},removeClass:function(a){var d,h,i,c,f,l,g;if(b.isFunction(a))return this.each(function(d){b(this).removeClass(a.call(this,d,this.className))});if(a&&"string"==typeof a||a===e){d=(a||"").split(k);h=0;for(i=this.length;h<i;h++)if(c=
this[h],1===c.nodeType&&c.className)if(a){f=(" "+c.className+" ").replace(X," ");l=0;for(g=d.length;l<g;l++)f=f.replace(" "+d[l]+" "," ");c.className=b.trim(f)}else c.className=""}return this},toggleClass:function(a,d){var h=typeof a,i="boolean"==typeof d;return b.isFunction(a)?this.each(function(h){b(this).toggleClass(a.call(this,h,this.className,d),d)}):this.each(function(){if("string"===h)for(var c,f=0,e=b(this),l=d,g=a.split(k);c=g[f++];)l=i?l:!e.hasClass(c),e[l?"addClass":"removeClass"](c);else if("undefined"===
h||"boolean"===h)this.className&&b._data(this,"__className__",this.className),this.className=this.className||!1===a?"":b._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,h=this.length;b<h;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(X," ").indexOf(a))return!0;return!1},val:function(a){var d,h,i,c=this[0];if(arguments.length)return i=b.isFunction(a),this.each(function(h){var c=b(this),f;if(1===this.nodeType&&(i?f=a.call(this,h,c.val()):f=a,null==
f?f="":"number"==typeof f?f+="":b.isArray(f)&&(f=b.map(f,function(a){return a==null?"":a+""})),d=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],!d||!("set"in d)||d.set(this,f,"value")===e))this.value=f});if(c){if((d=b.valHooks[c.type]||b.valHooks[c.nodeName.toLowerCase()])&&"get"in d&&(h=d.get(c,"value"))!==e)return h;h=c.value;return"string"==typeof h?h.replace(l,""):null==h?"":h}}});b.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:
a.text}},select:{get:function(a){var d,h,i=a.selectedIndex,c=[],f=a.options,k="select-one"===a.type;if(0>i)return null;a=k?i:0;for(h=k?i+1:f.length;a<h;a++)if(d=f[a],d.selected&&(b.support.optDisabled?!d.disabled:null===d.getAttribute("disabled"))&&(!d.parentNode.disabled||!b.nodeName(d.parentNode,"optgroup"))){d=b(d).val();if(k)return d;c.push(d)}return k&&!c.length&&f.length?b(f[i]).val():c},set:function(a,d){var h=b.makeArray(d);b(a).find("option").each(function(){this.selected=0<=b.inArray(b(this).val(),
h)});h.length||(a.selectedIndex=-1);return h}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,d,h,i){var c,f,k=a.nodeType;if(a&&3!==k&&8!==k&&2!==k){if(i&&d in b.attrFn)return b(a)[d](h);if("undefined"==typeof a.getAttribute)return b.prop(a,d,h);(i=1!==k||!b.isXMLDoc(a))&&(d=d.toLowerCase(),f=b.attrHooks[d]||(C.test(d)?S:O));if(h!==e){if(null===h){b.removeAttr(a,d);return}if(f&&"set"in f&&i&&(c=f.set(a,h,d))!==e)return c;a.setAttribute(d,""+h);return h}if(f&&
"get"in f&&i&&null!==(c=f.get(a,d)))return c;c=a.getAttribute(d);return null===c?e:c}},removeAttr:function(a,d){var h,i,c,f,e,l=0;if(d&&1===a.nodeType){i=d.toLowerCase().split(k);for(f=i.length;l<f;l++)(c=i[l])&&(h=b.propFix[c]||c,e=C.test(c),e||b.attr(a,c,""),a.removeAttribute(N?c:h),e&&h in a&&(a[h]=!1))}},attrHooks:{type:{set:function(a,d){if(v.test(a.nodeName)&&a.parentNode)b.error("type property can't be changed");else if(!b.support.radioValue&&"radio"===d&&b.nodeName(a,"input")){var h=a.value;
a.setAttribute("type",d);h&&(a.value=h);return d}}},value:{get:function(a,d){return O&&b.nodeName(a,"button")?O.get(a,d):d in a?a.value:null},set:function(a,d,h){if(O&&b.nodeName(a,"button"))return O.set(a,d,h);a.value=d}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,
d,h){var i,c,f;f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return(1!==f||!b.isXMLDoc(a))&&(d=b.propFix[d]||d,c=b.propHooks[d]),h!==e?c&&"set"in c&&(i=c.set(a,h,d))!==e?i:a[d]=h:c&&"get"in c&&null!==(i=c.get(a,d))?i:a[d]},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):o.test(a.nodeName)||B.test(a.nodeName)&&a.href?0:e}}}});b.attrHooks.tabindex=b.propHooks.tabIndex;S={get:function(a,d){var h,i=b.prop(a,d);return!0===i||"boolean"!=typeof i&&
(h=a.getAttributeNode(d))&&!1!==h.nodeValue?d.toLowerCase():e},set:function(a,d,h){var i;!1===d?b.removeAttr(a,h):(i=b.propFix[h]||h,i in a&&(a[i]=!0),a.setAttribute(h,h.toLowerCase()));return h}};N||(qa={name:!0,id:!0,coords:!0},O=b.valHooks.button={get:function(a,b){var h;return(h=a.getAttributeNode(b))&&(qa[b]?""!==h.nodeValue:h.specified)?h.nodeValue:e},set:function(a,b,h){var i=a.getAttributeNode(h);i||(i=f.createAttribute(h),a.setAttributeNode(i));return i.nodeValue=b+""}},b.attrHooks.tabindex.set=
O.set,b.each(["width","height"],function(a,d){b.attrHooks[d]=b.extend(b.attrHooks[d],{set:function(a,b){if(""===b)return a.setAttribute(d,"auto"),b}})}),b.attrHooks.contenteditable={get:O.get,set:function(a,b,h){""===b&&(b="false");O.set(a,b,h)}});b.support.hrefNormalized||b.each(["href","src","width","height"],function(a,d){b.attrHooks[d]=b.extend(b.attrHooks[d],{get:function(a){a=a.getAttribute(d,2);return null===a?e:a}})});b.support.style||(b.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||
e},set:function(a,b){return a.style.cssText=""+b}});b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex);return null}}));b.support.enctype||(b.propFix.enctype="encoding");b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],
{set:function(a,d){if(b.isArray(d))return a.checked=0<=b.inArray(b(a).val(),d)}})});var ya=/^(?:textarea|input|select)$/i,Ja=/^([^\.]*)?(?:\.(.+))?$/,eb=/(?:^|\s)hover(\.\S+)?\b/,fb=/^key/,gb=/^(?:mouse|contextmenu)|click/,Ka=/^(?:focusinfocus|focusoutblur)$/,hb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,ib=function(a){(a=hb.exec(a))&&(a[1]=(a[1]||"").toLowerCase(),a[3]=a[3]&&RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)"));return a},La=function(a){return b.event.special.hover?a:a.replace(eb,"mouseenter$1 mouseleave$1")};
b.event={add:function(a,d,h,i,c){var f,k,l,g,m,v,j,o,s;if(!(3===a.nodeType||8===a.nodeType||!d||!h||!(f=b._data(a)))){h.handler&&(j=h,h=j.handler,c=j.selector);h.guid||(h.guid=b.guid++);(l=f.events)||(f.events=l={});(k=f.handle)||(f.handle=k=function(a){return"undefined"!=typeof b&&(!a||b.event.triggered!==a.type)?b.event.dispatch.apply(k.elem,arguments):e},k.elem=a);d=b.trim(La(d)).split(" ");for(f=0;f<d.length;f++){g=Ja.exec(d[f])||[];m=g[1];v=(g[2]||"").split(".").sort();s=b.event.special[m]||
{};m=(c?s.delegateType:s.bindType)||m;s=b.event.special[m]||{};g=b.extend({type:m,origType:g[1],data:i,handler:h,guid:h.guid,selector:c,quick:c&&ib(c),namespace:v.join(".")},j);o=l[m];if(!o&&(o=l[m]=[],o.delegateCount=0,!s.setup||!1===s.setup.call(a,i,v,k)))a.addEventListener?a.addEventListener(m,k,!1):a.attachEvent&&a.attachEvent("on"+m,k);s.add&&(s.add.call(a,g),g.handler.guid||(g.handler.guid=h.guid));c?o.splice(o.delegateCount++,0,g):o.push(g);b.event.global[m]=!0}a=null}},global:{},remove:function(a,
d,h,i,c){var f=b.hasData(a)&&b._data(a),k,e,l,g,m,v,j,o,s,u,B;if(f&&(j=f.events)){d=b.trim(La(d||"")).split(" ");for(k=0;k<d.length;k++)if(e=Ja.exec(d[k])||[],l=g=e[1],e=e[2],l){o=b.event.special[l]||{};l=(i?o.delegateType:o.bindType)||l;u=j[l]||[];m=u.length;e=e?RegExp("(^|\\.)"+e.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(v=0;v<u.length;v++)B=u[v],(c||g===B.origType)&&(!h||h.guid===B.guid)&&(!e||e.test(B.namespace))&&(!i||i===B.selector||"**"===i&&B.selector)&&(u.splice(v--,1),
B.selector&&u.delegateCount--,o.remove&&o.remove.call(a,B));0===u.length&&m!==u.length&&((!o.teardown||!1===o.teardown.call(a,e))&&b.removeEvent(a,l,f.handle),delete j[l])}else for(l in j)b.event.remove(a,l+d[k],h,i,!0);b.isEmptyObject(j)&&(s=f.handle,s&&(s.elem=null),b.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(a,d,h,i){if(!h||3!==h.nodeType&&8!==h.nodeType){var f=a.type||a,k=[],l,g,m,v,j,o;if(!Ka.test(f+b.event.triggered)&&(0<=f.indexOf("!")&&
(f=f.slice(0,-1),l=!0),0<=f.indexOf(".")&&(k=f.split("."),f=k.shift(),k.sort()),h&&!b.event.customEvent[f]||b.event.global[f]))if(a="object"==typeof a?a[b.expando]?a:new b.Event(f,a):new b.Event(f),a.type=f,a.isTrigger=!0,a.exclusive=l,a.namespace=k.join("."),a.namespace_re=a.namespace?RegExp("(^|\\.)"+k.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,l=0>f.indexOf(":")?"on"+f:"",h){if(a.result=e,a.target||(a.target=h),d=null!=d?b.makeArray(d):[],d.unshift(a),v=b.event.special[f]||{},!(v.trigger&&!1===v.trigger.apply(h,
d))){o=[[h,v.bindType||f]];if(!i&&!v.noBubble&&!b.isWindow(h)){g=v.delegateType||f;k=Ka.test(g+f)?h:h.parentNode;for(m=null;k;k=k.parentNode)o.push([k,g]),m=k;m&&m===h.ownerDocument&&o.push([m.defaultView||m.parentWindow||c,g])}for(g=0;g<o.length&&!a.isPropagationStopped();g++)k=o[g][0],a.type=o[g][1],(j=(b._data(k,"events")||{})[a.type]&&b._data(k,"handle"))&&j.apply(k,d),(j=l&&k[l])&&b.acceptData(k)&&!1===j.apply(k,d)&&a.preventDefault();a.type=f;!i&&!a.isDefaultPrevented()&&(!v._default||!1===
v._default.apply(h.ownerDocument,d))&&("click"!==f||!b.nodeName(h,"a"))&&b.acceptData(h)&&l&&h[f]&&("focus"!==f&&"blur"!==f||0!==a.target.offsetWidth)&&!b.isWindow(h)&&(m=h[l],m&&(h[l]=null),b.event.triggered=f,h[f](),b.event.triggered=e,m&&(h[l]=m));return a.result}}else for(g in h=b.cache,h)h[g].events&&h[g].events[f]&&b.event.trigger(a,d,h[g].handle.elem,!0)}},dispatch:function(a){var a=b.event.fix(a||c.event),d=(b._data(this,"events")||{})[a.type]||[],h=d.delegateCount,i=[].slice.call(arguments,
0),f=!a.exclusive&&!a.namespace,k=b.event.special[a.type]||{},l=[],g,m,v,j,o,s,u;i[0]=a;a.delegateTarget=this;if(!k.preDispatch||!1!==k.preDispatch.call(this,a)){if(h&&(!a.button||"click"!==a.type)){v=b(this);v.context=this.ownerDocument||this;for(m=a.target;m!=this;m=m.parentNode||this)if(!0!==m.disabled){o={};s=[];v[0]=m;for(g=0;g<h;g++){j=d[g];u=j.selector;if(o[u]===e){var B=o,C=u,p;if(j.quick){p=j.quick;var n=m.attributes||{};p=(!p[1]||m.nodeName.toLowerCase()===p[1])&&(!p[2]||(n.id||{}).value===
p[2])&&(!p[3]||p[3].test((n["class"]||{}).value))}else p=v.is(u);B[C]=p}o[u]&&s.push(j)}s.length&&l.push({elem:m,matches:s})}}d.length>h&&l.push({elem:this,matches:d.slice(h)});for(g=0;g<l.length&&!a.isPropagationStopped();g++){h=l[g];a.currentTarget=h.elem;for(d=0;d<h.matches.length&&!a.isImmediatePropagationStopped();d++)if(j=h.matches[d],f||!a.namespace&&!j.namespace||a.namespace_re&&a.namespace_re.test(j.namespace))a.data=j.data,a.handleObj=j,j=((b.event.special[j.origType]||{}).handle||j.handler).apply(h.elem,
i),j!==e&&(a.result=j,!1===j&&(a.preventDefault(),a.stopPropagation()))}k.postDispatch&&k.postDispatch.call(this,a);return a.result}},props:"attrChange,attrName,relatedNode,srcElement,altKey,bubbles,cancelable,ctrlKey,currentTarget,eventPhase,metaKey,relatedTarget,shiftKey,target,timeStamp,view,which".split(","),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button,buttons,clientX,clientY,fromElement,offsetX,offsetY,pageX,pageY,screenX,screenY,toElement".split(","),
filter:function(a,b){var h,i,c,k=b.button,l=b.fromElement;null==a.pageX&&null!=b.clientX&&(h=a.target.ownerDocument||f,i=h.documentElement,c=h.body,a.pageX=b.clientX+(i&&i.scrollLeft||c&&c.scrollLeft||0)-(i&&i.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(i&&i.scrollTop||c&&c.scrollTop||0)-(i&&i.clientTop||c&&c.clientTop||0));!a.relatedTarget&&l&&(a.relatedTarget=l===a.target?b.toElement:l);!a.which&&k!==e&&(a.which=k&1?1:k&2?3:k&4?2:0);return a}},fix:function(a){if(a[b.expando])return a;var d,
h,i=a,c=b.event.fixHooks[a.type]||{},k=c.props?this.props.concat(c.props):this.props,a=b.Event(i);for(d=k.length;d;)h=k[--d],a[h]=i[h];a.target||(a.target=i.srcElement||f);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey===e&&(a.metaKey=a.ctrlKey);return c.filter?c.filter(a,i):a},special:{ready:{setup:b.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,d,h){b.isWindow(this)&&(this.onbeforeunload=h)},teardown:function(a,
b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,d,h,i){a=b.extend(new b.Event,h,{type:a,isSimulated:!0,originalEvent:{}});i?b.event.trigger(a,null,d):b.event.dispatch.call(d,a);a.isDefaultPrevented()&&h.preventDefault()}};b.event.handle=b.event.dispatch;b.removeEvent=f.removeEventListener?function(a,b,h){a.removeEventListener&&a.removeEventListener(b,h,!1)}:function(a,b,h){a.detachEvent&&a.detachEvent("on"+b,h)};b.Event=function(a,d){if(!(this instanceof b.Event))return new b.Event(a,
d);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?J:g):this.type=a;d&&b.extend(this,d);this.timeStamp=a&&a.timeStamp||b.now();this[b.expando]=!0};b.Event.prototype={preventDefault:function(){this.isDefaultPrevented=J;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=J;var a=this.originalEvent;!a||(a.stopPropagation&&
a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=J;this.stopPropagation()},isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g};b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,d){b.event.special[a]={delegateType:d,bindType:d,handle:function(a){var i=a.relatedTarget,c=a.handleObj,f;if(!i||i!==this&&!b.contains(this,i))a.type=c.origType,f=c.handler.apply(this,arguments),a.type=d;return f}}});b.support.submitBubbles||
(b.event.special.submit={setup:function(){if(b.nodeName(this,"form"))return!1;b.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=b.nodeName(a,"input")||b.nodeName(a,"button")?a.form:e)&&!a._submit_attached&&(b.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),a._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&b.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(b.nodeName(this,
"form"))return!1;b.event.remove(this,"._submit")}});b.support.changeBubbles||(b.event.special.change={setup:function(){if(ya.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)b.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,b.event.simulate("change",this,a,!0))});return!1}b.event.add(this,"beforeactivate._change",
function(a){a=a.target;ya.test(a.nodeName)&&!a._change_attached&&(b.event.add(a,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&b.event.simulate("change",this.parentNode,a,!0)}),a._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){b.event.remove(this,"._change");return ya.test(this.nodeName)}});b.support.focusinBubbles||
b.each({focus:"focusin",blur:"focusout"},function(a,d){var h=0,i=function(a){b.event.simulate(d,a.target,b.event.fix(a),!0)};b.event.special[d]={setup:function(){0===h++&&f.addEventListener(a,i,!0)},teardown:function(){0===--h&&f.removeEventListener(a,i,!0)}}});b.fn.extend({on:function(a,d,h,i,c){var f,k;if("object"==typeof a){"string"!=typeof d&&(h=h||d,d=e);for(k in a)this.on(k,d,h,a[k],c);return this}null==h&&null==i?(i=d,h=d=e):null==i&&("string"==typeof d?(i=h,h=e):(i=h,h=d,d=e));if(!1===i)i=
g;else if(!i)return this;1===c&&(f=i,i=function(a){b().off(a);return f.apply(this,arguments)},i.guid=f.guid||(f.guid=b.guid++));return this.each(function(){b.event.add(this,a,i,h,d)})},one:function(a,b,h,i){return this.on(a,b,h,i,1)},off:function(a,d,h){if(a&&a.preventDefault&&a.handleObj){var i=a.handleObj;b(a.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);return this}if("object"==typeof a){for(i in a)this.off(i,d,a[i]);return this}if(!1===d||"function"==
typeof d)h=d,d=e;!1===h&&(h=g);return this.each(function(){b.event.remove(this,a,h,d)})},bind:function(a,b,h){return this.on(a,null,b,h)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,d,h){b(this.context).on(a,this.selector,d,h);return this},die:function(a,d){b(this.context).off(a,this.selector||"**",d);return this},delegate:function(a,b,h,i){return this.on(b,a,h,i)},undelegate:function(a,b,h){return 1==arguments.length?this.off(a,"**"):this.off(b,a,h)},trigger:function(a,d){return this.each(function(){b.event.trigger(a,
d,this)})},triggerHandler:function(a,d){if(this[0])return b.event.trigger(a,d,this[0],!0)},toggle:function(a){var d=arguments,h=a.guid||b.guid++,i=0,c=function(h){var c=(b._data(this,"lastToggle"+a.guid)||0)%i;b._data(this,"lastToggle"+a.guid,c+1);h.preventDefault();return d[c].apply(this,arguments)||!1};for(c.guid=h;i<d.length;)d[i++].guid=h;return this.click(c)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});b.each("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu".split(","),
function(a,d){b.fn[d]=function(a,b){b==null&&(b=a,a=null);return arguments.length>0?this.on(d,null,a,b):this.trigger(d)};b.attrFn&&(b.attrFn[d]=true);fb.test(d)&&(b.event.fixHooks[d]=b.event.keyHooks);gb.test(d)&&(b.event.fixHooks[d]=b.event.mouseHooks)});(function(){function a(a,b,d,h,c,f){for(var c=0,k=h.length;c<k;c++){var e=h[c];if(e){for(var l=!1,e=e[a];e;){if(e[i]===d){l=h[e.sizset];break}if(1===e.nodeType)if(f||(e[i]=d,e.sizset=c),"string"!=typeof b){if(e===b){l=!0;break}}else if(0<o.filter(b,
[e]).length){l=e;break}e=e[a]}h[c]=l}}}function d(a,b,d,h,c,f){for(var c=0,k=h.length;c<k;c++){var e=h[c];if(e){for(var l=!1,e=e[a];e;){if(e[i]===d){l=h[e.sizset];break}1===e.nodeType&&!f&&(e[i]=d,e.sizset=c);if(e.nodeName.toLowerCase()===b){l=e;break}e=e[a]}h[c]=l}}}var h=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i="sizcache"+(Math.random()+"").replace(".",""),c=0,k=Object.prototype.toString,l=!1,g=!0,m=/\\/g,
v=/\r\n/g,j=/\W/;[0,0].sort(function(){g=!1;return 0});var o=function(a,b,d,c){var d=d||[],i=b=b||f;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!=typeof a)return d;var e,l,g,m,v,y,j=!0,I=o.isXML(b),s=[],Y=a;do if(h.exec(""),e=h.exec(Y))if(Y=e[3],s.push(e[1]),e[2]){m=e[3];break}while(e);if(1<s.length&&B.exec(a))if(2===s.length&&u.relative[s[0]])l=r(s[0]+s[1],b,c);else for(l=u.relative[s[0]]?[b]:o(s.shift(),b);s.length;)a=s.shift(),u.relative[a]&&(a+=s.shift()),l=r(a,l,c);else if(!c&&
1<s.length&&9===b.nodeType&&!I&&u.match.ID.test(s[0])&&!u.match.ID.test(s[s.length-1])&&(v=o.find(s.shift(),b,I),b=v.expr?o.filter(v.expr,v.set)[0]:v.set[0]),b){v=c?{expr:s.pop(),set:n(c)}:o.find(s.pop(),1===s.length&&("~"===s[0]||"+"===s[0])&&b.parentNode?b.parentNode:b,I);l=v.expr?o.filter(v.expr,v.set):v.set;for(0<s.length?g=n(l):j=!1;s.length;)e=y=s.pop(),u.relative[y]?e=s.pop():y="",null==e&&(e=b),u.relative[y](g,e,I)}else g=[];g||(g=l);g||o.error(y||a);if("[object Array]"===k.call(g))if(j)if(b&&
1===b.nodeType)for(a=0;null!=g[a];a++)g[a]&&(!0===g[a]||1===g[a].nodeType&&o.contains(b,g[a]))&&d.push(l[a]);else for(a=0;null!=g[a];a++)g[a]&&1===g[a].nodeType&&d.push(l[a]);else d.push.apply(d,g);else n(g,d);m&&(o(m,i,d,c),o.uniqueSort(d));return d};o.uniqueSort=function(a){if(A&&(l=g,a.sort(A),l))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};o.matches=function(a,b){return o(a,null,null,b)};o.matchesSelector=function(a,b){return 0<o(b,null,null,[a]).length};o.find=function(a,
b,d){var h,c,i,f,k,e;if(!a)return[];c=0;for(i=u.order.length;c<i;c++)if(k=u.order[c],f=u.leftMatch[k].exec(a))if(e=f[1],f.splice(1,1),"\\"!==e.substr(e.length-1)&&(f[1]=(f[1]||"").replace(m,""),h=u.find[k](f,b,d),null!=h)){a=a.replace(u.match[k],"");break}h||(h="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]);return{set:h,expr:a}};o.filter=function(a,b,d,h){for(var c,i,f,k,l,g,m,v,y=a,j=[],s=b,I=b&&b[0]&&o.isXML(b[0]);a&&b.length;){for(f in u.filter)if(null!=(c=u.leftMatch[f].exec(a))&&
c[2])if(g=u.filter[f],l=c[1],i=!1,c.splice(1,1),"\\"!==l.substr(l.length-1)){s===j&&(j=[]);if(u.preFilter[f])if(c=u.preFilter[f](c,s,d,j,h,I)){if(!0===c)continue}else i=k=!0;if(c)for(m=0;null!=(l=s[m]);m++)l&&(k=g(l,c,m,s),v=h^k,d&&null!=k?v?i=!0:s[m]=!1:v&&(j.push(l),i=!0));if(k!==e){d||(s=j);a=a.replace(u.match[f],"");if(!i)return[];break}}if(a===y)if(null==i)o.error(a);else break;y=a}return s};o.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};var s=o.getText=function(a){var b,
d;b=a.nodeType;var h="";if(b)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;if("string"==typeof a.innerText)return a.innerText.replace(v,"");for(a=a.firstChild;a;a=a.nextSibling)h+=s(a)}else{if(3===b||4===b)return a.nodeValue}else for(b=0;d=a[b];b++)8!==d.nodeType&&(h+=s(d));return h},u=o.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},
type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var d="string"==typeof b,h=d&&!j.test(b),d=d&&!h;h&&(b=b.toLowerCase());for(var h=0,c=a.length,i;h<c;h++)if(i=a[h]){for(;(i=i.previousSibling)&&1!==i.nodeType;);a[h]=d||i&&i.nodeName.toLowerCase()===b?i||!1:i===b}d&&o.filter(b,a,!0)},">":function(a,b){var d,h="string"==typeof b,c=0,i=a.length;if(h&&!j.test(b))for(b=b.toLowerCase();c<i;c++){if(d=a[c])d=d.parentNode,a[c]=d.nodeName.toLowerCase()===b?d:!1}else{for(;c<i;c++)(d=
a[c])&&(a[c]=h?d.parentNode:d.parentNode===b);h&&o.filter(b,a,!0)}},"":function(b,h,i){var f,k=c++,e=a;"string"==typeof h&&!j.test(h)&&(h=h.toLowerCase(),f=h,e=d);e("parentNode",h,k,b,f,i)},"~":function(b,h,i){var f,k=c++,e=a;"string"==typeof h&&!j.test(h)&&(h=h.toLowerCase(),f=h,e=d);e("previousSibling",h,k,b,f,i)}},find:{ID:function(a,b,d){if("undefined"!=typeof b.getElementById&&!d)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!=typeof b.getElementsByName){for(var d=
[],h=b.getElementsByName(a[1]),c=0,i=h.length;c<i;c++)h[c].getAttribute("name")===a[1]&&d.push(h[c]);return 0===d.length?null:d}},TAG:function(a,b){if("undefined"!=typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,d,h,c,i){a=" "+a[1].replace(m,"")+" ";if(i)return a;for(var i=0,f;null!=(f=b[i]);i++)f&&(c^(f.className&&0<=(" "+f.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?d||h.push(f):d&&(b[i]=!1));return!1},ID:function(a){return a[1].replace(m,
"")},TAG:function(a){return a[1].replace(m,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||o.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&o.error(a[0]);a[0]=c++;return a},ATTR:function(a,b,d,h,c,i){b=a[1]=a[1].replace(m,"");!i&&u.attrMap[b]&&(a[1]=u.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(m,"");"~="===a[2]&&(a[4]=" "+a[4]+
" ");return a},PSEUDO:function(a,b,d,c,i){if("not"===a[1])if(1<(h.exec(a[3])||"").length||/^\w/.test(a[3]))a[3]=o(a[3],null,null,b);else return a=o.filter(a[3],b,d,1^i),d||c.push.apply(c,a),!1;else if(u.match.POS.test(a[0])||u.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode&&
a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,d){return!!o(d[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),d=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===d&&(b===d||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===
a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();
return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,d,h){return b===h.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,d){return b<d[3]-0},gt:function(a,b,d){return b>d[3]-0},nth:function(a,b,d){return d[3]-0===b},eq:function(a,b,d){return d[3]-0===b}},filter:{PSEUDO:function(a,
b,d,h){var c=b[1],i=u.filters[c];if(i)return i(a,d,b,h);if("contains"===c)return 0<=(a.textContent||a.innerText||s([a])||"").indexOf(b[3]);if("not"===c){b=b[3];d=0;for(h=b.length;d<h;d++)if(b[d]===a)return!1;return!0}o.error(c)},CHILD:function(a,b){var d,h,c,f,k,e;d=b[1];e=a;switch(d){case "only":case "first":for(;e=e.previousSibling;)if(1===e.nodeType)return!1;if("first"===d)return!0;e=a;case "last":for(;e=e.nextSibling;)if(1===e.nodeType)return!1;return!0;case "nth":d=b[2];h=b[3];if(1===d&&0===
h)return!0;c=b[0];if((f=a.parentNode)&&(f[i]!==c||!a.nodeIndex)){k=0;for(e=f.firstChild;e;e=e.nextSibling)1===e.nodeType&&(e.nodeIndex=++k);f[i]=c}e=a.nodeIndex-h;return 0===d?0===e:0===e%d&&0<=e/d}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var d=b[1],d=o.attr?o.attr(a,d):u.attrHandle[d]?
u.attrHandle[d](a):null!=a[d]?a[d]:a.getAttribute(d),h=d+"",c=b[2],i=b[4];return null==d?"!="===c:!c&&o.attr?null!=d:"="===c?h===i:"*="===c?0<=h.indexOf(i):"~="===c?0<=(" "+h+" ").indexOf(i):i?"!="===c?h!==i:"^="===c?0===h.indexOf(i):"$="===c?h.substr(h.length-i.length)===i:"|="===c?h===i||h.substr(0,i.length+1)===i+"-":!1:h&&!1!==d},POS:function(a,b,d,h){var c=u.setFilters[b[2]];if(c)return c(a,d,b,h)}}},B=u.match.POS,p=function(a,b){return"\\"+(b-0+1)},C;for(C in u.match)u.match[C]=RegExp(u.match[C].source+
/(?![^\[]*\])(?![^\(]*\))/.source),u.leftMatch[C]=RegExp(/(^(?:.|\r|\n)*?)/.source+u.match[C].source.replace(/\\(\d+)/g,p));u.match.globalPOS=B;var n=function(a,b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(f.documentElement.childNodes,0)[0].nodeType}catch(w){n=function(a,b){var d=0,h=b||[];if("[object Array]"===k.call(a))Array.prototype.push.apply(h,a);else if("number"==typeof a.length)for(var c=a.length;d<c;d++)h.push(a[d]);else for(;a[d];d++)h.push(a[d]);
return h}}var A,N;f.documentElement.compareDocumentPosition?A=function(a,b){return a===b?(l=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(A=function(a,b){if(a===b)return l=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var d,h,c=[],i=[];d=a.parentNode;h=b.parentNode;var f=d;if(d===h)return N(a,b);if(!d)return-1;if(!h)return 1;for(;f;)c.unshift(f),f=f.parentNode;for(f=h;f;)i.unshift(f),f=f.parentNode;
d=c.length;h=i.length;for(f=0;f<d&&f<h;f++)if(c[f]!==i[f])return N(c[f],i[f]);return f===d?N(a,i[f],-1):N(c[f],b,1)},N=function(a,b,d){if(a===b)return d;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});(function(){var a=f.createElement("div"),b="script"+(new Date).getTime(),d=f.documentElement;a.innerHTML="<a name='"+b+"'/>";d.insertBefore(a,d.firstChild);f.getElementById(b)&&(u.find.ID=function(a,b,d){if("undefined"!=typeof b.getElementById&&!d)return(b=b.getElementById(a[1]))?
b.id===a[1]||"undefined"!=typeof b.getAttributeNode&&b.getAttributeNode("id").nodeValue===a[1]?[b]:e:[]},u.filter.ID=function(a,b){var d="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&d&&d.nodeValue===b});d.removeChild(a);d=a=null})();(function(){var a=f.createElement("div");a.appendChild(f.createComment(""));0<a.getElementsByTagName("*").length&&(u.find.TAG=function(a,b){var d=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var h=[],c=0;d[c];c++)1===d[c].nodeType&&
h.push(d[c]);d=h}return d});a.innerHTML="<a href='#'></a>";a.firstChild&&"undefined"!=typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href")&&(u.attrHandle.href=function(a){return a.getAttribute("href",2)});a=null})();f.querySelectorAll&&function(){var a=o,b=f.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||0!==b.querySelectorAll(".TEST").length){o=function(b,d,h,c){d=d||f;if(!c&&!o.isXML(d)){var i=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(i&&
(1===d.nodeType||9===d.nodeType)){if(i[1])return n(d.getElementsByTagName(b),h);if(i[2]&&u.find.CLASS&&d.getElementsByClassName)return n(d.getElementsByClassName(i[2]),h)}if(9===d.nodeType){if("body"===b&&d.body)return n([d.body],h);if(i&&i[3]){var k=d.getElementById(i[3]);if(!k||!k.parentNode)return n([],h);if(k.id===i[3])return n([k],h)}try{return n(d.querySelectorAll(b),h)}catch(e){}}else if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){var i=d,l=(k=d.getAttribute("id"))||"__sizzle__",g=
d.parentNode,m=/^\s*[+~]/.test(b);k?l=l.replace(/'/g,"\\$&"):d.setAttribute("id",l);m&&g&&(d=d.parentNode);try{if(!m||g)return n(d.querySelectorAll("[id='"+l+"'] "+b),h)}catch(v){}finally{k||i.removeAttribute("id")}}}return a(b,d,h,c)};for(var d in a)o[d]=a[d];b=null}}();(function(){var a=f.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(f.createElement("div"),"div"),h=!1;try{b.call(f.documentElement,"[test!='']:sizzle")}catch(c){h=
!0}o.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!o.isXML(a))try{if(h||!u.match.PSEUDO.test(c)&&!/!=/.test(c)){var i=b.call(a,c);if(i||!d||a.document&&11!==a.document.nodeType)return i}}catch(f){}return 0<o(c,null,null,[a]).length}}})();(function(){var a=f.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&
(u.order.splice(1,0,"CLASS"),u.find.CLASS=function(a,b,d){if("undefined"!=typeof b.getElementsByClassName&&!d)return b.getElementsByClassName(a[1])},a=null))})();f.documentElement.contains?o.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:f.documentElement.compareDocumentPosition?o.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:o.contains=function(){return!1};o.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var r=
function(a,b,d){for(var h,c=[],i="",b=b.nodeType?[b]:b;h=u.match.PSEUDO.exec(a);)i+=h[0],a=a.replace(u.match.PSEUDO,"");a=u.relative[a]?a+"*":a;h=0;for(var f=b.length;h<f;h++)o(a,b[h],c,d);return o.filter(i,c)};o.attr=b.attr;o.selectors.attrMap={};b.find=o;b.expr=o.selectors;b.expr[":"]=b.expr.filters;b.unique=o.uniqueSort;b.text=o.getText;b.isXMLDoc=o.isXML;b.contains=o.contains})();var jb=/Until$/,kb=/^(?:parents|prevUntil|prevAll)/,lb=/,/,bb=/^.[^:#\[\.,]*$/,mb=Array.prototype.slice,Ma=b.expr.match.globalPOS,
nb={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(a){var d=this,h,c;if("string"!=typeof a)return b(a).filter(function(){h=0;for(c=d.length;h<c;h++)if(b.contains(d[h],this))return!0});var f=this.pushStack("","find",a),k,e,l;h=0;for(c=this.length;h<c;h++)if(k=f.length,b.find(a,this[h],f),0<h)for(e=k;e<f.length;e++)for(l=0;l<k;l++)if(f[l]===f[e]){f.splice(e--,1);break}return f},has:function(a){var d=b(a);return this.filter(function(){for(var a=0,c=d.length;a<c;a++)if(b.contains(this,
d[a]))return!0})},not:function(a){return this.pushStack(ka(this,a,!1),"not",a)},filter:function(a){return this.pushStack(ka(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?Ma.test(a)?0<=b(a,this.context).index(this[0]):0<b.filter(a,this).length:0<this.filter(a).length)},closest:function(a,d){var h=[],c,f,k=this[0];if(b.isArray(a)){for(f=1;k&&k.ownerDocument&&k!==d;){for(c=0;c<a.length;c++)b(k).is(a[c])&&h.push({selector:a[c],elem:k,level:f});k=k.parentNode;f++}return h}var e=
Ma.test(a)||"string"!=typeof a?b(a,d||this.context):0;c=0;for(f=this.length;c<f;c++)for(k=this[c];k;){if(e?-1<e.index(k):b.find.matchesSelector(k,a)){h.push(k);break}k=k.parentNode;if(!k||!k.ownerDocument||k===d||11===k.nodeType)break}h=1<h.length?b.unique(h):h;return this.pushStack(h,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:"string"==typeof a?b.inArray(this[0],b(a)):b.inArray(a.jquery?a[0]:a,this)},add:function(a,d){var h="string"==typeof a?b(a,
d):b.makeArray(a&&a.nodeType?[a]:a),c=b.merge(this.get(),h);return this.pushStack(!h[0]||!h[0].parentNode||11===h[0].parentNode.nodeType||!c[0]||!c[0].parentNode||11===c[0].parentNode.nodeType?c:b.unique(c))},andSelf:function(){return this.add(this.prevObject)}});b.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return b.dir(a,"parentNode")},parentsUntil:function(a,d,h){return b.dir(a,"parentNode",h)},next:function(a){return b.nth(a,2,"nextSibling")},prev:function(a){return b.nth(a,
2,"previousSibling")},nextAll:function(a){return b.dir(a,"nextSibling")},prevAll:function(a){return b.dir(a,"previousSibling")},nextUntil:function(a,d,h){return b.dir(a,"nextSibling",h)},prevUntil:function(a,d,h){return b.dir(a,"previousSibling",h)},siblings:function(a){return b.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return b.sibling(a.firstChild)},contents:function(a){return b.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:b.makeArray(a.childNodes)}},function(a,
d){b.fn[a]=function(h,c){var f=b.map(this,d,h);jb.test(a)||(c=h);c&&"string"==typeof c&&(f=b.filter(c,f));f=1<this.length&&!nb[a]?b.unique(f):f;(1<this.length||lb.test(c))&&kb.test(a)&&(f=f.reverse());return this.pushStack(f,a,mb.call(arguments).join(","))}});b.extend({filter:function(a,d,h){h&&(a=":not("+a+")");return 1===d.length?b.find.matchesSelector(d[0],a)?[d[0]]:[]:b.find.matches(a,d)},dir:function(a,d,h){for(var c=[],a=a[d];a&&9!==a.nodeType&&(h===e||1!==a.nodeType||!b(a).is(h));)1===a.nodeType&&
c.push(a),a=a[d];return c},nth:function(a,b,h){for(var b=b||1,c=0;a&&!(1===a.nodeType&&++c===b);a=a[h]);return a},sibling:function(a,b){for(var h=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&h.push(a);return h}});var Fa="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ob=/ jQuery\d+="(?:\d+|null)"/g,za=/^\s+/,Na=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Oa=/<([\w:]+)/,
pb=/<tbody/i,qb=/<|&#?\w+;/,rb=/<(?:script|style)/i,sb=/<(?:script|object|embed|option|style)/i,Pa=RegExp("<(?:"+Fa+")[\\s/>]","i"),Qa=/checked\s*(?:[^=]|=\s*.checked.)/i,Ra=/\/(java|ecma)script/i,tb=/^\s*<!(?:\[CDATA\[|\-\-)/,K={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],
area:[1,"<map>","</map>"],_default:[0,"",""]},Aa=da(f);K.optgroup=K.option;K.tbody=K.tfoot=K.colgroup=K.caption=K.thead;K.th=K.td;b.support.htmlSerialize||(K._default=[1,"div<div>","</div>"]);b.fn.extend({text:function(a){return b.access(this,function(a){return a===e?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||f).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(b.isFunction(a))return this.each(function(d){b(this).wrapAll(a.call(this,d))});if(this[0]){var d=
b(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&d.insertBefore(this[0]);d.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return b.isFunction(a)?this.each(function(d){b(this).wrapInner(a.call(this,d))}):this.each(function(){var d=b(this),c=d.contents();c.length?c.wrapAll(a):d.append(a)})},wrap:function(a){var d=b.isFunction(a);return this.each(function(c){b(this).wrapAll(d?a.call(this,c):
a)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=
b.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,b.clean(arguments));return a}},remove:function(a,d){for(var c=0,i;null!=(i=this[c]);c++)if(!a||b.filter(a,[i]).length)!d&&1===i.nodeType&&(b.cleanData(i.getElementsByTagName("*")),
b.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i);return this},empty:function(){for(var a=0,d;null!=(d=this[a]);a++)for(1===d.nodeType&&b.cleanData(d.getElementsByTagName("*"));d.firstChild;)d.removeChild(d.firstChild);return this},clone:function(a,d){a=null==a?!1:a;d=null==d?a:d;return this.map(function(){return b.clone(this,a,d)})},html:function(a){return b.access(this,function(a){var c=this[0]||{},i=0,f=this.length;if(a===e)return 1===c.nodeType?c.innerHTML.replace(ob,""):null;if("string"==
typeof a&&!rb.test(a)&&(b.support.leadingWhitespace||!za.test(a))&&!K[(Oa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Na,"<$1></$2>");try{for(;i<f;i++)c=this[i]||{},1===c.nodeType&&(b.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(k){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(b.isFunction(a))return this.each(function(d){var c=b(this),i=c.html();c.replaceWith(a.call(this,d,i))});"string"!=typeof a&&(a=b(a).detach());
return this.each(function(){var d=this.nextSibling,c=this.parentNode;b(this).remove();d?b(d).before(a):b(c).append(a)})}return this.length?this.pushStack(b(b.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,d,c){var i,f,k,l=a[0],g=[];if(!b.support.checkClone&&3===arguments.length&&"string"==typeof l&&Qa.test(l))return this.each(function(){b(this).domManip(a,d,c,!0)});if(b.isFunction(l))return this.each(function(i){var f=b(this);a[0]=l.call(this,
i,d?f.html():e);f.domManip(a,d,c)});if(this[0]){k=l&&l.parentNode;b.support.parentNode&&k&&11===k.nodeType&&k.childNodes.length===this.length?i={fragment:k}:i=b.buildFragment(a,this,g);k=i.fragment;1===k.childNodes.length?f=k=k.firstChild:f=k.firstChild;if(f){d=d&&b.nodeName(f,"tr");f=0;for(var m=this.length,v=m-1;f<m;f++)c.call(d?b.nodeName(this[f],"table")?this[f].getElementsByTagName("tbody")[0]||this[f].appendChild(this[f].ownerDocument.createElement("tbody")):this[f]:this[f],i.cacheable||1<m&&
f<v?b.clone(k,!0,!0):k)}g.length&&b.each(g,function(a,d){d.src?b.ajax({type:"GET",global:!1,url:d.src,async:!1,dataType:"script"}):b.globalEval((d.text||d.textContent||d.innerHTML||"").replace(tb,"/*$0*/"));d.parentNode&&d.parentNode.removeChild(d)})}return this}});b.buildFragment=function(a,d,c){var i,k,e,l,g=a[0];d&&d[0]&&(l=d[0].ownerDocument||d[0]);l.createDocumentFragment||(l=f);1===a.length&&"string"==typeof g&&512>g.length&&l===f&&"<"===g.charAt(0)&&!sb.test(g)&&(b.support.checkClone||!Qa.test(g))&&
(b.support.html5Clone||!Pa.test(g))&&(k=!0,e=b.fragments[g],e&&1!==e&&(i=e));i||(i=l.createDocumentFragment(),b.clean(a,l,i,c));k&&(b.fragments[g]=e?i:1);return{fragment:i,cacheable:k}};b.fragments={};b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,d){b.fn[a]=function(c){var i=[],c=b(c),f=1===this.length&&this[0].parentNode;if(f&&11===f.nodeType&&1===f.childNodes.length&&1===c.length)return c[d](this[0]),this;for(var f=0,
k=c.length;f<k;f++){var e=(0<f?this.clone(!0):this).get();b(c[f])[d](e);i=i.concat(e)}return this.pushStack(i,a,c.selector)}});b.extend({clone:function(a,d,c){var i,k,e;b.support.html5Clone||b.isXMLDoc(a)||!Pa.test("<"+a.nodeName+">")?i=a.cloneNode(!0):(i=f.createElement("div"),Aa.appendChild(i),i.innerHTML=a.outerHTML,i=i.firstChild);var l=i;if((!b.support.noCloneEvent||!b.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!b.isXMLDoc(a)){E(a,l);i=T(a);k=T(l);for(e=0;i[e];++e)k[e]&&E(i[e],
k[e])}if(d&&(F(a,l),c)){i=T(a);k=T(l);for(e=0;i[e];++e)F(i[e],k[e])}return l},clean:function(a,d,c,i){var k,e=[],d=d||f;"undefined"==typeof d.createElement&&(d=d.ownerDocument||d[0]&&d[0].ownerDocument||f);for(var l=0,g;null!=(g=a[l]);l++)if("number"==typeof g&&(g+=""),g){if("string"==typeof g)if(qb.test(g)){g=g.replace(Na,"<$1></$2>");k=(Oa.exec(g)||["",""])[1].toLowerCase();var m=K[k]||K._default,v=m[0],o=d.createElement("div"),j=Aa.childNodes,s;d===f?Aa.appendChild(o):da(d).appendChild(o);for(o.innerHTML=
m[1]+g+m[2];v--;)o=o.lastChild;if(!b.support.tbody){v=pb.test(g);m="table"===k&&!v?o.firstChild&&o.firstChild.childNodes:"<table>"===m[1]&&!v?o.childNodes:[];for(k=m.length-1;0<=k;--k)b.nodeName(m[k],"tbody")&&!m[k].childNodes.length&&m[k].parentNode.removeChild(m[k])}!b.support.leadingWhitespace&&za.test(g)&&o.insertBefore(d.createTextNode(za.exec(g)[0]),o.firstChild);g=o.childNodes;o&&(o.parentNode.removeChild(o),0<j.length&&(s=j[j.length-1],s&&s.parentNode&&s.parentNode.removeChild(s)))}else g=
d.createTextNode(g);var u;if(!b.support.appendChecked)if(g[0]&&"number"==typeof(u=g.length))for(k=0;k<u;k++)ba(g[k]);else ba(g);g.nodeType?e.push(g):e=b.merge(e,g)}if(c){a=function(a){return!a.type||Ra.test(a.type)};for(l=0;e[l];l++)d=e[l],i&&b.nodeName(d,"script")&&(!d.type||Ra.test(d.type))?i.push(d.parentNode?d.parentNode.removeChild(d):d):(1===d.nodeType&&(g=b.grep(d.getElementsByTagName("script"),a),e.splice.apply(e,[l+1,0].concat(g))),c.appendChild(d))}return e},cleanData:function(a){for(var d,
c,i=b.cache,f=b.event.special,k=b.support.deleteExpando,e=0,l;null!=(l=a[e]);e++)if(!l.nodeName||!b.noData[l.nodeName.toLowerCase()])if(c=l[b.expando]){if((d=i[c])&&d.events){for(var g in d.events)f[g]?b.event.remove(l,g):b.removeEvent(l,g,d.handle);d.handle&&(d.handle.elem=null)}k?delete l[b.expando]:l.removeAttribute&&l.removeAttribute(b.expando);delete i[c]}}});var Ba=/alpha\([^)]*\)/i,ub=/opacity=([^)]*)/,vb=/([A-Z]|^ms)/g,wb=/^[\-+]?(?:\d*\.)?\d+$/i,va=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,xb=/^([\-+])=([\-+.\de]+)/,
yb=/^margin/,zb={position:"absolute",visibility:"hidden",display:"block"},aa=["Top","Right","Bottom","Left"],ja,Sa,Ta;b.fn.css=function(a,d){return b.access(this,function(a,d,c){return c!==e?b.style(a,d,c):b.css(a,d)},a,d,1<arguments.length)};b.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=ja(a,"opacity");return""===c?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?
"cssFloat":"styleFloat"},style:function(a,d,c,i){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,k=b.camelCase(d),l=a.style,g=b.cssHooks[k],d=b.cssProps[k]||k;if(c===e)return g&&"get"in g&&(f=g.get(a,!1,i))!==e?f:l[d];i=typeof c;"string"===i&&(f=xb.exec(c))&&(c=+(f[1]+1)*+f[2]+parseFloat(b.css(a,d)),i="number");if(!(null==c||"number"===i&&isNaN(c)))if("number"===i&&!b.cssNumber[k]&&(c+="px"),!g||!("set"in g)||(c=g.set(a,c))!==e)try{l[d]=c}catch(m){}}},css:function(a,d,c){var i,f,d=b.camelCase(d);
f=b.cssHooks[d];d=b.cssProps[d]||d;"cssFloat"===d&&(d="float");if(f&&"get"in f&&(i=f.get(a,!0,c))!==e)return i;if(ja)return ja(a,d)},swap:function(a,b,c){var i={},f;for(f in b)i[f]=a.style[f],a.style[f]=b[f];c=c.call(a);for(f in b)a.style[f]=i[f];return c}});b.curCSS=b.css;f.defaultView&&f.defaultView.getComputedStyle&&(Sa=function(a,d){var c,f,k,e,l=a.style,d=d.replace(vb,"-$1").toLowerCase();(f=a.ownerDocument.defaultView)&&(k=f.getComputedStyle(a,null))&&(c=k.getPropertyValue(d),""===c&&!b.contains(a.ownerDocument.documentElement,
a)&&(c=b.style(a,d)));!b.support.pixelMargin&&k&&yb.test(d)&&va.test(c)&&(e=l.width,l.width=c,c=k.width,l.width=e);return c});f.documentElement.currentStyle&&(Ta=function(a,b){var c,f,k,e=a.currentStyle&&a.currentStyle[b],l=a.style;null==e&&l&&(k=l[b])&&(e=k);va.test(e)&&(c=l.left,f=a.runtimeStyle&&a.runtimeStyle.left,f&&(a.runtimeStyle.left=a.currentStyle.left),l.left="fontSize"===b?"1em":e,e=l.pixelLeft+"px",l.left=c,f&&(a.runtimeStyle.left=f));return""===e?"auto":e});ja=Sa||Ta;b.each(["height",
"width"],function(a,d){b.cssHooks[d]={get:function(a,c,f){if(c)return 0!==a.offsetWidth?Z(a,d,f):b.swap(a,zb,function(){return Z(a,d,f)})},set:function(a,b){return wb.test(b)?b+"px":b}}});b.support.opacity||(b.cssHooks.opacity={get:function(a,b){return ub.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,d){var c=a.style,f=a.currentStyle,k=b.isNumeric(d)?"alpha(opacity="+100*d+")":"",e=f&&f.filter||c.filter||"";c.zoom=1;if(!(1<=
d&&""===b.trim(e.replace(Ba,""))&&(c.removeAttribute("filter"),f&&!f.filter)))c.filter=Ba.test(e)?e.replace(Ba,k):e+" "+k}});b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(a,d){return b.swap(a,{display:"inline-block"},function(){return d?ja(a,"margin-right"):a.style.marginRight})}})});b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(a){var d=a.offsetHeight;return 0===a.offsetWidth&&0===d||!b.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||
b.css(a,"display"))},b.expr.filters.visible=function(a){return!b.expr.filters.hidden(a)});b.each({margin:"",padding:"",border:"Width"},function(a,d){b.cssHooks[a+d]={expand:function(b){for(var c="string"==typeof b?b.split(" "):[b],f={},b=0;4>b;b++)f[a+aa[b]+d]=c[b]||c[b-2]||c[0];return f}}});var Ab=/%20/g,ab=/\[\]$/,Ua=/\r?\n/g,Bb=/#.*$/,Cb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Db=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Eb=/^(?:GET|HEAD)$/,
Fb=/^\/\//,Va=/\?/,Gb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Hb=/^(?:select|textarea)/i,Ea=/\s+/,Ib=/([?&])_=[^&]*/,Wa=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Xa=b.fn.load,ua={},Ya={},ga,ha,Za=["*/"]+["*"];try{ga=s.href}catch(Ob){ga=f.createElement("a"),ga.href="",ga=ga.href}ha=Wa.exec(ga.toLowerCase())||[];b.fn.extend({load:function(a,d,c){if("string"!=typeof a&&Xa)return Xa.apply(this,arguments);if(!this.length)return this;var f=a.indexOf(" ");if(0<=f)var k=a.slice(f,a.length),
a=a.slice(0,f);f="GET";d&&(b.isFunction(d)?(c=d,d=e):"object"==typeof d&&(d=b.param(d,b.ajaxSettings.traditional),f="POST"));var l=this;b.ajax({url:a,type:f,dataType:"html",data:d,complete:function(a,d,f){f=a.responseText;a.isResolved()&&(a.done(function(a){f=a}),l.html(k?b("<div>").append(f.replace(Gb,"")).find(k):f));c&&l.each(c,[f,d,a])}});return this},serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?b.makeArray(this.elements):
this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Hb.test(this.nodeName)||Db.test(this.type))}).map(function(a,d){var c=b(this).val();return null==c?null:b.isArray(c)?b.map(c,function(a){return{name:d.name,value:a.replace(Ua,"\r\n")}}):{name:d.name,value:c.replace(Ua,"\r\n")}}).get()}});b.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(a,d){b.fn[d]=function(a){return this.on(d,a)}});b.each(["get","post"],function(a,d){b[d]=function(a,
c,f,k){b.isFunction(c)&&(k=k||f,f=c,c=e);return b.ajax({type:d,url:a,data:c,success:f,dataType:k})}});b.extend({getScript:function(a,d){return b.get(a,e,d,"script")},getJSON:function(a,d,c){return b.get(a,d,c,"json")},ajaxSetup:function(a,d){d?R(a,b.ajaxSettings):(d=a,a=b.ajaxSettings);R(a,d);return a},ajaxSettings:{url:ga,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ha[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,
async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Za},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":c.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:U(ua),ajaxTransport:U(Ya),ajax:function(a,d){function c(a,d,h,j){if(2!==w){w=2;n&&clearTimeout(n);p=e;u=j||"";r.readyState=0<a?4:
0;var s,B,C,j=d;if(h){var A=f,z=r,O=A.contents,Q=A.dataTypes,Ga=A.responseFields,x,G,S,ea;for(G in Ga)G in h&&(z[Ga[G]]=h[G]);for(;"*"===Q[0];)Q.shift(),x===e&&(x=A.mimeType||z.getResponseHeader("content-type"));if(x)for(G in O)if(O[G]&&O[G].test(x)){Q.unshift(G);break}if(Q[0]in h)S=Q[0];else{for(G in h){if(!Q[0]||A.converters[G+" "+Q[0]]){S=G;break}ea||(ea=G)}S=S||ea}S?(S!==Q[0]&&Q.unshift(S),h=h[S]):h=void 0}else h=e;if(200<=a&&300>a||304===a){if(f.ifModified){if(x=r.getResponseHeader("Last-Modified"))b.lastModified[o]=
x;if(x=r.getResponseHeader("Etag"))b.etag[o]=x}if(304===a)j="notmodified",s=!0;else try{x=f;x.dataFilter&&(h=x.dataFilter(h,x.dataType));var X=x.dataTypes;G={};var E,H,cb=X.length,K,D=X[0],L,R,F,J,M;for(E=1;E<cb;E++){if(1===E)for(H in x.converters)"string"==typeof H&&(G[H.toLowerCase()]=x.converters[H]);L=D;D=X[E];if("*"===D)D=L;else if("*"!==L&&L!==D){R=L+" "+D;F=G[R]||G["* "+D];if(!F)for(J in M=e,G)if(K=J.split(" "),K[0]===L||"*"===K[0])if(M=G[K[1]+" "+D]){J=G[J];!0===J?F=M:!0===M&&(F=J);break}!F&&
!M&&b.error("No conversion from "+R.replace(" "," to "));!0!==F&&(h=F?F(h):M(J(h)))}}B=h;j="success";s=!0}catch(qa){j="parsererror",C=qa}}else if(C=j,!j||a)j="error",0>a&&(a=0);r.status=a;r.statusText=""+(d||j);s?g.resolveWith(k,[B,j,r]):g.rejectWith(k,[r,j,C]);r.statusCode(v);v=e;N&&l.trigger("ajax"+(s?"Success":"Error"),[r,f,s?B:C]);m.fireWith(k,[r,j]);N&&(l.trigger("ajaxComplete",[r,f]),--b.active||b.event.trigger("ajaxStop"))}}"object"==typeof a&&(d=a,a=e);var d=d||{},f=b.ajaxSetup({},d),k=f.context||
f,l=k!==f&&(k.nodeType||k instanceof b)?b(k):b.event,g=b.Deferred(),m=b.Callbacks("once memory"),v=f.statusCode||{},o,j={},s={},u,B,p,n,C,w=0,N,A,r={readyState:0,setRequestHeader:function(a,b){if(!w){var d=a.toLowerCase(),a=s[d]=s[d]||a;j[a]=b}return this},getAllResponseHeaders:function(){return 2===w?u:null},getResponseHeader:function(a){var b;if(2===w){if(!B)for(B={};b=Cb.exec(u);)B[b[1].toLowerCase()]=b[2];b=B[a.toLowerCase()]}return b===e?null:b},overrideMimeType:function(a){w||(f.mimeType=a);
return this},abort:function(a){a=a||"abort";p&&p.abort(a);c(0,a);return this}};g.promise(r);r.success=r.done;r.error=r.fail;r.complete=m.add;r.statusCode=function(a){if(a){var b;if(2>w)for(b in a)v[b]=[v[b],a[b]];else b=a[r.status],r.then(b,b)}return this};f.url=((a||f.url)+"").replace(Bb,"").replace(Fb,ha[1]+"//");f.dataTypes=b.trim(f.dataType||"*").toLowerCase().split(Ea);null==f.crossDomain&&(C=Wa.exec(f.url.toLowerCase()),f.crossDomain=!(!C||C[1]==ha[1]&&C[2]==ha[2]&&(C[3]||("http:"===C[1]?80:
443))==(ha[3]||("http:"===ha[1]?80:443))));f.data&&f.processData&&"string"!=typeof f.data&&(f.data=b.param(f.data,f.traditional));D(ua,f,d,r);if(2===w)return!1;N=f.global;f.type=f.type.toUpperCase();f.hasContent=!Eb.test(f.type);N&&0===b.active++&&b.event.trigger("ajaxStart");if(!f.hasContent&&(f.data&&(f.url+=(Va.test(f.url)?"&":"?")+f.data,delete f.data),o=f.url,!1===f.cache)){C=b.now();var z=f.url.replace(Ib,"$1_="+C);f.url=z+(z===f.url?(Va.test(f.url)?"&":"?")+"_="+C:"")}(f.data&&f.hasContent&&
!1!==f.contentType||d.contentType)&&r.setRequestHeader("Content-Type",f.contentType);f.ifModified&&(o=o||f.url,b.lastModified[o]&&r.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&r.setRequestHeader("If-None-Match",b.etag[o]));r.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Za+"; q=0.01":""):f.accepts["*"]);for(A in f.headers)r.setRequestHeader(A,f.headers[A]);if(f.beforeSend&&(!1===f.beforeSend.call(k,r,
f)||2===w))return r.abort(),!1;for(A in{success:1,error:1,complete:1})r[A](f[A]);if(p=D(Ya,f,d,r)){r.readyState=1;N&&l.trigger("ajaxSend",[r,f]);f.async&&0<f.timeout&&(n=setTimeout(function(){r.abort("timeout")},f.timeout));try{w=1,p.send(j,c)}catch(O){if(2>w)c(-1,O);else throw O;}}else c(-1,"No Transport");return r},param:function(a,d){var c=[],f=function(a,d){d=b.isFunction(d)?d():d;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(d)};d===e&&(d=b.ajaxSettings.traditional);if(b.isArray(a)||
a.jquery&&!b.isPlainObject(a))b.each(a,function(){f(this.name,this.value)});else for(var k in a)H(k,a[k],d,f);return c.join("&").replace(Ab,"+")}});b.extend({active:0,lastModified:{},etag:{}});var Jb=b.now(),ra=/(\=)\?(&|$)|\?\?/i;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return b.expando+"_"+Jb++}});b.ajaxPrefilter("json jsonp",function(a,d,f){d="string"==typeof a.data&&/^application\/x\-www\-form\-urlencoded/.test(a.contentType);if("jsonp"===a.dataTypes[0]||!1!==a.jsonp&&(ra.test(a.url)||
d&&ra.test(a.data))){var k,e=a.jsonpCallback=b.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,l=c[e],g=a.url,m=a.data,v="$1"+e+"$2";!1!==a.jsonp&&(g=g.replace(ra,v),a.url===g&&(d&&(m=m.replace(ra,v)),a.data===m&&(g+=(/\?/.test(g)?"&":"?")+a.jsonp+"="+e)));a.url=g;a.data=m;c[e]=function(a){k=[a]};f.always(function(){c[e]=l;k&&b.isFunction(l)&&c[e](k[0])});a.converters["script json"]=function(){k||b.error(e+" was not called");return k[0]};a.dataTypes[0]="json";return"script"}});b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){b.globalEval(a);return a}}});b.ajaxPrefilter("script",function(a){a.cache===e&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});b.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=f.head||f.getElementsByTagName("head")[0]||f.documentElement;return{send:function(k,l){b=f.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,
f){if(f||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,c&&b.parentNode&&c.removeChild(b),b=e,f||l(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var Ca=c.ActiveXObject?function(){for(var a in ma)ma[a](0,1)}:!1,Kb=0,ma;b.ajaxSettings.xhr=c.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&p()))a:{try{a=new c.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:p;(function(a){b.extend(b.support,{ajax:!!a,
cors:!!a&&"withCredentials"in a})})(b.ajaxSettings.xhr());b.support.ajax&&b.ajaxTransport(function(a){if(!a.crossDomain||b.support.cors){var d;return{send:function(f,k){var l=a.xhr(),g,m;a.username?l.open(a.type,a.url,a.async,a.username,a.password):l.open(a.type,a.url,a.async);if(a.xhrFields)for(m in a.xhrFields)l[m]=a.xhrFields[m];a.mimeType&&l.overrideMimeType&&l.overrideMimeType(a.mimeType);!a.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]="XMLHttpRequest");try{for(m in f)l.setRequestHeader(m,
f[m])}catch(v){}l.send(a.hasContent&&a.data||null);d=function(c,f){var h,m,v,o,j;try{if(d&&(f||4===l.readyState))if(d=e,g&&(l.onreadystatechange=b.noop,Ca&&delete ma[g]),f)4!==l.readyState&&l.abort();else{h=l.status;v=l.getAllResponseHeaders();o={};(j=l.responseXML)&&j.documentElement&&(o.xml=j);try{o.text=l.responseText}catch(s){}try{m=l.statusText}catch(u){m=""}!h&&a.isLocal&&!a.crossDomain?h=o.text?200:404:1223===h&&(h=204)}}catch(B){f||k(-1,B)}o&&k(h,m,o,v)};!a.async||4===l.readyState?d():(g=
++Kb,Ca&&(ma||(ma={},b(c).unload(Ca)),ma[g]=d),l.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ta={},L,ia,Lb=/^(?:toggle|show|hide)$/,Mb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,sa,oa=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],pa;b.fn.extend({show:function(a,d,c){var f;if(a||0===a)return this.animate(r("show",3),a,d,c);d=0;for(c=this.length;d<c;d++)a=this[d],a.style&&(f=a.style.display,!b._data(a,
"olddisplay")&&"none"===f&&(f=a.style.display=""),(""===f&&"none"===b.css(a,"display")||!b.contains(a.ownerDocument.documentElement,a))&&b._data(a,"olddisplay",n(a.nodeName)));for(d=0;d<c;d++)if(a=this[d],a.style&&(f=a.style.display,""===f||"none"===f))a.style.display=b._data(a,"olddisplay")||"";return this},hide:function(a,d,c){if(a||0===a)return this.animate(r("hide",3),a,d,c);for(var f,d=0,c=this.length;d<c;d++)a=this[d],a.style&&(f=b.css(a,"display"),"none"!==f&&!b._data(a,"olddisplay")&&b._data(a,
"olddisplay",f));for(d=0;d<c;d++)this[d].style&&(this[d].style.display="none");return this},_toggle:b.fn.toggle,toggle:function(a,d,c){var f="boolean"==typeof a;b.isFunction(a)&&b.isFunction(d)?this._toggle.apply(this,arguments):null==a||f?this.each(function(){var d=f?a:b(this).is(":hidden");b(this)[d?"show":"hide"]()}):this.animate(r("toggle",3),a,d,c);return this},fadeTo:function(a,b,c,f){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,f)},animate:function(a,
d,c,f){function k(){!1===e.queue&&b._mark(this);var d=b.extend({},e),c=1===this.nodeType,f=c&&b(this).is(":hidden"),h,i,l,g,m,v,o,j,s;d.animatedProperties={};for(l in a)if(h=b.camelCase(l),l!==h&&(a[h]=a[l],delete a[l]),(i=b.cssHooks[h])&&"expand"in i)for(l in g=i.expand(a[h]),delete a[h],g)l in a||(a[l]=g[l]);for(h in a){i=a[h];b.isArray(i)?(d.animatedProperties[h]=i[1],i=a[h]=i[0]):d.animatedProperties[h]=d.specialEasing&&d.specialEasing[h]||d.easing||"swing";if("hide"===i&&f||"show"===i&&!f)return d.complete.call(this);
c&&("height"===h||"width"===h)&&(d.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===b.css(this,"display")&&"none"===b.css(this,"float")&&(!b.support.inlineBlockNeedsLayout||"inline"===n(this.nodeName)?this.style.display="inline-block":this.style.zoom=1))}null!=d.overflow&&(this.style.overflow="hidden");for(l in a)c=new b.fx(this,d,l),i=a[l],Lb.test(i)?(s=b._data(this,"toggle"+l)||("toggle"===i?f?"show":"hide":0),s?(b._data(this,"toggle"+l,"show"===s?"hide":"show"),
c[s]()):c[i]()):(m=Mb.exec(i),v=c.cur(),m?(o=parseFloat(m[2]),j=m[3]||(b.cssNumber[l]?"":"px"),"px"!==j&&(b.style(this,l,(o||1)+j),v*=(o||1)/c.cur(),b.style(this,l,v+j)),m[1]&&(o=("-="===m[1]?-1:1)*o+v),c.custom(v,o,j)):c.custom(v,i,""));return!0}var e=b.speed(d,c,f);if(b.isEmptyObject(a))return this.each(e.complete,[!1]);a=b.extend({},a);return!1===e.queue?this.each(k):this.queue(e.queue,k)},stop:function(a,d,c){"string"!=typeof a&&(c=d,d=a,a=e);d&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var d,
f=!1,k=b.timers,e=b._data(this);c||b._unmark(!0,this);if(null==a)for(d in e){if(e[d]&&e[d].stop&&d.indexOf(".run")===d.length-4){var l=e[d];b.removeData(this,d,!0);l.stop(c)}}else if(e[d=a+".run"]&&e[d].stop)e=e[d],b.removeData(this,d,!0),e.stop(c);for(d=k.length;d--;)k[d].elem===this&&(null==a||k[d].queue===a)&&(c?k[d](!0):k[d].saveState(),f=!0,k.splice(d,1));(!c||!f)&&b.dequeue(this,a)})}});b.each({slideDown:r("show",1),slideUp:r("hide",1),slideToggle:r("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(a,d){b.fn[a]=function(a,b,c){return this.animate(d,a,b,c)}});b.extend({speed:function(a,d,c){var f=a&&"object"==typeof a?b.extend({},a):{complete:c||!c&&d||b.isFunction(a)&&a,duration:a,easing:c&&d||d&&!b.isFunction(d)&&d};f.duration=b.fx.off?0:"number"==typeof f.duration?f.duration:f.duration in b.fx.speeds?b.fx.speeds[f.duration]:b.fx.speeds._default;if(null==f.queue||!0===f.queue)f.queue="fx";f.old=f.complete;f.complete=function(a){b.isFunction(f.old)&&f.old.call(this);
f.queue?b.dequeue(this,f.queue):!1!==a&&b._unmark(this)};return f},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+0.5}},timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig=b.orig||{}}});b.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(b.fx.step[this.prop]||b.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];
var a,d=b.css(this.elem,this.prop);return isNaN(a=parseFloat(d))?!d||"auto"===d?0:d:a},custom:function(a,d,c){function f(a){return k.step(a)}var k=this,l=b.fx;this.startTime=pa||w();this.end=d;this.now=this.start=a;this.pos=this.state=0;this.unit=c||this.unit||(b.cssNumber[this.prop]?"":"px");f.queue=this.options.queue;f.elem=this.elem;f.saveState=function(){b._data(k.elem,"fxshow"+k.prop)===e&&(k.options.hide?b._data(k.elem,"fxshow"+k.prop,k.start):k.options.show&&b._data(k.elem,"fxshow"+k.prop,
k.end))};f()&&b.timers.push(f)&&!sa&&(sa=setInterval(l.tick,l.interval))},show:function(){var a=b._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||b.style(this.elem,this.prop);this.options.show=!0;a!==e?this.custom(this.cur(),a):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur());b(this.elem).show()},hide:function(){this.options.orig[this.prop]=b._data(this.elem,"fxshow"+this.prop)||b.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var d,
c,f=pa||w(),k=!0,e=this.elem,l=this.options;if(a||f>=l.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();l.animatedProperties[this.prop]=!0;for(d in l.animatedProperties)!0!==l.animatedProperties[d]&&(k=!1);if(k){null!=l.overflow&&!b.support.shrinkWrapBlocks&&b.each(["","X","Y"],function(a,b){e.style["overflow"+b]=l.overflow[a]});l.hide&&b(e).hide();if(l.hide||l.show)for(d in l.animatedProperties)b.style(e,d,l.orig[d]),b.removeData(e,"fxshow"+d,!0),b.removeData(e,"toggle"+
d,!0);(a=l.complete)&&(l.complete=!1,a.call(e))}return!1}Infinity==l.duration?this.now=f:(c=f-this.startTime,this.state=c/l.duration,this.pos=b.easing[l.animatedProperties[this.prop]](this.state,c,0,1,l.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}};b.extend(b.fx,{tick:function(){for(var a,d=b.timers,c=0;c<d.length;c++)a=d[c],!a()&&d[c]===a&&d.splice(c--,1);d.length||b.fx.stop()},interval:13,stop:function(){clearInterval(sa);sa=null},speeds:{slow:600,fast:200,
_default:400},step:{opacity:function(a){b.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});b.each(oa.concat.apply([],oa),function(a,d){d.indexOf("margin")&&(b.fx.step[d]=function(a){b.style(a.elem,d,Math.max(0,a.now)+a.unit)})});b.expr&&b.expr.filters&&(b.expr.filters.animated=function(a){return b.grep(b.timers,function(b){return a===b.elem}).length});var Da,Nb=/^t(?:able|d|h)$/i,$a=/^(?:body|html)$/i;
"getBoundingClientRect"in f.documentElement?Da=function(a,d,c,f){try{f=a.getBoundingClientRect()}catch(k){}if(!f||!b.contains(c,a))return f?{top:f.top,left:f.left}:{top:0,left:0};a=d.body;d=j(d);return{top:f.top+(d.pageYOffset||b.support.boxModel&&c.scrollTop||a.scrollTop)-(c.clientTop||a.clientTop||0),left:f.left+(d.pageXOffset||b.support.boxModel&&c.scrollLeft||a.scrollLeft)-(c.clientLeft||a.clientLeft||0)}}:Da=function(a,d,c){var f,k=a.offsetParent,e=d.body;f=(d=d.defaultView)?d.getComputedStyle(a,
null):a.currentStyle;for(var l=a.offsetTop,g=a.offsetLeft;(a=a.parentNode)&&a!==e&&a!==c&&!(b.support.fixedPosition&&"fixed"===f.position);)f=d?d.getComputedStyle(a,null):a.currentStyle,l-=a.scrollTop,g-=a.scrollLeft,a===k&&(l+=a.offsetTop,g+=a.offsetLeft,b.support.doesNotAddBorder&&(!b.support.doesAddBorderForTableAndCells||!Nb.test(a.nodeName))&&(l+=parseFloat(f.borderTopWidth)||0,g+=parseFloat(f.borderLeftWidth)||0),k=a.offsetParent),b.support.subtractsBorderForOverflowNotVisible&&"visible"!==
f.overflow&&(l+=parseFloat(f.borderTopWidth)||0,g+=parseFloat(f.borderLeftWidth)||0);if("relative"===f.position||"static"===f.position)l+=e.offsetTop,g+=e.offsetLeft;b.support.fixedPosition&&"fixed"===f.position&&(l+=Math.max(c.scrollTop,e.scrollTop),g+=Math.max(c.scrollLeft,e.scrollLeft));return{top:l,left:g}};b.fn.offset=function(a){if(arguments.length)return a===e?this:this.each(function(d){b.offset.setOffset(this,a,d)});var d=this[0],c=d&&d.ownerDocument;return!c?null:d===c.body?b.offset.bodyOffset(d):
Da(d,c,c.documentElement)};b.offset={bodyOffset:function(a){var d=a.offsetTop,c=a.offsetLeft;b.support.doesNotIncludeMarginInBodyOffset&&(d+=parseFloat(b.css(a,"marginTop"))||0,c+=parseFloat(b.css(a,"marginLeft"))||0);return{top:d,left:c}},setOffset:function(a,d,c){var f=b.css(a,"position");"static"===f&&(a.style.position="relative");var k=b(a),e=k.offset(),l=b.css(a,"top"),g=b.css(a,"left"),m={},v={},o,j;("absolute"===f||"fixed"===f)&&-1<b.inArray("auto",[l,g])?(v=k.position(),o=v.top,j=v.left):
(o=parseFloat(l)||0,j=parseFloat(g)||0);b.isFunction(d)&&(d=d.call(a,c,e));null!=d.top&&(m.top=d.top-e.top+o);null!=d.left&&(m.left=d.left-e.left+j);"using"in d?d.using.call(a,m):k.css(m)}};b.fn.extend({position:function(){if(!this[0])return null;var a=this[0],d=this.offsetParent(),c=this.offset(),f=$a.test(d[0].nodeName)?{top:0,left:0}:d.offset();c.top-=parseFloat(b.css(a,"marginTop"))||0;c.left-=parseFloat(b.css(a,"marginLeft"))||0;f.top+=parseFloat(b.css(d[0],"borderTopWidth"))||0;f.left+=parseFloat(b.css(d[0],
"borderLeftWidth"))||0;return{top:c.top-f.top,left:c.left-f.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||f.body;a&&!$a.test(a.nodeName)&&"static"===b.css(a,"position");)a=a.offsetParent;return a})}});b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,d){var c=/Y/.test(d);b.fn[a]=function(f){return b.access(this,function(a,f,k){var l=j(a);if(k===e)return l?d in l?l[d]:b.support.boxModel&&l.document.documentElement[f]||l.document.body[f]:a[f];
l?l.scrollTo(c?b(l).scrollLeft():k,c?k:b(l).scrollTop()):a[f]=k},a,f,arguments.length,null)}});b.each({Height:"height",Width:"width"},function(a,d){var c="client"+a,f="scroll"+a,k="offset"+a;b.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(b.css(a,d,"padding")):this[d]():null};b.fn["outer"+a]=function(a){var c=this[0];return c?c.style?parseFloat(b.css(c,d,a?"margin":"border")):this[d]():null};b.fn[d]=function(a){return b.access(this,function(a,d,l){if(b.isWindow(a))return d=a.document,
a=d.documentElement[c],b.support.boxModel&&a||d.body&&d.body[c]||a;if(9===a.nodeType)return d=a.documentElement,d[c]>=d[f]?d[c]:Math.max(a.body[f],d[f],a.body[k],d[k]);if(l===e)return a=b.css(a,d),d=parseFloat(a),b.isNumeric(d)?d:a;b(a).css(d,l)},d,a,arguments.length,null)}});c.jQuery=c.$=b;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})})(window);
(function(){var c=this,e=c._,j={},n=Array.prototype,r=Object.prototype,z=n.push,w=n.slice,p=n.concat,H=r.toString,R=r.hasOwnProperty,D=n.forEach,U=n.map,Z=n.reduce,ba=n.reduceRight,ca=n.filter,T=n.every,E=n.some,F=n.indexOf,da=n.lastIndexOf,r=Array.isArray,ka=Object.keys,J=Function.prototype.bind,g=function(b){if(b instanceof g)return b;if(!(this instanceof g))return new g(b);this._wrapped=b};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=g),exports._=
g):c._=g;g.VERSION="1.4.2";var x=g.each=g.forEach=function(b,c,f){if(null!=b)if(D&&b.forEach===D)b.forEach(c,f);else if(b.length===+b.length)for(var e=0,m=b.length;e<m&&c.call(f,b[e],e,b)!==j;e++);else for(e in b)if(g.has(b,e)&&c.call(f,b[e],e,b)===j)break};g.map=g.collect=function(b,c,f){var e=[];if(null==b)return e;if(U&&b.map===U)return b.map(c,f);x(b,function(b,k,g){e[e.length]=c.call(f,b,k,g)});return e};g.reduce=g.foldl=g.inject=function(b,c,f,e){var m=2<arguments.length;null==b&&(b=[]);if(Z&&
b.reduce===Z)return e&&(c=g.bind(c,e)),m?b.reduce(c,f):b.reduce(c);x(b,function(b,k,g){m?f=c.call(e,f,b,k,g):(f=b,m=!0)});if(!m)throw new TypeError("Reduce of empty array with no initial value");return f};g.reduceRight=g.foldr=function(b,c,f,e){var m=2<arguments.length;null==b&&(b=[]);if(ba&&b.reduceRight===ba)return e&&(c=g.bind(c,e)),m?b.reduceRight(c,f):b.reduceRight(c);var j=b.length;if(j!==+j)var s=g.keys(b),j=s.length;x(b,function(g,u,p){u=s?s[--j]:--j;m?f=c.call(e,f,b[u],u,p):(f=b[u],m=!0)});
if(!m)throw new TypeError("Reduce of empty array with no initial value");return f};g.find=g.detect=function(b,c,f){var e;V(b,function(b,k,g){if(c.call(f,b,k,g))return e=b,!0});return e};g.filter=g.select=function(b,c,f){var e=[];if(null==b)return e;if(ca&&b.filter===ca)return b.filter(c,f);x(b,function(b,k,g){c.call(f,b,k,g)&&(e[e.length]=b)});return e};g.reject=function(b,c,f){return g.filter(b,function(b,k,e){return!c.call(f,b,k,e)},f)};g.every=g.all=function(b,c,f){c||(c=g.identity);var e=!0;if(null==
b)return e;if(T&&b.every===T)return b.every(c,f);x(b,function(b,k,g){if(!(e=e&&c.call(f,b,k,g)))return j});return!!e};var V=g.some=g.any=function(b,c,f){c||(c=g.identity);var e=!1;if(null==b)return e;if(E&&b.some===E)return b.some(c,f);x(b,function(b,k,g){if(e||(e=c.call(f,b,k,g)))return j});return!!e};g.contains=g.include=function(b,c){return null==b?!1:F&&b.indexOf===F?-1!=b.indexOf(c):V(b,function(b){return b===c})};g.invoke=function(b,c){var f=w.call(arguments,2);return g.map(b,function(b){return(g.isFunction(c)?
c:b[c]).apply(b,f)})};g.pluck=function(b,c){return g.map(b,function(b){return b[c]})};g.where=function(b,c){return g.isEmpty(c)?[]:g.filter(b,function(b){for(var f in c)if(g.has(c,f)&&c[f]!==b[f])return!1;return!0})};g.max=function(b,c,f){if(!c&&g.isArray(b)&&b[0]===+b[0]&&65535>b.length)return Math.max.apply(Math,b);if(!c&&g.isEmpty(b))return-Infinity;var e={computed:-Infinity,value:-Infinity};x(b,function(b,k,g){k=c?c.call(f,b,k,g):b;k>=e.computed&&(e={value:b,computed:k})});return e.value};g.min=
function(b,c,f){if(!c&&g.isArray(b)&&b[0]===+b[0]&&65535>b.length)return Math.min.apply(Math,b);if(!c&&g.isEmpty(b))return Infinity;var e={computed:Infinity,value:Infinity};x(b,function(b,k,g){k=c?c.call(f,b,k,g):b;k<e.computed&&(e={value:b,computed:k})});return e.value};g.shuffle=function(b){var c,f=0,e=[];x(b,function(b){c=g.random(f++);e[f-1]=e[c];e[c]=b});return e};var W=function(b){return g.isFunction(b)?b:function(c){return c[b]}};g.sortBy=function(b,c,f){var e=W(c);return g.pluck(g.map(b,function(b,
c,k){return{value:b,index:c,criteria:e.call(f,b,c,k)}}).sort(function(b,c){var f=b.criteria,k=c.criteria;if(f!==k){if(f>k||void 0===f)return 1;if(f<k||void 0===k)return-1}return b.index<c.index?-1:1}),"value")};var fa=function(b,c,f,e){var g={},m=W(c);x(b,function(c,l){var j=m.call(f,c,l,b);e(g,j,c)});return g};g.groupBy=function(b,c,f){return fa(b,c,f,function(b,c,f){(g.has(b,c)?b[c]:b[c]=[]).push(f)})};g.countBy=function(b,c,f){return fa(b,c,f,function(b,c){g.has(b,c)||(b[c]=0);b[c]++})};g.sortedIndex=
function(b,c,f,e){for(var f=null==f?g.identity:W(f),c=f.call(e,c),m=0,j=b.length;m<j;){var s=m+j>>>1;f.call(e,b[s])<c?m=s+1:j=s}return m};g.toArray=function(b){return!b?[]:b.length===+b.length?w.call(b):g.values(b)};g.size=function(b){return null==b?0:b.length===+b.length?b.length:g.keys(b).length};g.first=g.head=g.take=function(b,c,f){return null==b?void 0:null!=c&&!f?w.call(b,0,c):b[0]};g.initial=function(b,c,f){return w.call(b,0,b.length-(null==c||f?1:c))};g.last=function(b,c,f){return null==b?
void 0:null!=c&&!f?w.call(b,Math.max(b.length-c,0)):b[b.length-1]};g.rest=g.tail=g.drop=function(b,c,f){return w.call(b,null==c||f?1:c)};g.compact=function(b){return g.filter(b,function(b){return!!b})};var f=function(b,c,e){x(b,function(b){g.isArray(b)?c?z.apply(e,b):f(b,c,e):e.push(b)});return e};g.flatten=function(b,c){return f(b,c,[])};g.without=function(b){return g.difference(b,w.call(arguments,1))};g.uniq=g.unique=function(b,c,f,e){g.isFunction(c)&&(e=f,f=c,c=!1);var f=f?g.map(b,f,e):b,m=[],
j=[];x(f,function(f,e){if(c?!e||j[j.length-1]!==f:!g.contains(j,f)){j.push(f);m.push(b[e])}});return m};g.union=function(){return g.uniq(p.apply(n,arguments))};g.intersection=function(b){var c=w.call(arguments,1);return g.filter(g.uniq(b),function(b){return g.every(c,function(c){return 0<=g.indexOf(c,b)})})};g.difference=function(b){var c=p.apply(n,w.call(arguments,1));return g.filter(b,function(b){return!g.contains(c,b)})};g.zip=function(){for(var b=w.call(arguments),c=g.max(g.pluck(b,"length")),
f=Array(c),e=0;e<c;e++)f[e]=g.pluck(b,""+e);return f};g.object=function(b,c){if(null==b)return{};for(var f={},e=0,g=b.length;e<g;e++)c?f[b[e]]=c[e]:f[b[e][0]]=b[e][1];return f};g.indexOf=function(b,c,f){if(null==b)return-1;var e=0,m=b.length;if(f)if("number"==typeof f)e=0>f?Math.max(0,m+f):f;else return e=g.sortedIndex(b,c),b[e]===c?e:-1;if(F&&b.indexOf===F)return b.indexOf(c,f);for(;e<m;e++)if(b[e]===c)return e;return-1};g.lastIndexOf=function(b,c,f){if(null==b)return-1;var e=null!=f;if(da&&b.lastIndexOf===
da)return e?b.lastIndexOf(c,f):b.lastIndexOf(c);for(f=e?f:b.length;f--;)if(b[f]===c)return f;return-1};g.range=function(b,c,f){1>=arguments.length&&(c=b||0,b=0);for(var f=arguments[2]||1,e=Math.max(Math.ceil((c-b)/f),0),g=0,m=Array(e);g<e;)m[g++]=b,b+=f;return m};var m=function(){};g.bind=function(b,c){var f,e;if(b.bind===J&&J)return J.apply(b,w.call(arguments,1));if(!g.isFunction(b))throw new TypeError;e=w.call(arguments,2);return f=function(){if(!(this instanceof f))return b.apply(c,e.concat(w.call(arguments)));
m.prototype=b.prototype;var g=new m,j=b.apply(g,e.concat(w.call(arguments)));return Object(j)===j?j:g}};g.bindAll=function(b){var c=w.call(arguments,1);0==c.length&&(c=g.functions(b));x(c,function(c){b[c]=g.bind(b[c],b)});return b};g.memoize=function(b,c){var f={};c||(c=g.identity);return function(){var e=c.apply(this,arguments);return g.has(f,e)?f[e]:f[e]=b.apply(this,arguments)}};g.delay=function(b,c){var f=w.call(arguments,2);return setTimeout(function(){return b.apply(null,f)},c)};g.defer=function(b){return g.delay.apply(g,
[b,1].concat(w.call(arguments,1)))};g.throttle=function(b,c){var f,e,g,m,j=0,s=function(){j=new Date;g=null;m=b.apply(f,e)};return function(){var u=new Date,p=c-(u-j);f=this;e=arguments;0>=p?(clearTimeout(g),j=u,m=b.apply(f,e)):g||(g=setTimeout(s,p));return m}};g.debounce=function(b,c,f){var e,g;return function(){var m=this,j=arguments,s=f&&!e;clearTimeout(e);e=setTimeout(function(){e=null;f||(g=b.apply(m,j))},c);s&&(g=b.apply(m,j));return g}};g.once=function(b){var c=!1,f;return function(){if(c)return f;
c=!0;f=b.apply(this,arguments);b=null;return f}};g.wrap=function(b,c){return function(){var f=[b];z.apply(f,arguments);return c.apply(this,f)}};g.compose=function(){var b=arguments;return function(){for(var c=arguments,f=b.length-1;0<=f;f--)c=[b[f].apply(this,c)];return c[0]}};g.after=function(b,c){return 0>=b?c():function(){if(1>--b)return c.apply(this,arguments)}};g.keys=ka||function(b){if(b!==Object(b))throw new TypeError("Invalid object");var c=[],f;for(f in b)g.has(b,f)&&(c[c.length]=f);return c};
g.values=function(b){var c=[],f;for(f in b)g.has(b,f)&&c.push(b[f]);return c};g.pairs=function(b){var c=[],f;for(f in b)g.has(b,f)&&c.push([f,b[f]]);return c};g.invert=function(b){var c={},f;for(f in b)g.has(b,f)&&(c[b[f]]=f);return c};g.functions=g.methods=function(b){var c=[],f;for(f in b)g.isFunction(b[f])&&c.push(f);return c.sort()};g.extend=function(b){x(w.call(arguments,1),function(c){for(var f in c)b[f]=c[f]});return b};g.pick=function(b){var c={},f=p.apply(n,w.call(arguments,1));x(f,function(f){f in
b&&(c[f]=b[f])});return c};g.omit=function(b){var c={},f=p.apply(n,w.call(arguments,1)),e;for(e in b)g.contains(f,e)||(c[e]=b[e]);return c};g.defaults=function(b){x(w.call(arguments,1),function(c){for(var f in c)null==b[f]&&(b[f]=c[f])});return b};g.clone=function(b){return!g.isObject(b)?b:g.isArray(b)?b.slice():g.extend({},b)};g.tap=function(b,c){c(b);return b};var s=function(b,c,f,e){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;b instanceof g&&(b=b._wrapped);c instanceof g&&
(c=c._wrapped);var m=H.call(b);if(m!=H.call(c))return!1;switch(m){case "[object String]":return b==""+c;case "[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case "[object Date]":case "[object Boolean]":return+b==+c;case "[object RegExp]":return b.source==c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||"object"!=typeof c)return!1;for(var j=f.length;j--;)if(f[j]==b)return e[j]==c;f.push(b);e.push(c);var j=0,u=!0;if("[object Array]"==
m){if(j=b.length,u=j==c.length)for(;j--&&(u=s(b[j],c[j],f,e)););}else{var m=b.constructor,p=c.constructor;if(m!==p&&(!g.isFunction(m)||!(m instanceof m&&g.isFunction(p)&&p instanceof p)))return!1;for(var n in b)if(g.has(b,n)&&(j++,!(u=g.has(c,n)&&s(b[n],c[n],f,e))))break;if(u){for(n in c)if(g.has(c,n)&&!j--)break;u=!j}}f.pop();e.pop();return u};g.isEqual=function(b,c){return s(b,c,[],[])};g.isEmpty=function(b){if(null==b)return!0;if(g.isArray(b)||g.isString(b))return 0===b.length;for(var c in b)if(g.has(b,
c))return!1;return!0};g.isElement=function(b){return!!(b&&1===b.nodeType)};g.isArray=r||function(b){return"[object Array]"==H.call(b)};g.isObject=function(b){return b===Object(b)};x("Arguments,Function,String,Number,Date,RegExp".split(","),function(b){g["is"+b]=function(c){return H.call(c)=="[object "+b+"]"}});g.isArguments(arguments)||(g.isArguments=function(b){return!(!b||!g.has(b,"callee"))});"function"!==typeof/./&&(g.isFunction=function(b){return"function"===typeof b});g.isFinite=function(b){return isFinite(b)&&
!isNaN(parseFloat(b))};g.isNaN=function(b){return g.isNumber(b)&&b!=+b};g.isBoolean=function(b){return!0===b||!1===b||"[object Boolean]"==H.call(b)};g.isNull=function(b){return null===b};g.isUndefined=function(b){return void 0===b};g.has=function(b,c){return R.call(b,c)};g.noConflict=function(){c._=e;return this};g.identity=function(b){return b};g.times=function(b,c,f){for(var e=0;e<b;e++)c.call(f,e)};g.random=function(b,c){null==c&&(c=b,b=0);return b+(0|Math.random()*(c-b+1))};var b={escape:{"&":"&amp;",
"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};b.unescape=g.invert(b.escape);var u={escape:RegExp("["+g.keys(b.escape).join("")+"]","g"),unescape:RegExp("("+g.keys(b.unescape).join("|")+")","g")};g.each(["escape","unescape"],function(c){g[c]=function(f){return null==f?"":(""+f).replace(u[c],function(f){return b[c][f]})}});g.result=function(b,c){if(null==b)return null;var f=b[c];return g.isFunction(f)?f.call(b):f};g.mixin=function(b){x(g.functions(b),function(c){var f=g[c]=b[c];g.prototype[c]=
function(){var b=[this._wrapped];z.apply(b,arguments);b=f.apply(g,b);return this._chain?g(b).chain():b}})};var A=0;g.uniqueId=function(b){var c=A++;return b?b+c:c};g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Q=/(.)^/,ea={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\t|\u2028|\u2029/g;g.template=function(b,c,f){var f=g.defaults({},f,g.templateSettings),e=RegExp([(f.escape||Q).source,(f.interpolate||
Q).source,(f.evaluate||Q).source].join("|")+"|$","g"),m=0,j="__p+='";b.replace(e,function(c,f,e,g,l){j+=b.slice(m,l).replace(X,function(b){return"\\"+ea[b]});j+=f?"'+\n((__t=("+f+"))==null?'':_.escape(__t))+\n'":e?"'+\n((__t=("+e+"))==null?'':__t)+\n'":g?"';\n"+g+"\n__p+='":"";m=l+c.length});j+="';\n";f.variable||(j="with(obj||{}){\n"+j+"}\n");j="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+j+"return __p;\n";try{var s=new Function(f.variable||"obj","_",
j)}catch(u){throw u.source=j,u;}if(c)return s(c,g);c=function(b){return s.call(this,b,g)};c.source="function("+(f.variable||"obj")+"){\n"+j+"}";return c};g.chain=function(b){return g(b).chain()};g.mixin(g);x("pop,push,reverse,shift,sort,splice,unshift".split(","),function(b){var c=n[b];g.prototype[b]=function(){var f=this._wrapped;c.apply(f,arguments);(b=="shift"||b=="splice")&&f.length===0&&delete f[0];return this._chain?g(f).chain():f}});x(["concat","join","slice"],function(b){var c=n[b];g.prototype[b]=
function(){var b=c.apply(this._wrapped,arguments);return this._chain?g(b).chain():b}});g.extend(g.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);
(function(){var c=this,e=c.Backbone,j=Array.prototype,n=j.push,r=j.slice,z=j.splice,w;w="undefined"!==typeof exports?exports:c.Backbone={};w.VERSION="0.9.2";var p=c._;!p&&"undefined"!==typeof require&&(p=require("underscore"));w.$=c.jQuery||c.Zepto||c.ender;w.noConflict=function(){c.Backbone=e;return this};w.emulateHTTP=!1;w.emulateJSON=!1;var H=/\s+/,j=w.Events={on:function(c,e,g){var b,j;if(!e)return this;c=c.split(H);for(b=this._callbacks||(this._callbacks={});j=c.shift();)j=b[j]||(b[j]=[]),j.push(e,
g);return this},off:function(c,e,g){var b,j,n;if(!(j=this._callbacks))return this;if(!c&&!e&&!g)return delete this._callbacks,this;for(c=c?c.split(H):p.keys(j);b=c.shift();)if(!(n=j[b])||!e&&!g)delete j[b];else for(b=n.length-2;0<=b;b-=2)e&&n[b]!==e||g&&n[b+1]!==g||n.splice(b,2);return this},trigger:function(c){var e,g,b,j,p,n,r;if(!(g=this._callbacks))return this;r=[];c=c.split(H);j=1;for(p=arguments.length;j<p;j++)r[j-1]=arguments[j];for(;e=c.shift();){if(n=g.all)n=n.slice();if(b=g[e])b=b.slice();
if(b){j=0;for(p=b.length;j<p;j+=2)b[j].apply(b[j+1]||this,r)}if(n){e=[e].concat(r);j=0;for(p=n.length;j<p;j+=2)n[j].apply(n[j+1]||this,e)}}return this}};j.bind=j.on;j.unbind=j.off;var R=w.Model=function(c,e){var g,b=c||{};e&&e.collection&&(this.collection=e.collection);this.attributes={};this._escapedAttributes={};this.cid=p.uniqueId("c");this.changed={};this._changes={};this._pending={};e&&e.parse&&(b=this.parse(b));if(g=p.result(this,"defaults"))b=p.extend({},g,b);this.set(b,{silent:!0});this.changed=
{};this._changes={};this._pending={};this._previousAttributes=p.clone(this.attributes);this.initialize.apply(this,arguments)};p.extend(R.prototype,j,{changed:null,_changes:null,_pending:null,_changing:null,idAttribute:"id",initialize:function(){},toJSON:function(){return p.clone(this.attributes)},sync:function(){return w.sync.apply(this,arguments)},get:function(c){return this.attributes[c]},escape:function(c){var e;if(e=this._escapedAttributes[c])return e;e=this.get(c);return this._escapedAttributes[c]=
p.escape(null==e?"":""+e)},has:function(c){return null!=this.get(c)},set:function(c,e,g){var b,j;if(null==c)return this;p.isObject(c)?(j=c,g=e):(j={})[c]=e;var c=g&&g.silent,n=g&&g.unset;j instanceof R&&(j=j.attributes);if(n)for(b in j)j[b]=void 0;if(!this._validate(j,g))return!1;this.idAttribute in j&&(this.id=j[this.idAttribute]);var r=this._changing,w=this.attributes,z=this._escapedAttributes,k=this._previousAttributes||{};for(b in j){e=j[b];if(!p.isEqual(w[b],e)||n&&p.has(w,b))delete z[b],this._changes[b]=
!0;n?delete w[b]:w[b]=e;!p.isEqual(k[b],e)||p.has(w,b)!==p.has(k,b)?(this.changed[b]=e,c||(this._pending[b]=!0)):(delete this.changed[b],delete this._pending[b],r||delete this._changes[b]);r&&p.isEqual(w[b],r[b])&&delete this._changes[b]}c||this.change(g);return this},unset:function(c,e){e=p.extend({},e,{unset:!0});return this.set(c,null,e)},clear:function(c){c=p.extend({},c,{unset:!0});return this.set(p.clone(this.attributes),c)},fetch:function(c){var c=c?p.clone(c):{},e=this,g=c.success;c.success=
function(b,j,n){if(!e.set(e.parse(b,n),c))return!1;g&&g(e,b,c)};return this.sync("read",this,c)},save:function(c,e,g){var b,j,n;null==c||p.isObject(c)?(b=c,g=e):null!=c&&((b={})[c]=e);g=g?p.clone(g):{};if(g.wait){if(!this._validate(b,g))return!1;j=p.clone(this.attributes)}c=p.extend({},g,{silent:!0});if(b&&!this.set(b,g.wait?c:g)||!b&&!this._validate(null,g))return!1;var r=this,w=g.success;g.success=function(c,f,e){n=!0;f=r.parse(c,e);g.wait&&(f=p.extend(b||{},f));if(!r.set(f,g))return!1;w&&w(r,c,
g)};e=this.sync(this.isNew()?"create":"update",this,g);!n&&g.wait&&(this.clear(c),this.set(j,c));return e},destroy:function(c){var c=c?p.clone(c):{},e=this,g=c.success,b=function(){e.trigger("destroy",e,e.collection,c)};c.success=function(j){(c.wait||e.isNew())&&b();g&&g(e,j,c)};if(this.isNew())return c.success(),!1;var j=this.sync("delete",this,c);c.wait||b();return j},url:function(){var c=p.result(this,"urlRoot")||p.result(this.collection,"url")||fa();return this.isNew()?c:c+("/"===c.charAt(c.length-
1)?"":"/")+encodeURIComponent(this.id)},parse:function(c){return c},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(c){var e=this._changing,g=this._changing={},b;for(b in this._changes)this._pending[b]=!0;var j=this._changes;this._changes={};var n=[];for(b in j)g[b]=this.get(b),n.push(b);for(var j=0,r=n.length;j<r;j++)this.trigger("change:"+n[j],this,g[n[j]],c);if(e)return this;for(;!p.isEmpty(this._pending);){this._pending={};
this.trigger("change",this,c);for(b in this.changed)!this._pending[b]&&!this._changes[b]&&delete this.changed[b];this._previousAttributes=p.clone(this.attributes)}this._changing=null;return this},hasChanged:function(c){return null==c?!p.isEmpty(this.changed):p.has(this.changed,c)},changedAttributes:function(c){if(!c)return this.hasChanged()?p.clone(this.changed):!1;var e,g=!1,b=this._previousAttributes,j;for(j in c)if(!p.isEqual(b[j],e=c[j]))(g||(g={}))[j]=e;return g},previous:function(c){return null==
c||!this._previousAttributes?null:this._previousAttributes[c]},previousAttributes:function(){return p.clone(this._previousAttributes)},isValid:function(c){return!this.validate||!this.validate(this.attributes,c)},_validate:function(c,e){if(e&&e.silent||!this.validate)return!0;var c=p.extend({},this.attributes,c),g=this.validate(c,e);if(!g)return!0;e&&e.error&&e.error(this,g,e);this.trigger("error",this,g,e);return!1}});var D=w.Collection=function(c,e){e||(e={});e.model&&(this.model=e.model);void 0!==
e.comparator&&(this.comparator=e.comparator);this._reset();this.initialize.apply(this,arguments);c&&(e.parse&&(c=this.parse(c)),this.reset(c,{silent:!0,parse:e.parse}))};p.extend(D.prototype,j,{model:R,initialize:function(){},toJSON:function(c){return this.map(function(e){return e.toJSON(c)})},sync:function(){return w.sync.apply(this,arguments)},add:function(c,e){var g,b,j,r=e&&e.at,c=p.isArray(c)?c.slice():[c];g=0;for(b=c.length;g<b;g++)if(!(c[g]=this._prepareModel(c[g],e)))throw Error("Can't add an invalid model to a collection");
for(g=c.length-1;0<=g;g--)b=c[g],(j=null!=b.id&&this._byId[b.id])||this._byCid[b.cid]?(e&&e.merge&&j&&j.set(b,e),c.splice(g,1)):(b.on("all",this._onModelEvent,this),this._byCid[b.cid]=b,null!=b.id&&(this._byId[b.id]=b));this.length+=c.length;g=[null!=r?r:this.models.length,0];n.apply(g,c);z.apply(this.models,g);this.comparator&&null==r&&this.sort({silent:!0});if(e&&e.silent)return this;for(;b=c.shift();)b.trigger("add",b,this,e);return this},remove:function(c,e){var g,b,j,n;e||(e={});c=p.isArray(c)?
c.slice():[c];g=0;for(b=c.length;g<b;g++)if(n=this.getByCid(c[g])||this.get(c[g]))delete this._byId[n.id],delete this._byCid[n.cid],j=this.indexOf(n),this.models.splice(j,1),this.length--,e.silent||(e.index=j,n.trigger("remove",n,this,e)),this._removeReference(n);return this},push:function(c,e){c=this._prepareModel(c,e);this.add(c,e);return c},pop:function(c){var e=this.at(this.length-1);this.remove(e,c);return e},unshift:function(c,e){c=this._prepareModel(c,e);this.add(c,p.extend({at:0},e));return c},
shift:function(c){var e=this.at(0);this.remove(e,c);return e},slice:function(c,e){return this.models.slice(c,e)},get:function(c){return null==c?void 0:this._byId[null!=c.id?c.id:c]},getByCid:function(c){return c&&this._byCid[c.cid||c]},at:function(c){return this.models[c]},where:function(c){return p.isEmpty(c)?[]:this.filter(function(e){for(var g in c)if(c[g]!==e.get(g))return!1;return!0})},sort:function(c){if(!this.comparator)throw Error("Cannot sort a set without a comparator");p.isString(this.comparator)||
1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(p.bind(this.comparator,this));(!c||!c.silent)&&this.trigger("reset",this,c);return this},pluck:function(c){return p.invoke(this.models,"get",c)},reset:function(c,e){for(var g=0,b=this.models.length;g<b;g++)this._removeReference(this.models[g]);this._reset();c&&this.add(c,p.extend({silent:!0},e));(!e||!e.silent)&&this.trigger("reset",this,e);return this},fetch:function(c){c=c?p.clone(c):{};void 0===c.parse&&(c.parse=
!0);var e=this,g=c.success;c.success=function(b,j,n){e[c.add?"add":"reset"](e.parse(b,n),c);g&&g(e,b,c)};return this.sync("read",this,c)},create:function(c,e){var g=this,e=e?p.clone(e):{},c=this._prepareModel(c,e);if(!c)return!1;e.wait||g.add(c,e);var b=e.success;e.success=function(c,f,e){e.wait&&g.add(c,e);b&&b(c,f,e)};c.save(null,e);return c},parse:function(c){return c},clone:function(){return new this.constructor(this.models)},chain:function(){return p(this.models).chain()},_reset:function(){this.length=
0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(c,e){if(c instanceof R)return c.collection||(c.collection=this),c;e||(e={});e.collection=this;var g=new this.model(c,e);return!g._validate(g.attributes,e)?!1:g},_removeReference:function(c){this===c.collection&&delete c.collection;c.off("all",this._onModelEvent,this)},_onModelEvent:function(c,e,g,b){("add"===c||"remove"===c)&&g!==this||("destroy"===c&&this.remove(e,b),e&&c==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],
null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});p.each("forEach,each,map,collect,reduce,foldl,inject,reduceRight,foldr,find,detect,filter,select,reject,every,all,some,any,include,contains,invoke,max,min,sortedIndex,toArray,size,first,head,take,initial,rest,tail,last,without,indexOf,shuffle,lastIndexOf,isEmpty".split(","),function(c){D.prototype[c]=function(){var e=r.call(arguments);e.unshift(this.models);return p[c].apply(p,e)}});p.each(["groupBy","countBy","sortBy"],function(c){D.prototype[c]=
function(e,g){var b=p.isFunction(e)?e:function(b){return b.get(e)};return p[c](this.models,b,g)}});var U=w.Router=function(c){c||(c={});c.routes&&(this.routes=c.routes);this._bindRoutes();this.initialize.apply(this,arguments)},Z=/\((.*?)\)/g,ba=/:\w+/g,ca=/\*\w+/g,T=/[-{}[\]+?.,\\^$|#\s]/g;p.extend(U.prototype,j,{initialize:function(){},route:function(c,e,g){p.isRegExp(c)||(c=this._routeToRegExp(c));g||(g=this[e]);w.history.route(c,p.bind(function(b){b=this._extractParameters(c,b);g&&g.apply(this,
b);this.trigger.apply(this,["route:"+e].concat(b));w.history.trigger("route",this,e,b)},this));return this},navigate:function(c,e){w.history.navigate(c,e);return this},_bindRoutes:function(){if(this.routes)for(var c,e=p.keys(this.routes);null!=(c=e.pop());)this.route(c,this.routes[c])},_routeToRegExp:function(c){c=c.replace(T,"\\$&").replace(Z,"(?:$1)?").replace(ba,"([^/]+)").replace(ca,"(.*?)");return RegExp("^"+c+"$")},_extractParameters:function(c,e){return c.exec(e).slice(1)}});var E=w.History=
function(){this.handlers=[];p.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},F=/^[#\/]|\s+$/,da=/^\/+|\/+$/g,ka=/msie [\w.]+/,J=/\/$/;E.started=!1;p.extend(E.prototype,j,{interval:50,getHash:function(c){return(c=(c||this).location.href.match(/#(.*)$/))?c[1]:""},getFragment:function(c,e){if(null==c)if(this._hasPushState||!this._wantsHashChange||e){var c=this.location.pathname,g=this.root.replace(J,"");c.indexOf(g)||(c=c.substr(g.length))}else c=
this.getHash();return decodeURIComponent(c.replace(F,""))},start:function(c){if(E.started)throw Error("Backbone.history has already been started");E.started=!0;this.options=p.extend({},{root:"/"},this.options,c);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);var c=this.getFragment(),e=document.documentMode,e=ka.exec(navigator.userAgent.toLowerCase())&&
(!e||7>=e);this.root=("/"+this.root+"/").replace(da,"/");e&&this._wantsHashChange&&(this.iframe=w.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(c));this._hasPushState?w.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!e?w.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=c;c=this.location;e=c.pathname.replace(/[^\/]$/,
"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!e)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&e&&c.hash&&(this.fragment=this.getHash().replace(F,""),this.history.replaceState({},document.title,this.root+this.fragment+c.search));if(!this.options.silent)return this.loadUrl()},stop:function(){w.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",
this.checkUrl);clearInterval(this._checkUrlInterval);E.started=!1},route:function(c,e){this.handlers.unshift({route:c,callback:e})},checkUrl:function(){var c=this.getFragment();c===this.fragment&&this.iframe&&(c=this.getFragment(this.getHash(this.iframe)));if(c===this.fragment)return!1;this.iframe&&this.navigate(c);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(c){var e=this.fragment=this.getFragment(c);return p.any(this.handlers,function(c){if(c.route.test(e))return c.callback(e),
!0})},navigate:function(c,e){if(!E.started)return!1;if(!e||!0===e)e={trigger:e};c=this.getFragment(c||"");if(this.fragment!==c){this.fragment=c;var g=this.root+c;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,g);else if(this._wantsHashChange)this._updateHash(this.location,c,e.replace),this.iframe&&c!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,c,e.replace));else return this.location.assign(g);
e.trigger&&this.loadUrl(c)}},_updateHash:function(c,e,g){g?(g=c.href.replace(/(javascript:|#).*$/,""),c.replace(g+"#"+e)):c.hash="#"+e}});w.history=new E;var g=w.View=function(c){this.cid=p.uniqueId("view");this._configure(c||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},x=/^(\S+)\s*(.*)$/,V="model,collection,el,id,attributes,className,tagName".split(",");p.extend(g.prototype,j,{tagName:"div",$:function(c){return this.$el.find(c)},initialize:function(){},render:function(){return this},
dispose:function(){this.undelegateEvents();this.model&&this.model.off&&this.model.off(null,null,this);this.collection&&this.collection.off&&this.collection.off(null,null,this);return this},remove:function(){this.dispose();this.$el.remove();return this},make:function(c,e,g){c=document.createElement(c);e&&w.$(c).attr(e);null!=g&&w.$(c).html(g);return c},setElement:function(c,e){this.$el&&this.undelegateEvents();this.$el=c instanceof w.$?c:w.$(c);this.el=this.$el[0];!1!==e&&this.delegateEvents();return this},
delegateEvents:function(c){if(c||(c=p.result(this,"events"))){this.undelegateEvents();for(var e in c){var g=c[e];p.isFunction(g)||(g=this[c[e]]);if(!g)throw Error('Method "'+c[e]+'" does not exist');var b=e.match(x),j=b[1],b=b[2],g=p.bind(g,this),j=j+(".delegateEvents"+this.cid);""===b?this.$el.bind(j,g):this.$el.delegate(b,j,g)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(c){this.options&&(c=p.extend({},this.options,c));p.extend(this,p.pick(c,V));
this.options=c},_ensureElement:function(){if(this.el)this.setElement(p.result(this,"el"),!1);else{var c=p.extend({},p.result(this,"attributes"));this.id&&(c.id=p.result(this,"id"));this.className&&(c["class"]=p.result(this,"className"));this.setElement(this.make(p.result(this,"tagName"),c),!1)}}});var W={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};w.sync=function(c,e,g){var b=W[c];p.defaults(g||(g={}),{emulateHTTP:w.emulateHTTP,emulateJSON:w.emulateJSON});var j={type:b,dataType:"json"};
g.url||(j.url=p.result(e,"url")||fa());if(!g.data&&e&&("create"===c||"update"===c))j.contentType="application/json",j.data=JSON.stringify(e);g.emulateJSON&&(j.contentType="application/x-www-form-urlencoded",j.data=j.data?{model:j.data}:{});if(g.emulateHTTP&&("PUT"===b||"DELETE"===b)){j.type="POST";g.emulateJSON&&(j.data._method=b);var n=g.beforeSend;g.beforeSend=function(c){c.setRequestHeader("X-HTTP-Method-Override",b);if(n)return n.apply(this,arguments)}}"GET"!==j.type&&!g.emulateJSON&&(j.processData=
!1);var r=g.success;g.success=function(b,c,f){r&&r(b,c,f);e.trigger("sync",e,b,g)};var z=g.error;g.error=function(b){z&&z(e,b,g);e.trigger("error",e,b,g)};return w.ajax(p.extend(j,g))};w.ajax=function(){return w.$.ajax.apply(w.$,arguments)};R.extend=D.extend=U.extend=g.extend=E.extend=function(c,e){var g=this,b;b=c&&p.has(c,"constructor")?c.constructor:function(){g.apply(this,arguments)};p.extend(b,g,e);var j=function(){this.constructor=b};j.prototype=g.prototype;b.prototype=new j;c&&p.extend(b.prototype,
c);b.__super__=g.prototype;return b};var fa=function(){throw Error('A "url" property or function must be specified');}}).call(this);DefaceitHome=window.DefaceitHome||!1;Defaceit=window.Defaceit||{};Defaceit.wait=function(c,e,j,n){var j=j||this,n=n||[],r=setInterval(function(){if(0<Defaceit.load.wait.length)for(var z=0;z<Defaceit.load.wait.length;z++)if("Ok"!=Defaceit.load.wait[z])return;window[c]&&(e.call(j,n),clearInterval(r))},100)};
Defaceit.load={wait:[],js:function(c){alert(c);var e=document.createElement("script");e.setAttribute("src",c);document.getElementsByTagName("head")[0].appendChild(e)},css:function(c){var e=document.createElement("link");e.rel="stylesheet";e.type="text/css";e.href=c;document.getElementsByTagName("head")[0].appendChild(e)},image:function(c){alert(c);this.wait=this.wait||[];var e=this.wait.length,j=document.createElement("img");j.src=c;this.wait[e]=c;document.getElementsByTagName("head")[0].appendChild(j);
var n=this;j.onload=function(){n.wait[e]="Ok"}}};Defaceit.extend=function(c,e){var j=function(){this.initialize.apply(this,arguments)};j.prototype=_.extend({},c.prototype,e);j.prototype.parent=c.prototype;return j};Defaceit.merge=function(c,e){return jQuery.merge(c,e)};Defaceit.request=function(c){var e=document.createElement("script");e.setAttribute("src",c);document.getElementsByTagName("head")[0].appendChild(e)};callbacks=[];
function request(c){var e=document.createElement("script");e.setAttribute("src",c);document.getElementsByTagName("head")[0].appendChild(e)}function defaceit(c){callback=callbacks[0];callback[0].call(callback[1],c)}Defaceit.Model=Backbone.Model.extend({status:function(c,e){if(c)this.myStatus=c,(void 0===e||e)&&this.trigger("status:change");else return this.myStatus}});
String.prototype.translit=function(){var c={"\ufffd":"A","\ufffd":"a","\ufffd":"B","\ufffd":"b","\ufffd":"V","\ufffd":"v","\ufffd":"G","\ufffd":"g","\ufffd":"D","\ufffd":"d","\ufffd":"E","\ufffd":"e","\ufffd":"Yo","\ufffd":"yo","\ufffd":"Zh","\ufffd":"zh","\ufffd":"Z","\ufffd":"z","\ufffd":"I","\ufffd":"i","\ufffd":"Y","\ufffd":"y","\ufffd":"K","\ufffd":"k","\ufffd":"L","\ufffd":"l","\ufffd":"M","\ufffd":"m","\ufffd":"N","\ufffd":"n","\ufffd":"O","\ufffd":"o","\ufffd":"P","\ufffd":"p","\ufffd":"R",
"\ufffd":"r","\ufffd":"S","\ufffd":"s","\ufffd":"T","\ufffd":"t","\ufffd":"U","\ufffd":"u","\ufffd":"F","\ufffd":"f","\ufffd":"Kh","\ufffd":"kh","\ufffd":"Ts","\ufffd":"ts","\ufffd":"Ch","\ufffd":"ch","\ufffd":"Sh","\ufffd":"sh","\ufffd":"Sch","\ufffd":"sch","\ufffd":"","\ufffd":"","\ufffd":"Y","\ufffd":"y","\ufffd":"","\ufffd":"","\ufffd":"E","\ufffd":"e","\ufffd":"Yu","\ufffd":"yu","\ufffd":"Ya","\ufffd":"ya"," ":"-",_:"-",'"':"","'":"",".":"",",":"","!":"",":":"",";":""},e="",j;for(j in c)e+=j;
e=RegExp("["+e+"]","g");j=function(e){return e in c?c[e]:""};return function(){for(var c=this.replace(e,j).replace(" ","-").toString(),r="",z=0;z<c.length;z++)-1!="QqWwEeRrTtYyUuIiOoPpAaSsDdFfGgHhJjKkLlZzXxCcVvBbNnMm-0123456789".indexOf(c.charAt(z))&&(r+=c.charAt(z));return r}}();Defaceit.CrossDomainRequest=function(c){this.url=c;this.create_iframe();this.create_form(c)};
Defaceit.CrossDomainRequest.prototype={create_iframe:function(){if(!document.getElementById("coaframe")){var c=document.createElement("iframe");c.name="coaframe";c.style.visibility="hidden";c.style.position="absolute";c.style.left=c.style.top="0px";c.height=width="1px";c.id="coaframe";document.getElementsByTagName("body")[0].appendChild(c)}},create_form:function(c){var e=document.getElementById("coaform");if(e){for(;e.firstChild;)e.removeChild(e.firstChild);this.form=e}else e=this.form=document.createElement("form"),
e.style.display="none",e.id="coaform",e.enctype="multipart/form-data",e.method="POST",e.action=c,e.target="coaframe",e.setAttribute("target","coaframe"),document.body.appendChild(e)},add:function(c,e){var j=document.createElement("input");j.type="hidden";j.name=c;j.value=e;this.form.appendChild(j)},request:function(c,e){this.form.submit();var j=setInterval(function(){""!=location.hash&&"#none"!=location.hash&&(c.call(e,location.hash),location.hash="none",clearInterval(j))},200)}};
Defaceit.Screen={border:10,height:function(){return jQuery(window).height()},width:function(){return jQuery(window).width()},scroll_top:function(){return jQuery(window).scrollTop()}};Defaceit.Session=function(c){this.resource=c};Defaceit.Session.prototype={sign_in:!1,check_status:function(c){this.sign_in=!0;request(this.resource+"/show",function(e){null==e.data.key&&(this.sign_in=!1);this.data=e.data;c.call(this)},this)},signed_in:function(){return this.key?!0:!1}};
Defaceit.Display={width:function(){return jQuery(window).width()},height:function(){return jQuery(window).height()}};
Defaceit.Window||(Defaceit.Window={},Defaceit.Window.Simple=function(c){this.initialize(c)},Defaceit.Window.Simple.create=function(c){return new Defaceit.Window.Simple(c)},Defaceit.Window.Simple.prototype={wnd_handler:null,wnd_container:null,content_handler:null,config:{},initialize:function(c){c=this.configure(c);this.create_window();this.apply_title(c.title);this.apply_content(c.content);this.apply_buttons(c.buttons);this.modify(c.geometry)},configure:function(c){this.config=c||{};this.config.plugins=
this.config.plugins||{};this.config.geometry=this.config.geometry||[];this.config.buttons=this.config.buttons||[];return this.config},modify:function(c){if(!c||!c.length)return!1;for(var e=0;e<c.length;e++){var j=c[e],n=j.split(":"),j=n[0],n=1<n.length?n.slice(1):[];jQuery.isFunction(j)&&j.call(this)||this[j]&&this[j].apply(this,n)}},position:function(c,e){this.config.pX=c||this.config.pX;this.config.pY=e||this.config.pY;this.wnd_handler.css({left:this.config.pX,top:this.config.pY})},create_window:function(){(this.wnd_handler=
jQuery("<div>")).addClass("dtWindow").appendTo("body");(this.wnd_container=jQuery("<div>")).addClass("dtWindowContainer").appendTo(this.wnd_handler)},apply_title:function(c){if(!c)return!1;this.title=c;c=jQuery("<div>").html(c).addClass("dtWindowTitle");c.appendTo(this.wnd_container)},apply_content:function(c){if(!c)return!1;this.content=c;return this.content_handler&&this.content_handler.html(this.content)||(this.content_handler=jQuery("<div>").addClass("dtWindowContent").html(c).appendTo(this.wnd_container))},
apply_buttons:function(c){function e(c){var e=jQuery("<a>").attr("href","#").addClass("dtWindowButton").html(c.text);c.handler&&e.click(function(){c.handler.call(n);return!1});c.text&&e.attr("value",c.text);return e}if(!c||!c.length)return!1;for(var j=this.button_handler=jQuery("<div>").addClass("dtWindowButtons"),n=this,r=0;r<c.length;r++)j.append(e(c[r]));j.appendTo(this.wnd_container)},hide:function(){this.wnd_handler.hide()},show:function(){this.wnd_handler.show()},width:function(c){this.config.width=
parseInt(c||this.config.width);this.config.width&&this.wnd_handler.css({width:this.config.width})},height:function(c){this.config.height=parseInt(c||this.config.height);this.config.height&&this.wnd_handler.css({height:this.config.height})},fit_to_screen:function(){this.height(Defaceit.Screen.height()-2*Defaceit.Screen.border);this.width(Defaceit.Screen.width()-2*Defaceit.Screen.border);this.wnd_container.css({height:this.wnd_handler.height()-40,padding:20});var c=this.button_handler?this.button_handler.height():
0;this.content_handler.css({height:this.wnd_container.height()-c})},size:function(){this.wnd_container.css({width:this.width,height:this.height})},center:function(){this.config.pX=Math.floor(Defaceit.Screen.width()/2-this.wnd_handler.width()/2);this.config.pY=Math.floor(Defaceit.Screen.height()/2-this.wnd_handler.height()/2);this.position()},deltaXY:function(c,e){c=parseInt(c||0);e=parseInt(e||0);this.config.pX+=c;this.config.pY+=e;this.position()},top:function(){this.config.pY=Defaceit.Screen.border;
this.position()},right:function(){this.config.pX=Defaceit.Screen.width()-this.wnd_handler.width()-Defaceit.Screen.border;this.position()},left:function(){this.config.pX=Defaceit.Screen.border;this.position()},activate:function(){Defaceit.Window.Manager.get_active_window().deactivate();Defaceit.Window.Manager.active=this.nth;this.state=this.show_menu;this.wnd_handler.animate({width:this.width,height:this.height,left:this.width/2,top:this.height/2},"fast");this.wnd_handler.html(this.content)},deactivate:function(){Defaceit.Window.Manager.active=
-1;this.state=this.activate;this.wnd_handler.animate({width:50,height:50,left:this.init_position_x,top:this.init_position_y},"fast");this.wnd_handler.html(this.icon)},show_menu:function(){this.menu=this.menu||jQuery("<div>").addClass("menu").appendTo(this.wnd_handler).html('<a href="#">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c</a><a href="#">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a><a href="#">\u0423\u0434\u0430\u043b\u0438\u0442\u044c</a>');this.menu.animate({width:"20%"},
"fast");this.state=this.hide_menu},hide_menu:function(){this.menu.animate({width:"0%"},"fast");this.state=this.show_menu}},Defaceit.Window.InputBox=Defaceit.extend(Defaceit.Window.Simple,{configure:function(c){c.handler=c.handler||function(){alert("\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043d\u0435 \u0437\u0430\u0434\u0430\u043d")};this.textarea=jQuery("<TEXTAREA>").addClass("dtWindowInputBoxTextarea");c.content=this.textarea;
c.buttons=[{text:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",handler:c.handler},{text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",handler:function(){this.wnd_handler.remove()}}];return this.parent.configure(c)},message:function(){return this.textarea.val()}}),Defaceit.Window.Manager={collection:[],create:function(c,e){return new (Defaceit.Window[c]||Defaceit.Window.Simple)(e)},add:function(c){this.collection.push(c);return this.collection.length},get:function(c){return this.collection[c]},
get_active_window:function(){return 0<=Defaceit.Window.Manager.active?this.get(Defaceit.Window.Manager.active):{deactivate:function(){}}}});
Defaceit.Queue||(Defaceit.Queue=function(c){if(this==Defaceit)return c=c||"",Defaceit.Queue.list[c]=Defaceit.Queue.list[c]||new Defaceit.Queue(c),Defaceit.Queue.list[c];this.init(c);return this},Defaceit.Queue.prototype={queue:"",call_id:1,init:function(c){this.queue=c},next_call_id:function(){return this.call_id++},list:function(){this.request("list");return this},push:function(c){return this.request("push",encodeURIComponent(c))},top:function(){this.request("top");return this},last:function(){var c=
Defaceit.Queue.waitDelivery&&Defaceit.Queue.waitDelivery[this.queue]||void 0;if(c)return Defaceit.Queue.waitDelivery[this.queue]=void 0,this.client_callback(c),1;Defaceit.Queue.Pack.push(["last",this.queue,this.next_call_id()]);setTimeout(function(){var c=Defaceit.Queue.Pack,j=[];Defaceit.Queue.Pack=[];_.each(c,function(c,e){j.push("a["+e+"]="+c[1]);j.push("i["+e+"]="+c[2])});0<j.length&&cors_post("http://eservices.defaceit.ru/queue/last_a",j.join("&"))},300);return 1},request:function(c,
e){var e=e||"",j=this.next_call_id();512<e.length?cors_post("http://eservices.defaceit.ru/queue/"+c+"/"+this.queue+"/"+j,"message_text="+encodeURIComponent(e)):Defaceit.request("http://eservices.defaceit.ru/queue/"+c+"/"+this.queue+"/"+j+"/"+e);return j},client:function(c){this.clients=this.clients||[];this.clients.push(c)},client_callback:function(c){c.call_id=parseInt(c.call_id);switch(c.type){case "messages":for(var e=0;e<c.data.length;e++)this.send_message(c.data[e].message_text,
c.data[e]);break;case "message":this.send_message(c.data.message_text,c.data,c);break;case "status":this.send_status_message(c)}},send_status_message:function(c){for(var e=0;e<this.clients.length;e++){var j=this.clients[e];j.queue_status&&j.queue_status(c)}},send_message:function(c,e,j){for(var c=decodeURIComponent(c),n=0;n<this.clients.length;n++){var r=this.clients[n];r.queue_message&&r.queue_message(c,e,j)}}},Defaceit.Queue.Pack=[],Defaceit.Queue.list=Defaceit.Queue.list||{},Defaceit.Queue.waitDelivery=
Defaceit.Queue.waitDelivery||{},Defaceit.Queue.callbacks=Defaceit.Queue.callbacks||[],Defaceit.Queue.response=function(c){if(c.pack)for(var e=0;e<c.pack.length;e++)Defaceit.Queue.list[c.pack[e].queue_name]?Defaceit.Queue.list[c.pack[e].queue_name].client_callback(c.pack[e]):(console.debug(Defaceit.Queue.waitDelivery),Defaceit.Queue.waitDelivery[c.pack[e].queue_name]=c.pack[e]);else Defaceit.Queue.list[c.queue_name].client_callback(c)},Defaceit.Queue.preload=function(c){Defaceit.request("http://eservices.defaceit.ru/queue/last_n/"+
c)});actions={};fire=function(c,e,j,n){actions[c]&&actions[c][e]&&actions[c][e][0]&&actions[c][e][0].call(actions[c][e][1],j,n)};function q(c,e){Defaceit.Queue(c).client({queue_message:function(e,n){fire(c,"message",e,n)},queue_status:function(e){fire(c,e.result,e,e)}});actions[c]=actions[c]||{};return{on:function(j,n){actions[c][j]=[e[n],e];return this}}}
function cors_post(c,e){var j=function(c,e){var j=new XMLHttpRequest;"withCredentials"in j?j.open(c,e,!0):"undefined"!=typeof XDomainRequest?(j=new XDomainRequest,j.open(c,e)):j=null;return j}("POST",c);if(!j)throw Error("CORS not supported");j.setRequestHeader("Content-type","application/x-www-form-urlencoded");j.onload=function(){eval(j.responseText)};j.onerror=function(){console.log("There was an error!")};j.send(e)}
Defaceit.Variable||(Defaceit.Constant=function(c,e){if(Defaceit==this)return new Defaceit.Constant(c,e);this.initialize(c,e)},Defaceit.Constant.prototype=_.extend({initialize:function(c,e){this.varName=c;this.value=e},fetch:function(){},on:function(){},status:function(){return"loaded"},toObject:function(){return this.value}}),Defaceit.Status=_.extend({status:function(c,e){if(c)this.myStatus=c,(void 0===e||e)&&this.trigger(c,c);else return this.myStatus}},Backbone.Events),Defaceit.CollectionStatus=
_.extend({initialize:function(){this.items=[]},add:function(c){this.items.push(c)},each:function(c){_.each(this.items,c,this)},is_evrybody_status:function(c){var e=0;this.each(function(j){j.status()==c&&e++});return e==this.items.length},is_anybody_status:function(c){var e=0;this.each(function(j){j.status()==c&&e++});return 0<e}},Defaceit.Status),Defaceit.Variable=function(c,e){var j=c+"."+e;if(this==Defaceit)return Defaceit.Variable.list[j]=Defaceit.Variable.list[j]||new Defaceit.Variable(c,e),Defaceit.Variable.list[j];
this.initialize(c,e);return this},Defaceit.Variable.list=Defaceit.Variable.list||{},Defaceit.Variable.cache=Defaceit.Variable.cache||{},_.extend(Defaceit.Variable.prototype,{initialize:function(c,e){this.varName=c;this.namespace=e;this.rawData=this.value=null;this.status("start",!1);this.on("fetch",this.set_from_web,this);this.on("status:change",this.change_status,this)},full_name:function(){return this.varName+"."+this.namespace},change_status:function(c){switch(c){case "ok":this.clear_cache();this.status("saved");
break;case "empty":this.status("loaded")}},set:function(c){c.data&&c.data.message_text?(this.rawData=c,this.value=decodeURIComponent(c.data.message_text)):(this.value=c,this.rawData=null,this.status("update"));return this},set_from_web:function(c){"loading"==this.status()&&(this.set(c),this.status("loaded"))},get:function(){return this.value},read:function(){this.fetch()},fetch:function(){if("saveing"==this.status())this.recall(this.fetch);else return this.is_in_cache()?this.get_from_cache():this.load_from_web()},
is_empty:function(){return!this.get()},is_in_cache:function(){return!!Defaceit.Variable.cache[this.full_name()]},get_from_cache:function(){var c=this;setTimeout(function(){c.is_in_cache()&&(c.set(Defaceit.Variable.cache[c.full_name()]),c.status("loaded"))},1)},load_from_web:function(){this.status("loading",!1);Defaceit.request("http://eservices.defaceit.ru/variable/get/"+this.full_name())},write:function(){this.save()},save:function(){this.status("saveing",!1);this.is_in_cache()&&this.clear_cache();
cors_post("http://eservices.defaceit.ru/variable/set/"+this.full_name(),"message_text="+encodeURIComponent(encodeURIComponent(this.get())))},clear_cache:function(){Defaceit.Variable.cache[this.full_name()]=null},reload:function(){this.load_from_web()},recall:function(c,e){var e=e||[],j=this;setTimeout(function(){c.apply(j,e)},100)},toObject:function(){return this.value}},Defaceit.Status),Defaceit.Cache=function(c){c&&_.each(c,Defaceit.Cache.add,Defaceit.Cache);return this.Cache},_.extend(Defaceit.Cache,
{items:[],data:{},add:function(c){this.items.push(c)},set_data_pack:function(c){_.each(c.pack,this.set_data,this);this.trigger("loaded",c.variable_name_space)},set_data:function(c){"data"==c.type&&(this.data[c.variable_name]=c)},preload:function(c){Defaceit.request("http://eservices.defaceit.ru/variable/get_pack/"+c)},wizard:function(){_.each(this.items,this.preload,this);this.on("loaded",this.check,this)},check:function(c){this.items=_.without(this.items,c);0==this.items.length&&this.trigger("wizard:done")}},
Backbone.Events),Defaceit.Variable.response=function(c){c.pack?(Defaceit.Cache.set_data_pack(c),_.each(c.pack,function(c){Defaceit.Variable.response(c)})):("data"==c.type&&(Defaceit.Variable.cache[c.variable_name]=c,Defaceit.Variable.list[c.variable_name]&&Defaceit.Variable.list[c.variable_name].trigger("fetch",c)),"status"==c.type&&Defaceit.Variable.list[c.variable_name].trigger("status:change",c.result,c))},Defaceit.Variable.preload=function(c){Defaceit.request("http://eservices.defaceit.ru/variable/get_pack/"+
c)},Defaceit.Structure=function(c,e,j){if(this==Defaceit)return new Defaceit.Structure(c,e,j);this.initialize(c,e,j)},_.extend(Defaceit.Structure.prototype,{initialize:function(c,e,j){this.structName=c;this.namespace=j;this.variablies=[];this.status("start",!1);this.create_vars_from_array(e)},create_vars_from_array:function(c){_.each(c,this.add_variable,this)},add_variable:function(c){c=Defaceit.Variable(c,this.structName+"."+this.namespace);c.on("loaded",this.check_status,this);c.on("saved",function(){!this.is_anybody_status("saveing")&&
this.status("saved")},this);this.variablies.push(c)},fetch:function(){this.status("loading",!1);_.each(this.variablies,function(c){c.fetch()});return this},find:function(c){return _.find(this.variablies,function(e){return e.varName==c})},set:function(c,e){this.find(c).set(e);this.status("update");return this},get:function(c){return this.find(c).get()},save:function(){this.status("saveing",!1);this.each(function(c){"update"==c.status()&&c.save()});return this},check_status:function(c){var e=0;this.each(function(j){j.status()==
c&&e++});e==this.variablies.length&&this.status(c)},each:function(c){_.each(this.variablies,c,this)},is_empty:function(){var c=0;this.each(function(e){e.is_empty()&&c++});return c==this.variablies.length},is_not_empty:function(){return!this.is_empty()},is_anybody_status:function(c){var e=0;this.each(function(j){j.status()==c&&e++});return 0<e},toObject:function(){var c={};this.each(function(e){c[e.varName]=e.get()});c.id=this.structName;return c}},Defaceit.Status),Defaceit.List=function(c,e,j){if(this==
Defaceit)return new Defaceit.List(c,e,j);this.initialize(c,e,j)},_.extend(Defaceit.List.prototype,{initialize:function(c,e,j){this.structName=c;this.namespace=j;this.variableNames=e;this.items=[];this.status("start",!1)},create:function(){var c=Defaceit.Structure(this.structName+(this.items.length+1),this.variableNames,this.namespace);c.on("loaded",this.next,this);c.on("saved",this.status,this);c.on("update",this.status,this);this.items.push(c);return c},next:function(){this.last().is_not_empty()&&
this.create().fetch();this.is_evrybody_status("loaded")&&this.status("loaded")},last:function(){return this.items[this.items.length-1]},fetch:function(){this.create().fetch();return this},find:function(c){return _.find(this.items,function(e){return e.structName==c})},set:function(c,e){this.find(c).set(e);return this},get:function(c){return this.find(this.structName+c)},save:function(){this.each(function(c){"update"==c.status()&&c.save()});return this},check_status:function(){},each:function(c){_.each(this.items,
c,this)},is_evrybody_status:function(c){var e=0;this.each(function(j){j.status()==c&&e++});return e==this.items.length},is_anybody_status:function(c){var e=0;this.each(function(j){j.status()==c&&e++});return 0<e},toObject:function(){var c={};this.each(function(e){c[e.structName]=e.toObject()});return c}},Defaceit.Status),Defaceit.Variable.FillIfEmpty=function(c,e){return _.extend({item:Defaceit.Variable(c,e),wizard:function(){this.item.on("loaded",this.check,this).fetch()},done:function(){var e={};
e[c]=this.item;this.trigger("wizard:done",e)},check:function(){var c=this.item;c.is_empty()?(c.set(prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 "+c.varName)).save(),c.on("saved",this.done,this)):this.done()}},Backbone.Events)});Defaceit.Variable.Set=function(c,e){return _.extend({wizard:function(j){console.debug(e);j[c]=j[c]||e;this.trigger("wizard:done",j)}},Backbone.Events)};
Defaceit.Wizard||(Defaceit.Wizard=function(c){if(this==Defaceit)return new Defaceit.Wizard(c);this.initialize(c)},Defaceit.Wizard.prototype=_.extend({initialize:function(c){this.current=null;this.args={};this.items=[];_.each(c,this.add,this)},add:function(c){this.items.push(c);return this},start:function(c){this.args=c||this.args;this.next()},wizard:function(c){this.on("done",function(){this.trigger("wizard:done",this.args)});this.start(c)},next:function(){this.items.length?(this.current=this.items.shift(),
_.isFunction(this.current)&&!this.current.wizard&&(this.current=this.current(this.args)||{}),_.isFunction(this.current.wizard))?(this.current.on("wizard:done",this.wizard_done,this),this.current.wizard.call(this.current,this.args)):this.next():(this.current=null,this.trigger("done"))},wizard_done:function(c){_.extend(this.args,c);this.next()},check:function(c){this.current[c]="done";c=_.uniq(this.current);1==c.length&&"done"==c[0]&&this.next()}},Backbone.Events));
Defaceit.Template||(_.templateSettings={interpolate:/\{\{(.+?)\}\}/g},Defaceit.Template=Defaceit.Model.extend({initialize:function(c,e){this.templateName=c;this.template=Defaceit.Variable(c,e||"template.defaceit.ru");this.template.on("loaded",this.parse,this);this.status("start");this.template.fetch()},parse:function(){var c=this.template.get();c?(this.set("text",c),c=c.match(/{{[^}]+}}/g)||[],this.set("words",_.uniq(c)),this.set("blocks",this.normalize(c)),this.status("ready")):alert("Template not defined: "+
this.templateName)},normalize:function(c){for(var e=[],j=0;j<c.length;j++)e.push(c[j].replace("{{","").replace("}}","").split(".")[0]);return _.uniq(e)},status:function(c){c&&(this.myStatus=c,this.trigger("status:change"));return this.myStatus},render:function(c){return _.template(this.get("text"),c)}}));Defaceit.load.css("http://defaceit.ru/defaceit/tools/css/defaceit.css");Defaceit.load.css("http://defaceit.ru/defaceit/bookshelf/css/bookshelf.css");DefaceitHome&&Defaceit.load.css("http://defaceit.ru/defaceit/tools/css/home.css");Defaceit.Bookshelf=function(c,e,j){this.init(c,e,j)};
Defaceit.Bookshelf.prototype={init:function(c,e,j){this.cb=e;this.scope=j||this;this.itemCount=0;this.queue=c;this.wnd=null},render_template:function(c){this.itemCount=0;this.wnd=Defaceit.Window.Manager.create("Simple",{content:c,buttons:[{text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",handler:function(){this.wnd_handler.remove();return!1}}],geometry:["width:800","center","show"]});Defaceit.Queue("items."+this.queue).list();bookshelfLoading=!1},render_items:function(c){0==this.itemCount%3&&(this.div=
jQuery("<div>").addClass("line").appendTo(jQuery("#bookshelf .page")));this.itemCount++;var e="",j="",n=[];(n=c.match(/^([^ ]*) (.*)$/))?(e=n[1],j=n[2]):e=c;var r=this;this.div.append(jQuery("<img>").attr("src",e).click(function(){r.cb.call(r.scope,j);return false}))},error:function(){alert("\u041e\u0447\u0435\u0440\u0435\u0434\u044c \u043f\u0443\u0441\u0442\u0430")}};
bookshelf=function(c,e,j){Defaceit.bookshelfInstance||(e=Defaceit.bookshelfInstance=new Defaceit.Bookshelf(c,e,j),q("default.bookshelf.template.defaceit.ru",e).on("empty","error").on("message","render_template"),q("items."+c,e).on("empty","error").on("message","render_items"));Defaceit.Queue("default.bookshelf.template.defaceit.ru").last()};bookshelfLoading=!1;
function start(){if(jQuery("#bookshelf").length||bookshelfLoading)return!1;bookshelfLoading=!0;bookshelf("bookshelf.defaceit.ru",function(c){Defaceit.Window.Manager.create("Simple",{content:c,buttons:[{text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",handler:function(){this.wnd_handler.remove();return!1}}],geometry:["center","show"]})})}/defaceit\.ru\/defaceit\/bookshelf\/develop/.test(document.location)&&Defaceit.wait("jQuery",start,this,["jQuery"]);(function(){Defaceit.load.css("http://defaceit.ru/defaceit/babycalc/css/babycalc.css");Defaceit.load.css("http://defaceit.ru/defaceit/tools/css/home.css");Defaceit.Page={};namespace=function(){return Defaceit.Page.name+"."+Defaceit.Page.namespace};var c={Article:{}};c.Article.PanelButtonsView=Backbone.View.extend({el:".page",events:{"click #done":"done","click #cancel":"cancel"},done:function(){this.trigger("done")},cancel:function(){this.trigger("cancel")},render:function(){this.$el.append($("<div>").addClass("blockMenuItem").attr("id",
"done").html("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"));this.$el.append($("<div>").addClass("blockMenuItem").attr("id","cancel").html("\u041e\u0442\u043c\u0435\u043d\u0430"));return this}});Defaceit.Page.View={ArticleEdit:Backbone.View.extend({el:".article_container",interactive_edit:function(){var c=this.attributes.data,j=this.$el.height();this.$el.html(jQuery('<a class="blockMenuItem" href="#">'+c.get("title")+"</a>").click(function(){new Defaceit.Page.View.ArticleEditPanel({attributes:{data:c}})}));
this.$el.height(j).css({border:"1px dotted black",padding:"50px",margin:"10px"})}}),ArticleEditPanel:Backbone.View.extend({el:".container",initialize:function(){this.template=new Defaceit.Template("article","template.defaceit.ru");this.template.on("status:change",this.render,this)},save:function(){this.attributes.data.set("title",jQuery("#defaceit-article-title").val());this.attributes.data.set("content",jQuery("#defaceit-article-content").val());this.attributes.data.save()},cancel:function(){alert("cancel")},
render:function(){this.$el.html(this.template.get("text"));this.$el.find("#defaceit-article-title").val(this.attributes.data.get("title"));this.$el.find("#defaceit-article-content").val(this.attributes.data.get("content"));var e=(new c.Article.PanelButtonsView).render();e.on("done",this.save,this);e.on("cancel",this.cancel,this)}}),Thumbnails:Backbone.View.extend({compile:function(){t='<div id="{{id}}"><h4>{{title}}</h4><div>{{content}}</div><p style="text-align:right;margin-top:20px;"><a class="btn" href="{{url}}">\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435</a></p></div>';
content1=content2=content3="";var c=1;this.attributes.data.each(function(j){j.is_not_empty()&&(0==c%3?content3+=_.template(t,j.toObject()):0==c%2?content2+=_.template(t,j.toObject()):content1+=_.template(t,j.toObject()),c++)});return _.template('<ul class="thumbnails"><li class="span4">{{content1}}</li><li class="span4">{{content2}}</li><li class="span4">{{content3}}</li></ul>',{content1:content1,content2:content2,content3:content3})}}),ThumbnailsEdit:Backbone.View.extend({interactive_edit:function(){this.attributes.data.each(function(c){c.is_empty()&&
jQuery(".thumbnails_container").prepend(jQuery('<a class="blockMenuItem" href="#">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c</a>').click(function(){(new Defaceit.Page.View.ThumbnailEditPanel({attributes:{data:c}})).render()})).css({border:"1px dotted black",padding:"10px",margin:"10px"});jQuery("#"+c.structName).html('<a class="blockMenuItem" href="#">'+c.get("title")+"</a><br />").click(function(){(new Defaceit.Page.View.ThumbnailEditPanel({attributes:{data:c}})).render()})})}}),ThumbnailEditPanel:Backbone.View.extend({el:".container",
done:function(){this.attributes.data.set("title",this.$el.find("#title").val());this.attributes.data.set("content",this.$el.find("#content").val());this.attributes.data.set("url",this.$el.find("#url").val());this.attributes.data.save()},cancel:function(){this.$el.html("")},render:function(){this.$el.html('<div class="page"><p class="calc_label">title:<input style="width:99%" id="title"/></p><p class="calc_label">content:<textarea style="width:99%; height: 100px;" id="content" /></textarea></p>url:<input style="width:99%" id="url" /></page>');
this.$el.find("#title").val(this.attributes.data.get("title"));this.$el.find("#content").val(this.attributes.data.get("content"));this.$el.find("#url").val(this.attributes.data.get("url"));var e=(new c.Article.PanelButtonsView).render();e.on("done",this.done,this);e.on("cancel",this.cancel,this)}}),Default:Backbone.View.extend({compile:function(){return this.attributes.data.toObject()}}),DefaultEdit:Backbone.View.extend({interactive_edit:function(){var c=this,j=jQuery("."+this.attributes.data.varName.toLowerCase()+
"_container");if(j.length){var n=j.height();j.html(jQuery('<a class="blockMenuItem" href="#">\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c</a>').click(function(){c.attributes.data.set(prompt(c.attributes.data.varName+":",c.attributes.data.get()));c.attributes.data.save()}));j.height(n)}}})};Defaceit.BlockManager={};Defaceit.BlockManager.EditView=Backbone.View.extend({tagName:"form",className:"",save:function(){this.$el.attr("method","POST").attr("action","http://defaceit.ru/page/save").submit()},
cancel:function(){},render:function(c,j,n,r){this.$el.append(jQuery("<textarea>").attr("name","content").css("display","none").val(c));this.$el.append(jQuery("<input>").attr("name","type").attr("type","hidden").val(n));this.$el.append(jQuery("<input>").attr("name","url").attr("type","hidden").val(_.template(r.get(),{pageName:j})));this.$el.append(jQuery("<input>").attr("name","title").attr("type","hidden").val(Defaceit.Page.name));this.$el.append(jQuery("<input>").attr("name","site").attr("type",
"hidden").val(Defaceit.Page.namespace));jQuery(document.body).html("").append(this.$el)}});Defaceit.SelectPageView=Backbone.View.extend({el:"body",render:function(c){c=c||{};$("body").html(this.attributes.template.render(c));this.trigger("done")}});Defaceit.Page.ButtonView=Backbone.View.extend({tagName:"img",events:{click:"run"},hide:function(){this.$el.hide()},run:function(){this.trigger("hide",this.attributes.page)},render:function(c,j){this.$el.attr("src","http://defaceit.ru/images/templates/"+
this.attributes.page.pageType+".png").css({width:"100px",position:"absolute",left:c,top:j}).appendTo("body");return this}});Defaceit.Page.BigButtonView=Backbone.View.extend({tagName:"div",className:"centerLayer",events:{click:"show"},hide:function(c){for(var j=0;j<this.elements.length;j++)this.elements[j].hide();this.$el.css({display:"none"});this.trigger("done",c)},show:function(){this.elements=[];this.elements.push(new Defaceit.Page.ButtonView({attributes:{page:{pageType:"thumbnails_page"},logo:"promo_page"}}));
this.elements.push(new Defaceit.Page.ButtonView({attributes:{page:{pageType:"content_page"},logo:"content_page"}}));this.elements.push(new Defaceit.Page.ButtonView({attributes:{page:{pageType:"js_page"},logo:"promo_page"}}));for(var c=120,j=$("#big-button").offset(),n=$("#big-button").width()/2-50,r=$("#big-button").height()/2-50,z=0;z<this.elements.length;z++)dX=220*Math.cos(c*Math.PI/180),dY=220*Math.sin(c*Math.PI/180),c+=40,this.elements[z].render(n+j.left+dX,r+j.top-dY),this.elements[z].on("hide",
this.hide,this)},render:function(){this.$el.html('<img id="big-button" src="http://defaceit.ru/images/buttons/create.png" />').appendTo("body")}});Template=function(c,j){return _.extend({wizard:function(){this.t=Template.items[c]=new Defaceit.Template(c);this.t.on("status:change",this.done,this)},done:function(){var n={};n[j||c]=this.t;this.trigger("wizard:done",n)}},Backbone.Events)};Template.items={};Render=function(c,j){return _.extend({wizard:function(){var n=new c({attributes:{template:Template.items[j]}});
n.on("done",function(c){this.trigger("wizard:done",c)},this);n.render()}},Backbone.Events)};shouldBeExist=function(c,j){return _.extend({wizard:function(){c?this.trigger("wizard:done"):alert("\u041d\u0435 \u0437\u0430\u0434\u0430\u043d\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f "+j)}},Backbone.Events)};_.extend(Defaceit.SelectPageView,Backbone.Events);c.AssignStructure=function(c){var j={Article:["Structure",
"article",["title","content"],namespace()],Thumbnails:["List","Thumbnail",["title","content","url"],namespace()]};return j[c]?(c=j[c],Defaceit[c[0]](c[1],c[2],c[3])):Defaceit.Variable(c,"default."+Defaceit.Page.namespace)};_.extend(c.AssignStructure,Backbone.Events);c.AssignStructure.wizard=function(e){var e=e.template.get("blocks"),j={};_.each(e,function(e){var r=c.AssignStructure(e);r.wizard=function(){this.fetch();this.on("loaded",function(){this.trigger("wizard:done",{}[e]=this)})};j[e]=r});Defaceit.Wizard(j).on("done",
function(){c.AssignStructure.trigger("wizard:done",{blocks:j})}).start()};c.save=function(c){var j=new Defaceit.BlockManager.EditView,n=c.template.render(function(){var j={};_.each(c.blocks,function(c,e){j[e]=Defaceit.Page.View[e]?(new Defaceit.Page.View[e]({attributes:{data:c}})).compile():(new Defaceit.Page.View.Default({attributes:{data:c}})).compile()});return j}()),n=n.replace(RegExp("\n","g"),"<br />\n");j.render(n,Defaceit.Page.name,c.pageType,c.pageUrlTemplate);j.save()};c.Prepare=function(e){return Defaceit.Wizard([shouldBeExist(e.pageType,
"Defaceit.BlockManager.wizard : inArgs.pageType"),shouldBeExist(Defaceit.Page.name,"Defaceit.BlockManager.wizard : Defaceit.Page.name"),Defaceit.Variable.FillIfEmpty("pageUrlTemplate",Defaceit.Page.namespace),Template(e.pageType,"template"),c.AssignStructure])};c.InteractiveEdit=function(c){return _.extend({wizard:function(){_.each(c.blocks,function(c,e){var r=e+"Edit";Defaceit.Page.View[r]?(new Defaceit.Page.View[r]({attributes:{data:c}})).interactive_edit():(new Defaceit.Page.View.DefaultEdit({attributes:{data:c}})).interactive_edit();
c.on("saved",this.done)},this)},done:function(){this.trigger("wizard:done")}},Backbone.Events)};Defaceit.SelectPageWizard=function(){return Defaceit.Wizard([shouldBeExist(Defaceit.Page.name,"Defaceit.Page.name"),Template("create_page"),Render(Defaceit.SelectPageView,"create_page"),Render(Defaceit.Page.BigButtonView,"empty")])};CreatePageWizard=Defaceit.Wizard([Defaceit.Variable.Set("pageType","js_page"),Defaceit.SelectPageWizard,c.Prepare]).on("done",function(){c.save(this.args)});InteractiveEditPageWizard=
Defaceit.Wizard([c.Prepare,c.InteractiveEdit]).on("done",function(){c.save(this.args)})})();
