(function(c,f){function m(a){return b.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}function p(a){if(!ua[a]){var d=e.body,g=b("<"+a+">").appendTo(d),i=g.css("display");g.remove();if("none"===i||""===i){K||(K=e.createElement("iframe"),K.frameBorder=K.width=K.height=0);d.appendChild(K);if(!ja||!K.createElement)ja=(K.contentWindow||K.contentDocument).document,ja.write((b.support.boxModel?"<!doctype html>":"")+"<html><body>"),ja.close();g=ja.createElement(a);ja.body.appendChild(g);i=b.css(g,
"display");d.removeChild(K)}ua[a]=i}return ua[a]}function x(a,d){var g={};b.each(pa.concat.apply([],pa.slice(0,d)),function(){g[this]=a});return g}function B(){qa=f}function u(){setTimeout(B,0);return qa=b.now()}function o(){try{return new c.XMLHttpRequest}catch(a){}}function O(a,d,g,i){if(b.isArray(d))b.each(d,function(d,b){g||db.test(a)?i(a,b):O(a+"["+("object"==typeof b?d:"")+"]",b,g,i)});else if(!g&&"object"===b.type(d))for(var v in d)O(a+"["+v+"]",d[v],g,i);else i(a,d)}function R(a,d){var g,
i,v=b.ajaxSettings.flatOptions||{};for(g in d)d[g]!==f&&((v[g]?a:i||(i={}))[g]=d[g]);i&&b.extend(!0,a,i)}function E(a,d,b,i,v,c){v=v||d.dataTypes[0];c=c||{};c[v]=!0;for(var v=a[v],e=0,k=v?v.length:0,l=a===va,h;e<k&&(l||!h);e++)h=v[e](d,b,i),"string"==typeof h&&(!l||c[h]?h=f:(d.dataTypes.unshift(h),h=E(a,d,b,i,h,c)));(l||!h)&&!c["*"]&&(h=E(a,d,b,i,"*",c));return h}function V(a){return function(d,g){"string"!=typeof d&&(g=d,d="*");if(b.isFunction(g))for(var i=d.toLowerCase().split(Ga),v=0,c=i.length,
e,k;v<c;v++)e=i[v],(k=/^\+/.test(e))&&(e=e.substr(1)||"*"),e=a[e]=a[e]||[],e[k?"unshift":"push"](g)}}function Z(a,d,g){var i="width"===d?a.offsetWidth:a.offsetHeight,v="width"===d?1:0;if(0<i){if("border"!==g)for(;4>v;v+=2)g||(i-=parseFloat(b.css(a,"padding"+aa[v]))||0),"margin"===g?i+=parseFloat(b.css(a,g+aa[v]))||0:i-=parseFloat(b.css(a,"border"+aa[v]+"Width"))||0;return i+"px"}i=ka(a,d);if(0>i||null==i)i=a.style[d];if(wa.test(i))return i;i=parseFloat(i)||0;if(g)for(;4>v;v+=2)i+=parseFloat(b.css(a,
"padding"+aa[v]))||0,"padding"!==g&&(i+=parseFloat(b.css(a,"border"+aa[v]+"Width"))||0),"margin"===g&&(i+=parseFloat(b.css(a,g+aa[v]))||0);return i+"px"}function ba(a){var d=(a.nodeName||"").toLowerCase();"input"===d?ca(a):"script"!==d&&"undefined"!=typeof a.getElementsByTagName&&b.grep(a.getElementsByTagName("input"),ca)}function ca(a){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}function U(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=
typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function F(a,d){var g;1===d.nodeType&&(d.clearAttributes&&d.clearAttributes(),d.mergeAttributes&&d.mergeAttributes(a),g=d.nodeName.toLowerCase(),"object"===g?d.outerHTML=a.outerHTML:"input"!==g||"checkbox"!==a.type&&"radio"!==a.type?"option"===g?d.selected=a.defaultSelected:"input"===g||"textarea"===g?d.defaultValue=a.defaultValue:"script"===g&&d.text!==a.text&&(d.text=a.text):(a.checked&&(d.defaultChecked=d.checked=a.checked),d.value!==a.value&&
(d.value=a.value)),d.removeAttribute(b.expando),d.removeAttribute("_submit_attached"),d.removeAttribute("_change_attached"))}function G(a,d){if(1===d.nodeType&&b.hasData(a)){var g,i,v;i=b._data(a);var c=b._data(d,i),e=i.events;if(e)for(g in delete c.handle,c.events={},e){i=0;for(v=e[g].length;i<v;i++)b.event.add(d,g,e[g][i])}c.data&&(c.data=b.extend({},c.data))}}function da(a){var d=Ha.split("|"),a=a.createDocumentFragment();if(a.createElement)for(;d.length;)a.createElement(d.pop());return a}function la(a,
d,g){d=d||0;if(b.isFunction(d))return b.grep(a,function(a,b){return!!d.call(a,b,a)===g});if(d.nodeType)return b.grep(a,function(a){return a===d===g});if("string"==typeof d){var i=b.grep(a,function(a){return 1===a.nodeType});if(eb.test(d))return b.filter(d,i,!g);d=b.filter(d,i)}return b.grep(a,function(a){return 0<=b.inArray(a,d)===g})}function I(){return!0}function j(){return!1}function z(a,d,g){var i=d+"defer",c=d+"queue",e=d+"mark",k=b._data(a,i);k&&("queue"===g||!b._data(a,c))&&("mark"===g||!b._data(a,
e))&&setTimeout(function(){!b._data(a,c)&&!b._data(a,e)&&(b.removeData(a,i,!0),k.fire())},0)}function W(a){for(var d in a)if(!("data"===d&&b.isEmptyObject(a[d]))&&"toJSON"!==d)return!1;return!0}function X(a,d,g){if(g===f&&1===a.nodeType)if(g="data-"+d.replace(ea,"-$1").toLowerCase(),g=a.getAttribute(g),"string"==typeof g){try{g="true"===g?!0:"false"===g?!1:"null"===g?null:b.isNumeric(g)?+g:S.test(g)?b.parseJSON(g):g}catch(i){}b.data(a,d,g)}else g=f;return g}function fa(a){var d=r[a]={},b,i,a=a.split(/\s+/);
b=0;for(i=a.length;b<i;b++)d[a[b]]=!0;return d}var e=c.document,h=c.navigator,n=c.location,b=function(){function a(){if(!d.isReady){try{e.documentElement.doScroll("left")}catch(b){setTimeout(a,1);return}d.ready()}}var d=function(a,b){return new d.fn.init(a,b,v)},b=c.jQuery,i=c.$,v,k=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,D=/\S/,l=/^\s+/,j=/\s+$/,y=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,s=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,m=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
ga=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,C=/(opera)(?:.*version)?[ \/]([\w.]+)/,M=/(msie) ([\w.]+)/,o=/(mozilla)(?:.*? rv:([\w.]+))?/,p=/-([a-z]|[0-9])/ig,u=/^-ms-/,N=function(a,d){return(d+"").toUpperCase()},A=h.userAgent,L,ma,fb=Object.prototype.toString,xa=Object.prototype.hasOwnProperty,ya=Array.prototype.push,oa=Array.prototype.slice,Ja=String.prototype.trim,Ka=Array.prototype.indexOf,La={};d.fn=d.prototype={constructor:d,init:function(a,b,g){var i,c;if(!a)return this;if(a.nodeType)return this.context=
this[0]=a,this.length=1,this;if("body"===a&&!b&&e.body)return this.context=e,this[0]=e.body,this.selector=a,this.length=1,this;if("string"==typeof a){"<"!==a.charAt(0)||">"!==a.charAt(a.length-1)||3>a.length?i=k.exec(a):i=[null,a,null];if(i&&(i[1]||!b)){if(i[1])return c=(b=b instanceof d?b[0]:b)?b.ownerDocument||b:e,(g=y.exec(a))?d.isPlainObject(b)?(a=[e.createElement(g[1])],d.fn.attr.call(a,b,!0)):a=[c.createElement(g[1])]:(g=d.buildFragment([i[1]],[c]),a=(g.cacheable?d.clone(g.fragment):g.fragment).childNodes),
d.merge(this,a);if((b=e.getElementById(i[2]))&&b.parentNode){if(b.id!==i[2])return g.find(a);this.length=1;this[0]=b}this.context=e;this.selector=a;return this}return!b||b.jquery?(b||g).find(a):this.constructor(b).find(a)}if(d.isFunction(a))return g.ready(a);a.selector!==f&&(this.selector=a.selector,this.context=a.context);return d.makeArray(a,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return oa.call(this,0)},get:function(a){return null==a?this.toArray():
0>a?this[this.length+a]:this[a]},pushStack:function(a,b,g){var i=this.constructor();d.isArray(a)?ya.apply(i,a):d.merge(i,a);i.prevObject=this;i.context=this.context;"find"===b?i.selector=this.selector+(this.selector?" ":"")+g:b&&(i.selector=this.selector+"."+b+"("+g+")");return i},each:function(a,b){return d.each(this,a,b)},ready:function(a){d.bindReady();L.add(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
slice:function(){return this.pushStack(oa.apply(this,arguments),"slice",oa.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,function(d,b){return a.call(d,b,d)}))},end:function(){return this.prevObject||this.constructor(null)},push:ya,sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var a,b,g,i,c,v,e=arguments[0]||{},k=1,L=arguments.length,P=!1;"boolean"==typeof e&&(P=e,e=arguments[1]||{},k=2);"object"!=typeof e&&!d.isFunction(e)&&
(e={});for(L===k&&(e=this,--k);k<L;k++)if(null!=(a=arguments[k]))for(b in a)g=e[b],i=a[b],e!==i&&(P&&i&&(d.isPlainObject(i)||(c=d.isArray(i)))?(c?(c=!1,v=g&&d.isArray(g)?g:[]):v=g&&d.isPlainObject(g)?g:{},e[b]=d.extend(P,v,i)):i!==f&&(e[b]=i));return e};d.extend({noConflict:function(a){c.$===d&&(c.$=i);a&&c.jQuery===d&&(c.jQuery=b);return d},isReady:!1,readyWait:1,holdReady:function(a){a?d.readyWait++:d.ready(!0)},ready:function(a){if(!0===a&&!--d.readyWait||!0!==a&&!d.isReady){if(!e.body)return setTimeout(d.ready,
1);d.isReady=!0;!0!==a&&0<--d.readyWait||(L.fireWith(e,[d]),d.fn.trigger&&d(e).trigger("ready").off("ready"))}},bindReady:function(){if(!L){L=d.Callbacks("once memory");if("complete"===e.readyState)return setTimeout(d.ready,1);if(e.addEventListener)e.addEventListener("DOMContentLoaded",ma,!1),c.addEventListener("load",d.ready,!1);else if(e.attachEvent){e.attachEvent("onreadystatechange",ma);c.attachEvent("onload",d.ready);var b=!1;try{b=null==c.frameElement}catch(g){}e.documentElement.doScroll&&b&&
a()}}},isFunction:function(a){return"function"===d.type(a)},isArray:Array.isArray||function(a){return"array"===d.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?""+a:La[fb.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==d.type(a)||a.nodeType||d.isWindow(a))return!1;try{if(a.constructor&&!xa.call(a,"constructor")&&!xa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(var g in a);
return g===f||xa.call(a,g)},isEmptyObject:function(a){for(var d in a)return!1;return!0},error:function(a){throw Error(a);},parseJSON:function(a){if("string"!=typeof a||!a)return null;a=d.trim(a);if(c.JSON&&c.JSON.parse)return c.JSON.parse(a);if(s.test(a.replace(n,"@").replace(m,"]").replace(ga,"")))return(new Function("return "+a))();d.error("Invalid JSON: "+a)},parseXML:function(a){if("string"!=typeof a||!a)return null;var b,g;try{c.DOMParser?(g=new DOMParser,b=g.parseFromString(a,"text/xml")):(b=
new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(i){b=f}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&d.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){a&&D.test(a)&&(c.execScript||function(a){c.eval.call(c,a)})(a)},camelCase:function(a){return a.replace(u,"ms-").replace(p,N)},nodeName:function(a,d){return a.nodeName&&a.nodeName.toUpperCase()===d.toUpperCase()},each:function(a,b,g){var i,c=0,e=a.length,v=e===f||d.isFunction(a);
if(g)if(v)for(i in a){if(!1===b.apply(a[i],g))break}else for(;c<e&&!1!==b.apply(a[c++],g););else if(v)for(i in a){if(!1===b.call(a[i],i,a[i]))break}else for(;c<e&&!1!==b.call(a[c],c,a[c++]););return a},trim:Ja?function(a){return null==a?"":Ja.call(a)}:function(a){return null==a?"":(a+"").replace(l,"").replace(j,"")},makeArray:function(a,b){var g=b||[];if(null!=a){var i=d.type(a);null==a.length||"string"===i||"function"===i||"regexp"===i||d.isWindow(a)?ya.call(g,a):d.merge(g,a)}return g},inArray:function(a,
d,b){var g;if(d){if(Ka)return Ka.call(d,a,b);g=d.length;for(b=b?0>b?Math.max(0,g+b):b:0;b<g;b++)if(b in d&&d[b]===a)return b}return-1},merge:function(a,b){var d=a.length,g=0;if("number"==typeof b.length)for(var i=b.length;g<i;g++)a[d++]=b[g];else for(;b[g]!==f;)a[d++]=b[g++];a.length=d;return a},grep:function(a,b,d){for(var g=[],i,d=!!d,c=0,e=a.length;c<e;c++)i=!!b(a[c],c),d!==i&&g.push(a[c]);return g},map:function(a,b,g){var i,c,e=[],v=0,k=a.length;if(a instanceof d||k!==f&&"number"==typeof k&&(0<
k&&a[0]&&a[k-1]||0===k||d.isArray(a)))for(;v<k;v++)i=b(a[v],v,g),null!=i&&(e[e.length]=i);else for(c in a)i=b(a[c],c,g),null!=i&&(e[e.length]=i);return e.concat.apply([],e)},guid:1,proxy:function(a,b){if("string"==typeof b)var g=a[b],b=a,a=g;if(!d.isFunction(a))return f;var i=oa.call(arguments,2),g=function(){return a.apply(b,i.concat(oa.call(arguments)))};g.guid=a.guid=a.guid||g.guid||d.guid++;return g},access:function(a,b,g,i,c,e,v){var k,L=null==g,P=0,D=a.length;if(g&&"object"==typeof g){for(P in g)d.access(a,
b,P,g[P],1,e,i);c=1}else if(i!==f){k=v===f&&d.isFunction(i);L&&(k?(k=b,b=function(a,b,g){return k.call(d(a),g)}):(b.call(a,i),b=null));if(b)for(;P<D;P++)b(a[P],g,k?i.call(a[P],P,b(a[P],g)):i,v);c=1}return c?a:L?b.call(a):D?b(a[0],g):e},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=r.exec(a)||C.exec(a)||M.exec(a)||0>a.indexOf("compatible")&&o.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(b,d){return new a.fn.init(b,d)}d.extend(!0,
a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(g,i){i&&i instanceof d&&!(i instanceof a)&&(i=a(i));return d.fn.init.call(this,g,i,b)};a.fn.init.prototype=a.fn;var b=a(e);return a},browser:{}});d.each("Boolean,Number,String,Function,Array,Date,RegExp,Object".split(","),function(a,b){La["[object "+b+"]"]=b.toLowerCase()});A=d.uaMatch(A);A.browser&&(d.browser[A.browser]=!0,d.browser.version=A.version);d.browser.webkit&&(d.browser.safari=!0);D.test("\u00a0")&&
(l=/^[\s\xA0]+/,j=/[\s\xA0]+$/);v=d(e);e.addEventListener?ma=function(){e.removeEventListener("DOMContentLoaded",ma,!1);d.ready()}:e.attachEvent&&(ma=function(){"complete"===e.readyState&&(e.detachEvent("onreadystatechange",ma),d.ready())});return d}(),r={};b.Callbacks=function(a){var a=a?r[a]||fa(a):{},d=[],g=[],i,c,e,k,l,h,j=function(g){var i,c,e,v;i=0;for(c=g.length;i<c;i++)e=g[i],v=b.type(e),"array"===v?j(e):"function"===v&&(!a.unique||!s.has(e))&&d.push(e)},y=function(b,f){f=f||[];i=!a.memory||
[b,f];e=c=!0;h=k||0;k=0;for(l=d.length;d&&h<l;h++)if(!1===d[h].apply(b,f)&&a.stopOnFalse){i=!0;break}e=!1;d&&(a.once?!0===i?s.disable():d=[]:g&&g.length&&(i=g.shift(),s.fireWith(i[0],i[1])))},s={add:function(){if(d){var a=d.length;j(arguments);e?l=d.length:i&&!0!==i&&(k=a,y(i[0],i[1]))}return this},remove:function(){if(d)for(var b=arguments,g=0,i=b.length;g<i;g++)for(var c=0;c<d.length&&!(b[g]===d[c]&&(e&&c<=l&&(l--,c<=h&&h--),d.splice(c--,1),a.unique));c++);return this},has:function(a){if(d)for(var b=
0,g=d.length;b<g;b++)if(a===d[b])return!0;return!1},empty:function(){d=[];return this},disable:function(){d=g=i=f;return this},disabled:function(){return!d},lock:function(){g=f;(!i||!0===i)&&s.disable();return this},locked:function(){return!g},fireWith:function(b,d){g&&(e?a.once||g.push([b,d]):(!a.once||!i)&&y(b,d));return this},fire:function(){s.fireWith(this,arguments);return this},fired:function(){return!!c}};return s};var A=[].slice;b.extend({Deferred:function(a){var d=b.Callbacks("once memory"),
g=b.Callbacks("once memory"),i=b.Callbacks("memory"),c="pending",e={resolve:d,reject:g,notify:i},k={done:d.add,fail:g.add,progress:i.add,state:function(){return c},isResolved:d.fired,isRejected:g.fired,then:function(a,b,d){f.done(a).fail(b).progress(d);return this},always:function(){f.done.apply(f,arguments).fail.apply(f,arguments);return this},pipe:function(a,d,g){return b.Deferred(function(i){b.each({done:[a,"resolve"],fail:[d,"reject"],progress:[g,"notify"]},function(a,d){var g=d[0],c=d[1],e;b.isFunction(g)?
f[a](function(){(e=g.apply(this,arguments))&&b.isFunction(e.promise)?e.promise().then(i.resolve,i.reject,i.notify):i[c+"With"](this===f?i:this,[e])}):f[a](i[c])})}).promise()},promise:function(a){if(null==a)a=k;else for(var b in k)a[b]=k[b];return a}},f=k.promise({}),l;for(l in e)f[l]=e[l].fire,f[l+"With"]=e[l].fireWith;f.done(function(){c="resolved"},g.disable,i.lock).fail(function(){c="rejected"},d.disable,i.lock);a&&a.call(f,f);return f},when:function(a){function d(a){return function(b){k[a]=1<
arguments.length?A.call(arguments,0):b;l.notifyWith(h,k)}}function g(a){return function(b){i[a]=1<arguments.length?A.call(arguments,0):b;--f||l.resolveWith(l,i)}}var i=A.call(arguments,0),c=0,e=i.length,k=Array(e),f=e,l=1>=e&&a&&b.isFunction(a.promise)?a:b.Deferred(),h=l.promise();if(1<e){for(;c<e;c++)i[c]&&i[c].promise&&b.isFunction(i[c].promise)?i[c].promise().then(g(c),l.reject,d(c)):--f;f||l.resolveWith(l,i)}else l!==a&&l.resolveWith(l,e?[a]:[]);return h}});b.support=function(){var a,d,g,i,v,
k,f,l,h=e.createElement("div");h.setAttribute("className","t");h.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";d=h.getElementsByTagName("*");g=h.getElementsByTagName("a")[0];if(!d||!d.length||!g)return{};i=e.createElement("select");v=i.appendChild(e.createElement("option"));d=h.getElementsByTagName("input")[0];a={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,
style:/top/.test(g.getAttribute("style")),hrefNormalized:"/a"===g.getAttribute("href"),opacity:/^0.55/.test(g.style.opacity),cssFloat:!!g.style.cssFloat,checkOn:"on"===d.value,optSelected:v.selected,getSetAttribute:"t"!==h.className,enctype:!!e.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==e.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,
pixelMargin:!0};b.boxModel=a.boxModel="CSS1Compat"===e.compatMode;d.checked=!0;a.noCloneChecked=d.cloneNode(!0).checked;i.disabled=!0;a.optDisabled=!v.disabled;try{delete h.test}catch(j){a.deleteExpando=!1}!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",function(){a.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"));d=e.createElement("input");d.value="t";d.setAttribute("type","radio");a.radioValue="t"===d.value;d.setAttribute("checked","checked");d.setAttribute("name",
"t");h.appendChild(d);g=e.createDocumentFragment();g.appendChild(h.lastChild);a.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked;a.appendChecked=d.checked;g.removeChild(d);g.appendChild(h);if(h.attachEvent)for(f in{submit:1,change:1,focusin:1})d="on"+f,(l=d in h)||(h.setAttribute(d,"return;"),l="function"==typeof h[d]),a[f+"Bubbles"]=l;g.removeChild(h);g=i=v=h=d=null;b(function(){var d,g,i,v,f,D,j=e.getElementsByTagName("body")[0];!j||(d=e.createElement("div"),d.style.cssText="padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px",
j.insertBefore(d,j.firstChild),h=e.createElement("div"),d.appendChild(h),h.innerHTML="<table><tr><td style='padding:0;margin:0;border:0;display:none'></td><td>t</td></tr></table>",k=h.getElementsByTagName("td"),l=0===k[0].offsetHeight,k[0].style.display="",k[1].style.display="none",a.reliableHiddenOffsets=l&&0===k[0].offsetHeight,c.getComputedStyle&&(h.innerHTML="",D=e.createElement("div"),D.style.width="0",D.style.marginRight="0",h.style.width="2px",h.appendChild(D),a.reliableMarginRight=0===(parseInt((c.getComputedStyle(D,
null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof h.style.zoom&&(h.innerHTML="",h.style.width=h.style.padding="1px",h.style.border=0,h.style.overflow="hidden",h.style.display="inline",h.style.zoom=1,a.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.style.overflow="visible",h.innerHTML="<div style='width:5px;'></div>",a.shrinkWrapBlocks=3!==h.offsetWidth),h.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;",
h.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",g=h.firstChild,i=g.firstChild,v=g.nextSibling.firstChild.firstChild,f={doesNotAddBorder:5!==i.offsetTop,doesAddBorderForTableAndCells:5===
v.offsetTop},i.style.position="fixed",i.style.top="20px",f.fixedPosition=20===i.offsetTop||15===i.offsetTop,i.style.position=i.style.top="",g.style.overflow="hidden",g.style.position="relative",f.subtractsBorderForOverflowNotVisible=-5===i.offsetTop,f.doesNotIncludeMarginInBodyOffset=1!==j.offsetTop,c.getComputedStyle&&(h.style.marginTop="1%",a.pixelMargin="1%"!==(c.getComputedStyle(h,null)||{marginTop:0}).marginTop),"undefined"!=typeof d.style.zoom&&(d.style.zoom=1),j.removeChild(d),h=null,b.extend(a,
f))});return a}();var S=/^(?:\{.*\}|\[.*\])$/,ea=/([A-Z])/g;b.extend({cache:{},uuid:0,expando:"jQuery"+(b.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?b.cache[a[b.expando]]:a[b.expando];return!!a&&!W(a)},data:function(a,d,g,i){if(b.acceptData(a)){var c,e;c=b.expando;var k="string"==typeof d,h=a.nodeType,l=h?b.cache:a,j=h?a[c]:a[c]&&c,y="events"===d;if(j&&l[j]&&(y||i||l[j].data)||!(k&&g===
f)){j||(h?a[c]=j=++b.uuid:j=c);l[j]||(l[j]={},h||(l[j].toJSON=b.noop));if("object"==typeof d||"function"==typeof d)i?l[j]=b.extend(l[j],d):l[j].data=b.extend(l[j].data,d);a=c=l[j];i||(c.data||(c.data={}),c=c.data);g!==f&&(c[b.camelCase(d)]=g);if(y&&!c[d])return a.events;k?(e=c[d],null==e&&(e=c[b.camelCase(d)])):e=c;return e}}},removeData:function(a,d,g){if(b.acceptData(a)){var i,c,e,k=b.expando,f=a.nodeType,l=f?b.cache:a,h=f?a[k]:k;if(l[h]){if(d&&(i=g?l[h]:l[h].data)){b.isArray(d)||(d in i?d=[d]:
(d=b.camelCase(d),d in i?d=[d]:d=d.split(" ")));c=0;for(e=d.length;c<e;c++)delete i[d[c]];if(!(g?W:b.isEmptyObject)(i))return}if(g||!(delete l[h].data,!W(l[h])))b.support.deleteExpando||!l.setInterval?delete l[h]:l[h]=null,f&&(b.support.deleteExpando?delete a[k]:a.removeAttribute?a.removeAttribute(k):a[k]=null)}}},_data:function(a,d,g){return b.data(a,d,g,!0)},acceptData:function(a){if(a.nodeName){var d=b.noData[a.nodeName.toLowerCase()];if(d)return!0!==d&&a.getAttribute("classid")===d}return!0}});
b.fn.extend({data:function(a,d){var g,i,c,e,k,l=this[0],h=0,j=null;if(a===f){if(this.length&&(j=b.data(l),1===l.nodeType&&!b._data(l,"parsedAttrs"))){c=l.attributes;for(k=c.length;h<k;h++)e=c[h].name,0===e.indexOf("data-")&&(e=b.camelCase(e.substring(5)),X(l,e,j[e]));b._data(l,"parsedAttrs",!0)}return j}if("object"==typeof a)return this.each(function(){b.data(this,a)});g=a.split(".",2);g[1]=g[1]?"."+g[1]:"";i=g[1]+"!";return b.access(this,function(d){if(d===f)return j=this.triggerHandler("getData"+
i,[g[0]]),j===f&&l&&(j=b.data(l,a),j=X(l,a,j)),j===f&&g[1]?this.data(g[0]):j;g[1]=d;this.each(function(){var c=b(this);c.triggerHandler("setData"+i,g);b.data(this,a,d);c.triggerHandler("changeData"+i,g)})},null,d,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){b.removeData(this,a)})}});b.extend({_mark:function(a,d){a&&(d=(d||"fx")+"mark",b._data(a,d,(b._data(a,d)||0)+1))},_unmark:function(a,d,g){!0!==a&&(g=d,d=a,a=!1);if(d){var g=g||"fx",i=g+"mark";(a=a?0:(b._data(d,
i)||1)-1)?b._data(d,i,a):(b.removeData(d,i,!0),z(d,g,"mark"))}},queue:function(a,d,g){var i;if(a)return d=(d||"fx")+"queue",i=b._data(a,d),g&&(!i||b.isArray(g)?i=b._data(a,d,b.makeArray(g)):i.push(g)),i||[]},dequeue:function(a,d){var d=d||"fx",g=b.queue(a,d),i=g.shift(),c={};"inprogress"===i&&(i=g.shift());i&&("fx"===d&&g.unshift("inprogress"),b._data(a,d+".run",c),i.call(a,function(){b.dequeue(a,d)},c));g.length||(b.removeData(a,d+"queue "+d+".run",!0),z(a,d,"queue"))}});b.fn.extend({queue:function(a,
d){var g=2;"string"!=typeof a&&(d=a,a="fx",g--);return arguments.length<g?b.queue(this[0],a):d===f?this:this.each(function(){var g=b.queue(this,a,d);"fx"===a&&"inprogress"!==g[0]&&b.dequeue(this,a)})},dequeue:function(a){return this.each(function(){b.dequeue(this,a)})},delay:function(a,d){a=b.fx?b.fx.speeds[a]||a:a;return this.queue(d||"fx",function(b,d){var c=setTimeout(b,a);d.stop=function(){clearTimeout(c)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,d){function g(){--k||
i.resolveWith(c,[c])}"string"!=typeof a&&(d=a,a=f);for(var a=a||"fx",i=b.Deferred(),c=this,e=c.length,k=1,l=a+"defer",h=a+"queue",j=a+"mark",y;e--;)if(y=b.data(c[e],l,f,!0)||(b.data(c[e],h,f,!0)||b.data(c[e],j,f,!0))&&b.data(c[e],l,b.Callbacks("once memory"),!0))k++,y.add(g);g();return i.promise(d)}});var Y=/[\n\t\r]/g,k=/\s+/,l=/\r/g,y=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,C=/^a(?:rea)?$/i,M=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
N=b.support.getSetAttribute,Q,T,ra;b.fn.extend({attr:function(a,d){return b.access(this,b.attr,a,d,1<arguments.length)},removeAttr:function(a){return this.each(function(){b.removeAttr(this,a)})},prop:function(a,d){return b.access(this,b.prop,a,d,1<arguments.length)},removeProp:function(a){a=b.propFix[a]||a;return this.each(function(){try{this[a]=f,delete this[a]}catch(b){}})},addClass:function(a){var d,g,i,c,e,f,l;if(b.isFunction(a))return this.each(function(d){b(this).addClass(a.call(this,d,this.className))});
if(a&&"string"==typeof a){d=a.split(k);g=0;for(i=this.length;g<i;g++)if(c=this[g],1===c.nodeType)if(!c.className&&1===d.length)c.className=a;else{e=" "+c.className+" ";f=0;for(l=d.length;f<l;f++)~e.indexOf(" "+d[f]+" ")||(e+=d[f]+" ");c.className=b.trim(e)}}return this},removeClass:function(a){var d,g,i,c,e,l,h;if(b.isFunction(a))return this.each(function(d){b(this).removeClass(a.call(this,d,this.className))});if(a&&"string"==typeof a||a===f){d=(a||"").split(k);g=0;for(i=this.length;g<i;g++)if(c=
this[g],1===c.nodeType&&c.className)if(a){e=(" "+c.className+" ").replace(Y," ");l=0;for(h=d.length;l<h;l++)e=e.replace(" "+d[l]+" "," ");c.className=b.trim(e)}else c.className=""}return this},toggleClass:function(a,d){var g=typeof a,i="boolean"==typeof d;return b.isFunction(a)?this.each(function(g){b(this).toggleClass(a.call(this,g,this.className,d),d)}):this.each(function(){if("string"===g)for(var c,e=0,f=b(this),l=d,h=a.split(k);c=h[e++];)l=i?l:!f.hasClass(c),f[l?"addClass":"removeClass"](c);else if("undefined"===
g||"boolean"===g)this.className&&b._data(this,"__className__",this.className),this.className=this.className||!1===a?"":b._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,g=this.length;b<g;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(Y," ").indexOf(a))return!0;return!1},val:function(a){var d,g,i,c=this[0];if(arguments.length)return i=b.isFunction(a),this.each(function(g){var c=b(this),e;if(1===this.nodeType&&(i?e=a.call(this,g,c.val()):e=a,null==
e?e="":"number"==typeof e?e+="":b.isArray(e)&&(e=b.map(e,function(a){return a==null?"":a+""})),d=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],!d||!("set"in d)||d.set(this,e,"value")===f))this.value=e});if(c){if((d=b.valHooks[c.type]||b.valHooks[c.nodeName.toLowerCase()])&&"get"in d&&(g=d.get(c,"value"))!==f)return g;g=c.value;return"string"==typeof g?g.replace(l,""):null==g?"":g}}});b.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:
a.text}},select:{get:function(a){var d,g,i=a.selectedIndex,c=[],e=a.options,k="select-one"===a.type;if(0>i)return null;a=k?i:0;for(g=k?i+1:e.length;a<g;a++)if(d=e[a],d.selected&&(b.support.optDisabled?!d.disabled:null===d.getAttribute("disabled"))&&(!d.parentNode.disabled||!b.nodeName(d.parentNode,"optgroup"))){d=b(d).val();if(k)return d;c.push(d)}return k&&!c.length&&e.length?b(e[i]).val():c},set:function(a,d){var g=b.makeArray(d);b(a).find("option").each(function(){this.selected=0<=b.inArray(b(this).val(),
g)});g.length||(a.selectedIndex=-1);return g}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,d,g,i){var c,e,k=a.nodeType;if(a&&3!==k&&8!==k&&2!==k){if(i&&d in b.attrFn)return b(a)[d](g);if("undefined"==typeof a.getAttribute)return b.prop(a,d,g);(i=1!==k||!b.isXMLDoc(a))&&(d=d.toLowerCase(),e=b.attrHooks[d]||(M.test(d)?T:Q));if(g!==f){if(null===g){b.removeAttr(a,d);return}if(e&&"set"in e&&i&&(c=e.set(a,g,d))!==f)return c;a.setAttribute(d,""+g);return g}if(e&&
"get"in e&&i&&null!==(c=e.get(a,d)))return c;c=a.getAttribute(d);return null===c?f:c}},removeAttr:function(a,d){var g,i,c,e,f,l=0;if(d&&1===a.nodeType){i=d.toLowerCase().split(k);for(e=i.length;l<e;l++)(c=i[l])&&(g=b.propFix[c]||c,f=M.test(c),f||b.attr(a,c,""),a.removeAttribute(N?c:g),f&&g in a&&(a[g]=!1))}},attrHooks:{type:{set:function(a,d){if(y.test(a.nodeName)&&a.parentNode)b.error("type property can't be changed");else if(!b.support.radioValue&&"radio"===d&&b.nodeName(a,"input")){var g=a.value;
a.setAttribute("type",d);g&&(a.value=g);return d}}},value:{get:function(a,d){return Q&&b.nodeName(a,"button")?Q.get(a,d):d in a?a.value:null},set:function(a,d,g){if(Q&&b.nodeName(a,"button"))return Q.set(a,d,g);a.value=d}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,
d,g){var i,c,e;e=a.nodeType;if(a&&3!==e&&8!==e&&2!==e)return(1!==e||!b.isXMLDoc(a))&&(d=b.propFix[d]||d,c=b.propHooks[d]),g!==f?c&&"set"in c&&(i=c.set(a,g,d))!==f?i:a[d]=g:c&&"get"in c&&null!==(i=c.get(a,d))?i:a[d]},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):s.test(a.nodeName)||C.test(a.nodeName)&&a.href?0:f}}}});b.attrHooks.tabindex=b.propHooks.tabIndex;T={get:function(a,d){var g,i=b.prop(a,d);return!0===i||"boolean"!=typeof i&&
(g=a.getAttributeNode(d))&&!1!==g.nodeValue?d.toLowerCase():f},set:function(a,d,g){var i;!1===d?b.removeAttr(a,g):(i=b.propFix[g]||g,i in a&&(a[i]=!0),a.setAttribute(g,g.toLowerCase()));return g}};N||(ra={name:!0,id:!0,coords:!0},Q=b.valHooks.button={get:function(a,b){var g;return(g=a.getAttributeNode(b))&&(ra[b]?""!==g.nodeValue:g.specified)?g.nodeValue:f},set:function(a,b,g){var i=a.getAttributeNode(g);i||(i=e.createAttribute(g),a.setAttributeNode(i));return i.nodeValue=b+""}},b.attrHooks.tabindex.set=
Q.set,b.each(["width","height"],function(a,d){b.attrHooks[d]=b.extend(b.attrHooks[d],{set:function(a,b){if(""===b)return a.setAttribute(d,"auto"),b}})}),b.attrHooks.contenteditable={get:Q.get,set:function(a,b,g){""===b&&(b="false");Q.set(a,b,g)}});b.support.hrefNormalized||b.each(["href","src","width","height"],function(a,d){b.attrHooks[d]=b.extend(b.attrHooks[d],{get:function(a){a=a.getAttribute(d,2);return null===a?f:a}})});b.support.style||(b.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||
f},set:function(a,b){return a.style.cssText=""+b}});b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex);return null}}));b.support.enctype||(b.propFix.enctype="encoding");b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],
{set:function(a,d){if(b.isArray(d))return a.checked=0<=b.inArray(b(a).val(),d)}})});var za=/^(?:textarea|input|select)$/i,Ma=/^([^\.]*)?(?:\.(.+))?$/,gb=/(?:^|\s)hover(\.\S+)?\b/,hb=/^key/,ib=/^(?:mouse|contextmenu)|click/,Na=/^(?:focusinfocus|focusoutblur)$/,jb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,kb=function(a){(a=jb.exec(a))&&(a[1]=(a[1]||"").toLowerCase(),a[3]=a[3]&&RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)"));return a},Oa=function(a){return b.event.special.hover?a:a.replace(gb,"mouseenter$1 mouseleave$1")};
b.event={add:function(a,d,g,i,c){var e,k,l,h,j,y,s,n,m;if(!(3===a.nodeType||8===a.nodeType||!d||!g||!(e=b._data(a)))){g.handler&&(s=g,g=s.handler,c=s.selector);g.guid||(g.guid=b.guid++);(l=e.events)||(e.events=l={});(k=e.handle)||(e.handle=k=function(a){return"undefined"!=typeof b&&(!a||b.event.triggered!==a.type)?b.event.dispatch.apply(k.elem,arguments):f},k.elem=a);d=b.trim(Oa(d)).split(" ");for(e=0;e<d.length;e++){h=Ma.exec(d[e])||[];j=h[1];y=(h[2]||"").split(".").sort();m=b.event.special[j]||
{};j=(c?m.delegateType:m.bindType)||j;m=b.event.special[j]||{};h=b.extend({type:j,origType:h[1],data:i,handler:g,guid:g.guid,selector:c,quick:c&&kb(c),namespace:y.join(".")},s);n=l[j];if(!n&&(n=l[j]=[],n.delegateCount=0,!m.setup||!1===m.setup.call(a,i,y,k)))a.addEventListener?a.addEventListener(j,k,!1):a.attachEvent&&a.attachEvent("on"+j,k);m.add&&(m.add.call(a,h),h.handler.guid||(h.handler.guid=g.guid));c?n.splice(n.delegateCount++,0,h):n.push(h);b.event.global[j]=!0}a=null}},global:{},remove:function(a,
d,g,i,c){var e=b.hasData(a)&&b._data(a),k,l,f,h,j,y,s,n,m,r,C;if(e&&(s=e.events)){d=b.trim(Oa(d||"")).split(" ");for(k=0;k<d.length;k++)if(l=Ma.exec(d[k])||[],f=h=l[1],l=l[2],f){n=b.event.special[f]||{};f=(i?n.delegateType:n.bindType)||f;r=s[f]||[];j=r.length;l=l?RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(y=0;y<r.length;y++)C=r[y],(c||h===C.origType)&&(!g||g.guid===C.guid)&&(!l||l.test(C.namespace))&&(!i||i===C.selector||"**"===i&&C.selector)&&(r.splice(y--,1),
C.selector&&r.delegateCount--,n.remove&&n.remove.call(a,C));0===r.length&&j!==r.length&&((!n.teardown||!1===n.teardown.call(a,l))&&b.removeEvent(a,f,e.handle),delete s[f])}else for(f in s)b.event.remove(a,f+d[k],g,i,!0);b.isEmptyObject(s)&&(m=e.handle,m&&(m.elem=null),b.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(a,d,g,i){if(!g||3!==g.nodeType&&8!==g.nodeType){var e=a.type||a,k=[],l,h,j,y,s,n;if(!Na.test(e+b.event.triggered)&&(0<=e.indexOf("!")&&
(e=e.slice(0,-1),l=!0),0<=e.indexOf(".")&&(k=e.split("."),e=k.shift(),k.sort()),g&&!b.event.customEvent[e]||b.event.global[e]))if(a="object"==typeof a?a[b.expando]?a:new b.Event(e,a):new b.Event(e),a.type=e,a.isTrigger=!0,a.exclusive=l,a.namespace=k.join("."),a.namespace_re=a.namespace?RegExp("(^|\\.)"+k.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,l=0>e.indexOf(":")?"on"+e:"",g){if(a.result=f,a.target||(a.target=g),d=null!=d?b.makeArray(d):[],d.unshift(a),y=b.event.special[e]||{},!(y.trigger&&!1===y.trigger.apply(g,
d))){n=[[g,y.bindType||e]];if(!i&&!y.noBubble&&!b.isWindow(g)){h=y.delegateType||e;k=Na.test(h+e)?g:g.parentNode;for(j=null;k;k=k.parentNode)n.push([k,h]),j=k;j&&j===g.ownerDocument&&n.push([j.defaultView||j.parentWindow||c,h])}for(h=0;h<n.length&&!a.isPropagationStopped();h++)k=n[h][0],a.type=n[h][1],(s=(b._data(k,"events")||{})[a.type]&&b._data(k,"handle"))&&s.apply(k,d),(s=l&&k[l])&&b.acceptData(k)&&!1===s.apply(k,d)&&a.preventDefault();a.type=e;!i&&!a.isDefaultPrevented()&&(!y._default||!1===
y._default.apply(g.ownerDocument,d))&&("click"!==e||!b.nodeName(g,"a"))&&b.acceptData(g)&&l&&g[e]&&("focus"!==e&&"blur"!==e||0!==a.target.offsetWidth)&&!b.isWindow(g)&&(j=g[l],j&&(g[l]=null),b.event.triggered=e,g[e](),b.event.triggered=f,j&&(g[l]=j));return a.result}}else for(h in g=b.cache,g)g[h].events&&g[h].events[e]&&b.event.trigger(a,d,g[h].handle.elem,!0)}},dispatch:function(a){var a=b.event.fix(a||c.event),d=(b._data(this,"events")||{})[a.type]||[],g=d.delegateCount,i=[].slice.call(arguments,
0),e=!a.exclusive&&!a.namespace,k=b.event.special[a.type]||{},l=[],h,j,y,s,n,m,r;i[0]=a;a.delegateTarget=this;if(!k.preDispatch||!1!==k.preDispatch.call(this,a)){if(g&&(!a.button||"click"!==a.type)){y=b(this);y.context=this.ownerDocument||this;for(j=a.target;j!=this;j=j.parentNode||this)if(!0!==j.disabled){n={};m=[];y[0]=j;for(h=0;h<g;h++){s=d[h];r=s.selector;if(n[r]===f){var C=n,M=r,o;if(s.quick){o=s.quick;var p=j.attributes||{};o=(!o[1]||j.nodeName.toLowerCase()===o[1])&&(!o[2]||(p.id||{}).value===
o[2])&&(!o[3]||o[3].test((p["class"]||{}).value))}else o=y.is(r);C[M]=o}n[r]&&m.push(s)}m.length&&l.push({elem:j,matches:m})}}d.length>g&&l.push({elem:this,matches:d.slice(g)});for(h=0;h<l.length&&!a.isPropagationStopped();h++){g=l[h];a.currentTarget=g.elem;for(d=0;d<g.matches.length&&!a.isImmediatePropagationStopped();d++)if(s=g.matches[d],e||!a.namespace&&!s.namespace||a.namespace_re&&a.namespace_re.test(s.namespace))a.data=s.data,a.handleObj=s,s=((b.event.special[s.origType]||{}).handle||s.handler).apply(g.elem,
i),s!==f&&(a.result=s,!1===s&&(a.preventDefault(),a.stopPropagation()))}k.postDispatch&&k.postDispatch.call(this,a);return a.result}},props:"attrChange,attrName,relatedNode,srcElement,altKey,bubbles,cancelable,ctrlKey,currentTarget,eventPhase,metaKey,relatedTarget,shiftKey,target,timeStamp,view,which".split(","),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button,buttons,clientX,clientY,fromElement,offsetX,offsetY,pageX,pageY,screenX,screenY,toElement".split(","),
filter:function(a,b){var g,i,c,k=b.button,l=b.fromElement;null==a.pageX&&null!=b.clientX&&(g=a.target.ownerDocument||e,i=g.documentElement,c=g.body,a.pageX=b.clientX+(i&&i.scrollLeft||c&&c.scrollLeft||0)-(i&&i.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(i&&i.scrollTop||c&&c.scrollTop||0)-(i&&i.clientTop||c&&c.clientTop||0));!a.relatedTarget&&l&&(a.relatedTarget=l===a.target?b.toElement:l);!a.which&&k!==f&&(a.which=k&1?1:k&2?3:k&4?2:0);return a}},fix:function(a){if(a[b.expando])return a;var d,
g,i=a,c=b.event.fixHooks[a.type]||{},k=c.props?this.props.concat(c.props):this.props,a=b.Event(i);for(d=k.length;d;)g=k[--d],a[g]=i[g];a.target||(a.target=i.srcElement||e);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey===f&&(a.metaKey=a.ctrlKey);return c.filter?c.filter(a,i):a},special:{ready:{setup:b.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,d,g){b.isWindow(this)&&(this.onbeforeunload=g)},teardown:function(a,
b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,d,g,i){a=b.extend(new b.Event,g,{type:a,isSimulated:!0,originalEvent:{}});i?b.event.trigger(a,null,d):b.event.dispatch.call(d,a);a.isDefaultPrevented()&&g.preventDefault()}};b.event.handle=b.event.dispatch;b.removeEvent=e.removeEventListener?function(a,b,g){a.removeEventListener&&a.removeEventListener(b,g,!1)}:function(a,b,g){a.detachEvent&&a.detachEvent("on"+b,g)};b.Event=function(a,d){if(!(this instanceof b.Event))return new b.Event(a,
d);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?I:j):this.type=a;d&&b.extend(this,d);this.timeStamp=a&&a.timeStamp||b.now();this[b.expando]=!0};b.Event.prototype={preventDefault:function(){this.isDefaultPrevented=I;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=I;var a=this.originalEvent;!a||(a.stopPropagation&&
a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=I;this.stopPropagation()},isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j};b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,d){b.event.special[a]={delegateType:d,bindType:d,handle:function(a){var i=a.relatedTarget,c=a.handleObj,e;if(!i||i!==this&&!b.contains(this,i))a.type=c.origType,e=c.handler.apply(this,arguments),a.type=d;return e}}});b.support.submitBubbles||
(b.event.special.submit={setup:function(){if(b.nodeName(this,"form"))return!1;b.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=b.nodeName(a,"input")||b.nodeName(a,"button")?a.form:f)&&!a._submit_attached&&(b.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),a._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&b.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(b.nodeName(this,
"form"))return!1;b.event.remove(this,"._submit")}});b.support.changeBubbles||(b.event.special.change={setup:function(){if(za.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)b.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,b.event.simulate("change",this,a,!0))});return!1}b.event.add(this,"beforeactivate._change",
function(a){a=a.target;za.test(a.nodeName)&&!a._change_attached&&(b.event.add(a,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&b.event.simulate("change",this.parentNode,a,!0)}),a._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){b.event.remove(this,"._change");return za.test(this.nodeName)}});b.support.focusinBubbles||
b.each({focus:"focusin",blur:"focusout"},function(a,d){var g=0,i=function(a){b.event.simulate(d,a.target,b.event.fix(a),!0)};b.event.special[d]={setup:function(){0===g++&&e.addEventListener(a,i,!0)},teardown:function(){0===--g&&e.removeEventListener(a,i,!0)}}});b.fn.extend({on:function(a,d,g,i,c){var e,k;if("object"==typeof a){"string"!=typeof d&&(g=g||d,d=f);for(k in a)this.on(k,d,g,a[k],c);return this}null==g&&null==i?(i=d,g=d=f):null==i&&("string"==typeof d?(i=g,g=f):(i=g,g=d,d=f));if(!1===i)i=
j;else if(!i)return this;1===c&&(e=i,i=function(a){b().off(a);return e.apply(this,arguments)},i.guid=e.guid||(e.guid=b.guid++));return this.each(function(){b.event.add(this,a,i,g,d)})},one:function(a,b,g,i){return this.on(a,b,g,i,1)},off:function(a,d,g){if(a&&a.preventDefault&&a.handleObj){var i=a.handleObj;b(a.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);return this}if("object"==typeof a){for(i in a)this.off(i,d,a[i]);return this}if(!1===d||"function"==
typeof d)g=d,d=f;!1===g&&(g=j);return this.each(function(){b.event.remove(this,a,g,d)})},bind:function(a,b,g){return this.on(a,null,b,g)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,d,g){b(this.context).on(a,this.selector,d,g);return this},die:function(a,d){b(this.context).off(a,this.selector||"**",d);return this},delegate:function(a,b,g,i){return this.on(b,a,g,i)},undelegate:function(a,b,g){return 1==arguments.length?this.off(a,"**"):this.off(b,a,g)},trigger:function(a,d){return this.each(function(){b.event.trigger(a,
d,this)})},triggerHandler:function(a,d){if(this[0])return b.event.trigger(a,d,this[0],!0)},toggle:function(a){var d=arguments,g=a.guid||b.guid++,i=0,c=function(g){var c=(b._data(this,"lastToggle"+a.guid)||0)%i;b._data(this,"lastToggle"+a.guid,c+1);g.preventDefault();return d[c].apply(this,arguments)||!1};for(c.guid=g;i<d.length;)d[i++].guid=g;return this.click(c)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});b.each("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu".split(","),
function(a,d){b.fn[d]=function(a,b){b==null&&(b=a,a=null);return arguments.length>0?this.on(d,null,a,b):this.trigger(d)};b.attrFn&&(b.attrFn[d]=true);hb.test(d)&&(b.event.fixHooks[d]=b.event.keyHooks);ib.test(d)&&(b.event.fixHooks[d]=b.event.mouseHooks)});(function(){function a(a,b,d,g,c,e){for(var c=0,k=g.length;c<k;c++){var l=g[c];if(l){for(var h=!1,l=l[a];l;){if(l[i]===d){h=g[l.sizset];break}if(1===l.nodeType)if(e||(l[i]=d,l.sizset=c),"string"!=typeof b){if(l===b){h=!0;break}}else if(0<n.filter(b,
[l]).length){h=l;break}l=l[a]}g[c]=h}}}function d(a,b,d,g,c,e){for(var c=0,k=g.length;c<k;c++){var l=g[c];if(l){for(var h=!1,l=l[a];l;){if(l[i]===d){h=g[l.sizset];break}1===l.nodeType&&!e&&(l[i]=d,l.sizset=c);if(l.nodeName.toLowerCase()===b){h=l;break}l=l[a]}g[c]=h}}}var g=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i="sizcache"+(Math.random()+"").replace(".",""),c=0,k=Object.prototype.toString,l=!1,h=!0,j=/\\/g,
y=/\r\n/g,s=/\W/;[0,0].sort(function(){h=!1;return 0});var n=function(a,b,d,i){var d=d||[],c=b=b||e;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!=typeof a)return d;var l,h,f,j,v,y,s=!0,D=n.isXML(b),m=[],Fa=a;do if(g.exec(""),l=g.exec(Fa))if(Fa=l[3],m.push(l[1]),l[2]){j=l[3];break}while(l);if(1<m.length&&C.exec(a))if(2===m.length&&r.relative[m[0]])h=x(m[0]+m[1],b,i);else for(h=r.relative[m[0]]?[b]:n(m.shift(),b);m.length;)a=m.shift(),r.relative[a]&&(a+=m.shift()),h=x(a,h,i);else if(!i&&
1<m.length&&9===b.nodeType&&!D&&r.match.ID.test(m[0])&&!r.match.ID.test(m[m.length-1])&&(v=n.find(m.shift(),b,D),b=v.expr?n.filter(v.expr,v.set)[0]:v.set[0]),b){v=i?{expr:m.pop(),set:p(i)}:n.find(m.pop(),1===m.length&&("~"===m[0]||"+"===m[0])&&b.parentNode?b.parentNode:b,D);h=v.expr?n.filter(v.expr,v.set):v.set;for(0<m.length?f=p(h):s=!1;m.length;)l=y=m.pop(),r.relative[y]?l=m.pop():y="",null==l&&(l=b),r.relative[y](f,l,D)}else f=[];f||(f=h);f||n.error(y||a);if("[object Array]"===k.call(f))if(s)if(b&&
1===b.nodeType)for(a=0;null!=f[a];a++)f[a]&&(!0===f[a]||1===f[a].nodeType&&n.contains(b,f[a]))&&d.push(h[a]);else for(a=0;null!=f[a];a++)f[a]&&1===f[a].nodeType&&d.push(h[a]);else d.push.apply(d,f);else p(f,d);j&&(n(j,c,d,i),n.uniqueSort(d));return d};n.uniqueSort=function(a){if(A&&(l=h,a.sort(A),l))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};n.matches=function(a,b){return n(a,null,null,b)};n.matchesSelector=function(a,b){return 0<n(b,null,null,[a]).length};n.find=function(a,
b,d){var g,i,c,e,k,l;if(!a)return[];i=0;for(c=r.order.length;i<c;i++)if(k=r.order[i],e=r.leftMatch[k].exec(a))if(l=e[1],e.splice(1,1),"\\"!==l.substr(l.length-1)&&(e[1]=(e[1]||"").replace(j,""),g=r.find[k](e,b,d),null!=g)){a=a.replace(r.match[k],"");break}g||(g="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]);return{set:g,expr:a}};n.filter=function(a,b,d,g){for(var i,c,e,k,l,h,j,v,y=a,s=[],D=b,P=b&&b[0]&&n.isXML(b[0]);a&&b.length;){for(e in r.filter)if(null!=(i=r.leftMatch[e].exec(a))&&
i[2])if(h=r.filter[e],l=i[1],c=!1,i.splice(1,1),"\\"!==l.substr(l.length-1)){D===s&&(s=[]);if(r.preFilter[e])if(i=r.preFilter[e](i,D,d,s,g,P)){if(!0===i)continue}else c=k=!0;if(i)for(j=0;null!=(l=D[j]);j++)l&&(k=h(l,i,j,D),v=g^k,d&&null!=k?v?c=!0:D[j]=!1:v&&(s.push(l),c=!0));if(k!==f){d||(D=s);a=a.replace(r.match[e],"");if(!c)return[];break}}if(a===y)if(null==c)n.error(a);else break;y=a}return D};n.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};var m=n.getText=function(a){var b,
d;b=a.nodeType;var g="";if(b)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;if("string"==typeof a.innerText)return a.innerText.replace(y,"");for(a=a.firstChild;a;a=a.nextSibling)g+=m(a)}else{if(3===b||4===b)return a.nodeValue}else for(b=0;d=a[b];b++)8!==d.nodeType&&(g+=m(d));return g},r=n.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},
type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var d="string"==typeof b,g=d&&!s.test(b),d=d&&!g;g&&(b=b.toLowerCase());for(var g=0,i=a.length,c;g<i;g++)if(c=a[g]){for(;(c=c.previousSibling)&&1!==c.nodeType;);a[g]=d||c&&c.nodeName.toLowerCase()===b?c||!1:c===b}d&&n.filter(b,a,!0)},">":function(a,b){var d,g="string"==typeof b,i=0,c=a.length;if(g&&!s.test(b))for(b=b.toLowerCase();i<c;i++){if(d=a[i])d=d.parentNode,a[i]=d.nodeName.toLowerCase()===b?d:!1}else{for(;i<c;i++)(d=
a[i])&&(a[i]=g?d.parentNode:d.parentNode===b);g&&n.filter(b,a,!0)}},"":function(b,g,i){var e,k=c++,l=a;"string"==typeof g&&!s.test(g)&&(g=g.toLowerCase(),e=g,l=d);l("parentNode",g,k,b,e,i)},"~":function(b,g,i){var e,k=c++,l=a;"string"==typeof g&&!s.test(g)&&(g=g.toLowerCase(),e=g,l=d);l("previousSibling",g,k,b,e,i)}},find:{ID:function(a,b,d){if("undefined"!=typeof b.getElementById&&!d)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!=typeof b.getElementsByName){for(var d=
[],g=b.getElementsByName(a[1]),i=0,c=g.length;i<c;i++)g[i].getAttribute("name")===a[1]&&d.push(g[i]);return 0===d.length?null:d}},TAG:function(a,b){if("undefined"!=typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,d,g,i,c){a=" "+a[1].replace(j,"")+" ";if(c)return a;for(var c=0,e;null!=(e=b[c]);c++)e&&(i^(e.className&&0<=(" "+e.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?d||g.push(e):d&&(b[c]=!1));return!1},ID:function(a){return a[1].replace(j,
"")},TAG:function(a){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||n.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&n.error(a[0]);a[0]=c++;return a},ATTR:function(a,b,d,g,i,c){b=a[1]=a[1].replace(j,"");!c&&r.attrMap[b]&&(a[1]=r.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(j,"");"~="===a[2]&&(a[4]=" "+a[4]+
" ");return a},PSEUDO:function(a,b,d,i,c){if("not"===a[1])if(1<(g.exec(a[3])||"").length||/^\w/.test(a[3]))a[3]=n(a[3],null,null,b);else return a=n.filter(a[3],b,d,1^c),d||i.push.apply(i,a),!1;else if(r.match.POS.test(a[0])||r.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode&&
a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,d){return!!n(d[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),d=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===d&&(b===d||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===
a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();
return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,d,g){return b===g.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,d){return b<d[3]-0},gt:function(a,b,d){return b>d[3]-0},nth:function(a,b,d){return d[3]-0===b},eq:function(a,b,d){return d[3]-0===b}},filter:{PSEUDO:function(a,
b,d,g){var i=b[1],c=r.filters[i];if(c)return c(a,d,b,g);if("contains"===i)return 0<=(a.textContent||a.innerText||m([a])||"").indexOf(b[3]);if("not"===i){b=b[3];d=0;for(g=b.length;d<g;d++)if(b[d]===a)return!1;return!0}n.error(i)},CHILD:function(a,b){var d,g,c,e,k,l;d=b[1];l=a;switch(d){case "only":case "first":for(;l=l.previousSibling;)if(1===l.nodeType)return!1;if("first"===d)return!0;l=a;case "last":for(;l=l.nextSibling;)if(1===l.nodeType)return!1;return!0;case "nth":d=b[2];g=b[3];if(1===d&&0===
g)return!0;c=b[0];if((e=a.parentNode)&&(e[i]!==c||!a.nodeIndex)){k=0;for(l=e.firstChild;l;l=l.nextSibling)1===l.nodeType&&(l.nodeIndex=++k);e[i]=c}l=a.nodeIndex-g;return 0===d?0===l:0===l%d&&0<=l/d}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var d=b[1],d=n.attr?n.attr(a,d):r.attrHandle[d]?
r.attrHandle[d](a):null!=a[d]?a[d]:a.getAttribute(d),g=d+"",i=b[2],c=b[4];return null==d?"!="===i:!i&&n.attr?null!=d:"="===i?g===c:"*="===i?0<=g.indexOf(c):"~="===i?0<=(" "+g+" ").indexOf(c):c?"!="===i?g!==c:"^="===i?0===g.indexOf(c):"$="===i?g.substr(g.length-c.length)===c:"|="===i?g===c||g.substr(0,c.length+1)===c+"-":!1:g&&!1!==d},POS:function(a,b,d,g){var i=r.setFilters[b[2]];if(i)return i(a,d,b,g)}}},C=r.match.POS,o=function(a,b){return"\\"+(b-0+1)},M;for(M in r.match)r.match[M]=RegExp(r.match[M].source+
/(?![^\[]*\])(?![^\(]*\))/.source),r.leftMatch[M]=RegExp(/(^(?:.|\r|\n)*?)/.source+r.match[M].source.replace(/\\(\d+)/g,o));r.match.globalPOS=C;var p=function(a,b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(e.documentElement.childNodes,0)[0].nodeType}catch(u){p=function(a,b){var d=0,g=b||[];if("[object Array]"===k.call(a))Array.prototype.push.apply(g,a);else if("number"==typeof a.length)for(var i=a.length;d<i;d++)g.push(a[d]);else for(;a[d];d++)g.push(a[d]);
return g}}var A,N;e.documentElement.compareDocumentPosition?A=function(a,b){return a===b?(l=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(A=function(a,b){if(a===b)return l=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var d,g,i=[],c=[];d=a.parentNode;g=b.parentNode;var e=d;if(d===g)return N(a,b);if(!d)return-1;if(!g)return 1;for(;e;)i.unshift(e),e=e.parentNode;for(e=g;e;)c.unshift(e),e=e.parentNode;
d=i.length;g=c.length;for(e=0;e<d&&e<g;e++)if(i[e]!==c[e])return N(i[e],c[e]);return e===d?N(a,c[e],-1):N(i[e],b,1)},N=function(a,b,d){if(a===b)return d;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});(function(){var a=e.createElement("div"),b="script"+(new Date).getTime(),d=e.documentElement;a.innerHTML="<a name='"+b+"'/>";d.insertBefore(a,d.firstChild);e.getElementById(b)&&(r.find.ID=function(a,b,d){if("undefined"!=typeof b.getElementById&&!d)return(b=b.getElementById(a[1]))?
b.id===a[1]||"undefined"!=typeof b.getAttributeNode&&b.getAttributeNode("id").nodeValue===a[1]?[b]:f:[]},r.filter.ID=function(a,b){var d="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&d&&d.nodeValue===b});d.removeChild(a);d=a=null})();(function(){var a=e.createElement("div");a.appendChild(e.createComment(""));0<a.getElementsByTagName("*").length&&(r.find.TAG=function(a,b){var d=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var g=[],i=0;d[i];i++)1===d[i].nodeType&&
g.push(d[i]);d=g}return d});a.innerHTML="<a href='#'></a>";a.firstChild&&"undefined"!=typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href")&&(r.attrHandle.href=function(a){return a.getAttribute("href",2)});a=null})();e.querySelectorAll&&function(){var a=n,b=e.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||0!==b.querySelectorAll(".TEST").length){n=function(b,d,g,i){d=d||e;if(!i&&!n.isXML(d)){var c=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(c&&
(1===d.nodeType||9===d.nodeType)){if(c[1])return p(d.getElementsByTagName(b),g);if(c[2]&&r.find.CLASS&&d.getElementsByClassName)return p(d.getElementsByClassName(c[2]),g)}if(9===d.nodeType){if("body"===b&&d.body)return p([d.body],g);if(c&&c[3]){var k=d.getElementById(c[3]);if(!k||!k.parentNode)return p([],g);if(k.id===c[3])return p([k],g)}try{return p(d.querySelectorAll(b),g)}catch(l){}}else if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){var c=d,h=(k=d.getAttribute("id"))||"__sizzle__",f=
d.parentNode,j=/^\s*[+~]/.test(b);k?h=h.replace(/'/g,"\\$&"):d.setAttribute("id",h);j&&f&&(d=d.parentNode);try{if(!j||f)return p(d.querySelectorAll("[id='"+h+"'] "+b),g)}catch(v){}finally{k||c.removeAttribute("id")}}}return a(b,d,g,i)};for(var d in a)n[d]=a[d];b=null}}();(function(){var a=e.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(e.createElement("div"),"div"),g=!1;try{b.call(e.documentElement,"[test!='']:sizzle")}catch(i){g=
!0}n.matchesSelector=function(a,i){i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!n.isXML(a))try{if(g||!r.match.PSEUDO.test(i)&&!/!=/.test(i)){var c=b.call(a,i);if(c||!d||a.document&&11!==a.document.nodeType)return c}}catch(e){}return 0<n(i,null,null,[a]).length}}})();(function(){var a=e.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&
(r.order.splice(1,0,"CLASS"),r.find.CLASS=function(a,b,d){if("undefined"!=typeof b.getElementsByClassName&&!d)return b.getElementsByClassName(a[1])},a=null))})();e.documentElement.contains?n.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:e.documentElement.compareDocumentPosition?n.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:n.contains=function(){return!1};n.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var x=
function(a,b,d){for(var g,i=[],c="",b=b.nodeType?[b]:b;g=r.match.PSEUDO.exec(a);)c+=g[0],a=a.replace(r.match.PSEUDO,"");a=r.relative[a]?a+"*":a;g=0;for(var e=b.length;g<e;g++)n(a,b[g],i,d);return n.filter(c,i)};n.attr=b.attr;n.selectors.attrMap={};b.find=n;b.expr=n.selectors;b.expr[":"]=b.expr.filters;b.unique=n.uniqueSort;b.text=n.getText;b.isXMLDoc=n.isXML;b.contains=n.contains})();var lb=/Until$/,mb=/^(?:parents|prevUntil|prevAll)/,nb=/,/,eb=/^.[^:#\[\.,]*$/,ob=Array.prototype.slice,Pa=b.expr.match.globalPOS,
pb={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(a){var d=this,g,i;if("string"!=typeof a)return b(a).filter(function(){g=0;for(i=d.length;g<i;g++)if(b.contains(d[g],this))return!0});var c=this.pushStack("","find",a),e,k,l;g=0;for(i=this.length;g<i;g++)if(e=c.length,b.find(a,this[g],c),0<g)for(k=e;k<c.length;k++)for(l=0;l<e;l++)if(c[l]===c[k]){c.splice(k--,1);break}return c},has:function(a){var d=b(a);return this.filter(function(){for(var a=0,i=d.length;a<i;a++)if(b.contains(this,
d[a]))return!0})},not:function(a){return this.pushStack(la(this,a,!1),"not",a)},filter:function(a){return this.pushStack(la(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?Pa.test(a)?0<=b(a,this.context).index(this[0]):0<b.filter(a,this).length:0<this.filter(a).length)},closest:function(a,d){var g=[],i,c,e=this[0];if(b.isArray(a)){for(c=1;e&&e.ownerDocument&&e!==d;){for(i=0;i<a.length;i++)b(e).is(a[i])&&g.push({selector:a[i],elem:e,level:c});e=e.parentNode;c++}return g}var k=
Pa.test(a)||"string"!=typeof a?b(a,d||this.context):0;i=0;for(c=this.length;i<c;i++)for(e=this[i];e;){if(k?-1<k.index(e):b.find.matchesSelector(e,a)){g.push(e);break}e=e.parentNode;if(!e||!e.ownerDocument||e===d||11===e.nodeType)break}g=1<g.length?b.unique(g):g;return this.pushStack(g,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:"string"==typeof a?b.inArray(this[0],b(a)):b.inArray(a.jquery?a[0]:a,this)},add:function(a,d){var g="string"==typeof a?b(a,
d):b.makeArray(a&&a.nodeType?[a]:a),i=b.merge(this.get(),g);return this.pushStack(!g[0]||!g[0].parentNode||11===g[0].parentNode.nodeType||!i[0]||!i[0].parentNode||11===i[0].parentNode.nodeType?i:b.unique(i))},andSelf:function(){return this.add(this.prevObject)}});b.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return b.dir(a,"parentNode")},parentsUntil:function(a,d,g){return b.dir(a,"parentNode",g)},next:function(a){return b.nth(a,2,"nextSibling")},prev:function(a){return b.nth(a,
2,"previousSibling")},nextAll:function(a){return b.dir(a,"nextSibling")},prevAll:function(a){return b.dir(a,"previousSibling")},nextUntil:function(a,d,g){return b.dir(a,"nextSibling",g)},prevUntil:function(a,d,g){return b.dir(a,"previousSibling",g)},siblings:function(a){return b.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return b.sibling(a.firstChild)},contents:function(a){return b.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:b.makeArray(a.childNodes)}},function(a,
d){b.fn[a]=function(g,i){var c=b.map(this,d,g);lb.test(a)||(i=g);i&&"string"==typeof i&&(c=b.filter(i,c));c=1<this.length&&!pb[a]?b.unique(c):c;(1<this.length||nb.test(i))&&mb.test(a)&&(c=c.reverse());return this.pushStack(c,a,ob.call(arguments).join(","))}});b.extend({filter:function(a,d,g){g&&(a=":not("+a+")");return 1===d.length?b.find.matchesSelector(d[0],a)?[d[0]]:[]:b.find.matches(a,d)},dir:function(a,d,g){for(var i=[],a=a[d];a&&9!==a.nodeType&&(g===f||1!==a.nodeType||!b(a).is(g));)1===a.nodeType&&
i.push(a),a=a[d];return i},nth:function(a,b,g){for(var b=b||1,i=0;a&&!(1===a.nodeType&&++i===b);a=a[g]);return a},sibling:function(a,b){for(var g=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&g.push(a);return g}});var Ha="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qb=/ jQuery\d+="(?:\d+|null)"/g,Aa=/^\s+/,Qa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ra=/<([\w:]+)/,
rb=/<tbody/i,sb=/<|&#?\w+;/,tb=/<(?:script|style)/i,ub=/<(?:script|object|embed|option|style)/i,Sa=RegExp("<(?:"+Ha+")[\\s/>]","i"),Ta=/checked\s*(?:[^=]|=\s*.checked.)/i,Ua=/\/(java|ecma)script/i,vb=/^\s*<!(?:\[CDATA\[|\-\-)/,J={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],
area:[1,"<map>","</map>"],_default:[0,"",""]},Ba=da(e);J.optgroup=J.option;J.tbody=J.tfoot=J.colgroup=J.caption=J.thead;J.th=J.td;b.support.htmlSerialize||(J._default=[1,"div<div>","</div>"]);b.fn.extend({text:function(a){return b.access(this,function(a){return a===f?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||e).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(b.isFunction(a))return this.each(function(d){b(this).wrapAll(a.call(this,d))});if(this[0]){var d=
b(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&d.insertBefore(this[0]);d.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return b.isFunction(a)?this.each(function(d){b(this).wrapInner(a.call(this,d))}):this.each(function(){var d=b(this),g=d.contents();g.length?g.wrapAll(a):d.append(a)})},wrap:function(a){var d=b.isFunction(a);return this.each(function(g){b(this).wrapAll(d?a.call(this,g):
a)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=
b.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,b.clean(arguments));return a}},remove:function(a,d){for(var g=0,i;null!=(i=this[g]);g++)if(!a||b.filter(a,[i]).length)!d&&1===i.nodeType&&(b.cleanData(i.getElementsByTagName("*")),
b.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i);return this},empty:function(){for(var a=0,d;null!=(d=this[a]);a++)for(1===d.nodeType&&b.cleanData(d.getElementsByTagName("*"));d.firstChild;)d.removeChild(d.firstChild);return this},clone:function(a,d){a=null==a?!1:a;d=null==d?a:d;return this.map(function(){return b.clone(this,a,d)})},html:function(a){return b.access(this,function(a){var g=this[0]||{},i=0,c=this.length;if(a===f)return 1===g.nodeType?g.innerHTML.replace(qb,""):null;if("string"==
typeof a&&!tb.test(a)&&(b.support.leadingWhitespace||!Aa.test(a))&&!J[(Ra.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Qa,"<$1></$2>");try{for(;i<c;i++)g=this[i]||{},1===g.nodeType&&(b.cleanData(g.getElementsByTagName("*")),g.innerHTML=a);g=0}catch(e){}}g&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(b.isFunction(a))return this.each(function(d){var g=b(this),i=g.html();g.replaceWith(a.call(this,d,i))});"string"!=typeof a&&(a=b(a).detach());
return this.each(function(){var d=this.nextSibling,g=this.parentNode;b(this).remove();d?b(d).before(a):b(g).append(a)})}return this.length?this.pushStack(b(b.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,d,g){var i,c,e,k=a[0],l=[];if(!b.support.checkClone&&3===arguments.length&&"string"==typeof k&&Ta.test(k))return this.each(function(){b(this).domManip(a,d,g,!0)});if(b.isFunction(k))return this.each(function(c){var i=b(this);a[0]=k.call(this,
c,d?i.html():f);i.domManip(a,d,g)});if(this[0]){e=k&&k.parentNode;b.support.parentNode&&e&&11===e.nodeType&&e.childNodes.length===this.length?i={fragment:e}:i=b.buildFragment(a,this,l);e=i.fragment;1===e.childNodes.length?c=e=e.firstChild:c=e.firstChild;if(c){d=d&&b.nodeName(c,"tr");c=0;for(var h=this.length,j=h-1;c<h;c++)g.call(d?b.nodeName(this[c],"table")?this[c].getElementsByTagName("tbody")[0]||this[c].appendChild(this[c].ownerDocument.createElement("tbody")):this[c]:this[c],i.cacheable||1<h&&
c<j?b.clone(e,!0,!0):e)}l.length&&b.each(l,function(a,d){d.src?b.ajax({type:"GET",global:!1,url:d.src,async:!1,dataType:"script"}):b.globalEval((d.text||d.textContent||d.innerHTML||"").replace(vb,"/*$0*/"));d.parentNode&&d.parentNode.removeChild(d)})}return this}});b.buildFragment=function(a,d,g){var c,k,l,h,f=a[0];d&&d[0]&&(h=d[0].ownerDocument||d[0]);h.createDocumentFragment||(h=e);1===a.length&&"string"==typeof f&&512>f.length&&h===e&&"<"===f.charAt(0)&&!ub.test(f)&&(b.support.checkClone||!Ta.test(f))&&
(b.support.html5Clone||!Sa.test(f))&&(k=!0,l=b.fragments[f],l&&1!==l&&(c=l));c||(c=h.createDocumentFragment(),b.clean(a,h,c,g));k&&(b.fragments[f]=l?c:1);return{fragment:c,cacheable:k}};b.fragments={};b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,d){b.fn[a]=function(g){var c=[],g=b(g),e=1===this.length&&this[0].parentNode;if(e&&11===e.nodeType&&1===e.childNodes.length&&1===g.length)return g[d](this[0]),this;for(var e=0,
k=g.length;e<k;e++){var l=(0<e?this.clone(!0):this).get();b(g[e])[d](l);c=c.concat(l)}return this.pushStack(c,a,g.selector)}});b.extend({clone:function(a,d,g){var c,k,l;b.support.html5Clone||b.isXMLDoc(a)||!Sa.test("<"+a.nodeName+">")?c=a.cloneNode(!0):(c=e.createElement("div"),Ba.appendChild(c),c.innerHTML=a.outerHTML,c=c.firstChild);var h=c;if((!b.support.noCloneEvent||!b.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!b.isXMLDoc(a)){F(a,h);c=U(a);k=U(h);for(l=0;c[l];++l)k[l]&&F(c[l],
k[l])}if(d&&(G(a,h),g)){c=U(a);k=U(h);for(l=0;c[l];++l)G(c[l],k[l])}return h},clean:function(a,d,g,c){var k,l=[],d=d||e;"undefined"==typeof d.createElement&&(d=d.ownerDocument||d[0]&&d[0].ownerDocument||e);for(var h=0,f;null!=(f=a[h]);h++)if("number"==typeof f&&(f+=""),f){if("string"==typeof f)if(sb.test(f)){f=f.replace(Qa,"<$1></$2>");k=(Ra.exec(f)||["",""])[1].toLowerCase();var j=J[k]||J._default,y=j[0],n=d.createElement("div"),s=Ba.childNodes,m;d===e?Ba.appendChild(n):da(d).appendChild(n);for(n.innerHTML=
j[1]+f+j[2];y--;)n=n.lastChild;if(!b.support.tbody){y=rb.test(f);j="table"===k&&!y?n.firstChild&&n.firstChild.childNodes:"<table>"===j[1]&&!y?n.childNodes:[];for(k=j.length-1;0<=k;--k)b.nodeName(j[k],"tbody")&&!j[k].childNodes.length&&j[k].parentNode.removeChild(j[k])}!b.support.leadingWhitespace&&Aa.test(f)&&n.insertBefore(d.createTextNode(Aa.exec(f)[0]),n.firstChild);f=n.childNodes;n&&(n.parentNode.removeChild(n),0<s.length&&(m=s[s.length-1],m&&m.parentNode&&m.parentNode.removeChild(m)))}else f=
d.createTextNode(f);var r;if(!b.support.appendChecked)if(f[0]&&"number"==typeof(r=f.length))for(k=0;k<r;k++)ba(f[k]);else ba(f);f.nodeType?l.push(f):l=b.merge(l,f)}if(g){a=function(a){return!a.type||Ua.test(a.type)};for(h=0;l[h];h++)d=l[h],c&&b.nodeName(d,"script")&&(!d.type||Ua.test(d.type))?c.push(d.parentNode?d.parentNode.removeChild(d):d):(1===d.nodeType&&(f=b.grep(d.getElementsByTagName("script"),a),l.splice.apply(l,[h+1,0].concat(f))),g.appendChild(d))}return l},cleanData:function(a){for(var d,
c,i=b.cache,e=b.event.special,k=b.support.deleteExpando,l=0,f;null!=(f=a[l]);l++)if(!f.nodeName||!b.noData[f.nodeName.toLowerCase()])if(c=f[b.expando]){if((d=i[c])&&d.events){for(var h in d.events)e[h]?b.event.remove(f,h):b.removeEvent(f,h,d.handle);d.handle&&(d.handle.elem=null)}k?delete f[b.expando]:f.removeAttribute&&f.removeAttribute(b.expando);delete i[c]}}});var Ca=/alpha\([^)]*\)/i,wb=/opacity=([^)]*)/,xb=/([A-Z]|^ms)/g,yb=/^[\-+]?(?:\d*\.)?\d+$/i,wa=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,zb=/^([\-+])=([\-+.\de]+)/,
Ab=/^margin/,Bb={position:"absolute",visibility:"hidden",display:"block"},aa=["Top","Right","Bottom","Left"],ka,Va,Wa;b.fn.css=function(a,d){return b.access(this,function(a,d,c){return c!==f?b.style(a,d,c):b.css(a,d)},a,d,1<arguments.length)};b.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=ka(a,"opacity");return""===c?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?
"cssFloat":"styleFloat"},style:function(a,d,c,i){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,k=b.camelCase(d),l=a.style,h=b.cssHooks[k],d=b.cssProps[k]||k;if(c===f)return h&&"get"in h&&(e=h.get(a,!1,i))!==f?e:l[d];i=typeof c;"string"===i&&(e=zb.exec(c))&&(c=+(e[1]+1)*+e[2]+parseFloat(b.css(a,d)),i="number");if(!(null==c||"number"===i&&isNaN(c)))if("number"===i&&!b.cssNumber[k]&&(c+="px"),!h||!("set"in h)||(c=h.set(a,c))!==f)try{l[d]=c}catch(j){}}},css:function(a,d,c){var i,e,d=b.camelCase(d);
e=b.cssHooks[d];d=b.cssProps[d]||d;"cssFloat"===d&&(d="float");if(e&&"get"in e&&(i=e.get(a,!0,c))!==f)return i;if(ka)return ka(a,d)},swap:function(a,b,c){var i={},e;for(e in b)i[e]=a.style[e],a.style[e]=b[e];c=c.call(a);for(e in b)a.style[e]=i[e];return c}});b.curCSS=b.css;e.defaultView&&e.defaultView.getComputedStyle&&(Va=function(a,d){var c,i,e,k,l=a.style,d=d.replace(xb,"-$1").toLowerCase();(i=a.ownerDocument.defaultView)&&(e=i.getComputedStyle(a,null))&&(c=e.getPropertyValue(d),""===c&&!b.contains(a.ownerDocument.documentElement,
a)&&(c=b.style(a,d)));!b.support.pixelMargin&&e&&Ab.test(d)&&wa.test(c)&&(k=l.width,l.width=c,c=e.width,l.width=k);return c});e.documentElement.currentStyle&&(Wa=function(a,b){var c,i,e,k=a.currentStyle&&a.currentStyle[b],l=a.style;null==k&&l&&(e=l[b])&&(k=e);wa.test(k)&&(c=l.left,i=a.runtimeStyle&&a.runtimeStyle.left,i&&(a.runtimeStyle.left=a.currentStyle.left),l.left="fontSize"===b?"1em":k,k=l.pixelLeft+"px",l.left=c,i&&(a.runtimeStyle.left=i));return""===k?"auto":k});ka=Va||Wa;b.each(["height",
"width"],function(a,d){b.cssHooks[d]={get:function(a,c,e){if(c)return 0!==a.offsetWidth?Z(a,d,e):b.swap(a,Bb,function(){return Z(a,d,e)})},set:function(a,b){return yb.test(b)?b+"px":b}}});b.support.opacity||(b.cssHooks.opacity={get:function(a,b){return wb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,d){var c=a.style,e=a.currentStyle,k=b.isNumeric(d)?"alpha(opacity="+100*d+")":"",l=e&&e.filter||c.filter||"";c.zoom=1;if(!(1<=
d&&""===b.trim(l.replace(Ca,""))&&(c.removeAttribute("filter"),e&&!e.filter)))c.filter=Ca.test(l)?l.replace(Ca,k):l+" "+k}});b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(a,d){return b.swap(a,{display:"inline-block"},function(){return d?ka(a,"margin-right"):a.style.marginRight})}})});b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(a){var d=a.offsetHeight;return 0===a.offsetWidth&&0===d||!b.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||
b.css(a,"display"))},b.expr.filters.visible=function(a){return!b.expr.filters.hidden(a)});b.each({margin:"",padding:"",border:"Width"},function(a,d){b.cssHooks[a+d]={expand:function(b){for(var c="string"==typeof b?b.split(" "):[b],e={},b=0;4>b;b++)e[a+aa[b]+d]=c[b]||c[b-2]||c[0];return e}}});var Cb=/%20/g,db=/\[\]$/,Xa=/\r?\n/g,Db=/#.*$/,Eb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Fb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Gb=/^(?:GET|HEAD)$/,
Hb=/^\/\//,Ya=/\?/,Ib=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Jb=/^(?:select|textarea)/i,Ga=/\s+/,Kb=/([?&])_=[^&]*/,Za=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,$a=b.fn.load,va={},ab={},ha,ia,bb=["*/"]+["*"];try{ha=n.href}catch(Qb){ha=e.createElement("a"),ha.href="",ha=ha.href}ia=Za.exec(ha.toLowerCase())||[];b.fn.extend({load:function(a,d,c){if("string"!=typeof a&&$a)return $a.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(0<=e)var k=a.slice(e,a.length),
a=a.slice(0,e);e="GET";d&&(b.isFunction(d)?(c=d,d=f):"object"==typeof d&&(d=b.param(d,b.ajaxSettings.traditional),e="POST"));var l=this;b.ajax({url:a,type:e,dataType:"html",data:d,complete:function(a,d,e){e=a.responseText;a.isResolved()&&(a.done(function(a){e=a}),l.html(k?b("<div>").append(e.replace(Ib,"")).find(k):e));c&&l.each(c,[e,d,a])}});return this},serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?b.makeArray(this.elements):
this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Jb.test(this.nodeName)||Fb.test(this.type))}).map(function(a,d){var c=b(this).val();return null==c?null:b.isArray(c)?b.map(c,function(a){return{name:d.name,value:a.replace(Xa,"\r\n")}}):{name:d.name,value:c.replace(Xa,"\r\n")}}).get()}});b.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(a,d){b.fn[d]=function(a){return this.on(d,a)}});b.each(["get","post"],function(a,d){b[d]=function(a,
c,e,k){b.isFunction(c)&&(k=k||e,e=c,c=f);return b.ajax({type:d,url:a,data:c,success:e,dataType:k})}});b.extend({getScript:function(a,d){return b.get(a,f,d,"script")},getJSON:function(a,d,c){return b.get(a,d,c,"json")},ajaxSetup:function(a,d){d?R(a,b.ajaxSettings):(d=a,a=b.ajaxSettings);R(a,d);return a},ajaxSettings:{url:ha,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ia[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,
async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":c.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:V(va),ajaxTransport:V(ab),ajax:function(a,d){function c(a,d,g,s){if(2!==u){u=2;M&&clearTimeout(M);o=f;r=s||"";x.readyState=0<a?4:
0;var m,C,p,s=d;if(g){var A=e,Q=x,S=A.contents,B=A.dataTypes,Ia=A.responseFields,z,H,T,ea;for(H in Ia)H in g&&(Q[Ia[H]]=g[H]);for(;"*"===B[0];)B.shift(),z===f&&(z=A.mimeType||Q.getResponseHeader("content-type"));if(z)for(H in S)if(S[H]&&S[H].test(z)){B.unshift(H);break}if(B[0]in g)T=B[0];else{for(H in g){if(!B[0]||A.converters[H+" "+B[0]]){T=H;break}ea||(ea=H)}T=T||ea}T?(T!==B[0]&&B.unshift(T),g=g[T]):g=void 0}else g=f;if(200<=a&&300>a||304===a){if(e.ifModified){if(z=x.getResponseHeader("Last-Modified"))b.lastModified[n]=
z;if(z=x.getResponseHeader("Etag"))b.etag[n]=z}if(304===a)s="notmodified",m=!0;else try{z=e;z.dataFilter&&(g=z.dataFilter(g,z.dataType));var Y=z.dataTypes;H={};var ga,F,O=Y.length,J,E=Y[0],K,R,G,I,L;for(ga=1;ga<O;ga++){if(1===ga)for(F in z.converters)"string"==typeof F&&(H[F.toLowerCase()]=z.converters[F]);K=E;E=Y[ga];if("*"===E)E=K;else if("*"!==K&&K!==E){R=K+" "+E;G=H[R]||H["* "+E];if(!G)for(I in L=f,H)if(J=I.split(" "),J[0]===K||"*"===J[0])if(L=H[J[1]+" "+E]){I=H[I];!0===I?G=L:!0===L&&(G=I);break}!G&&
!L&&b.error("No conversion from "+R.replace(" "," to "));!0!==G&&(g=G?G(g):L(I(g)))}}C=g;s="success";m=!0}catch(ra){s="parsererror",p=ra}}else if(p=s,!s||a)s="error",0>a&&(a=0);x.status=a;x.statusText=""+(d||s);m?h.resolveWith(k,[C,s,x]):h.rejectWith(k,[x,s,p]);x.statusCode(y);y=f;N&&l.trigger("ajax"+(m?"Success":"Error"),[x,e,m?C:p]);j.fireWith(k,[x,s]);N&&(l.trigger("ajaxComplete",[x,e]),--b.active||b.event.trigger("ajaxStop"))}}"object"==typeof a&&(d=a,a=f);var d=d||{},e=b.ajaxSetup({},d),k=e.context||
e,l=k!==e&&(k.nodeType||k instanceof b)?b(k):b.event,h=b.Deferred(),j=b.Callbacks("once memory"),y=e.statusCode||{},n,s={},m={},r,C,o,M,p,u=0,N,A,x={readyState:0,setRequestHeader:function(a,b){if(!u){var d=a.toLowerCase(),a=m[d]=m[d]||a;s[a]=b}return this},getAllResponseHeaders:function(){return 2===u?r:null},getResponseHeader:function(a){var b;if(2===u){if(!C)for(C={};b=Eb.exec(r);)C[b[1].toLowerCase()]=b[2];b=C[a.toLowerCase()]}return b===f?null:b},overrideMimeType:function(a){u||(e.mimeType=a);
return this},abort:function(a){a=a||"abort";o&&o.abort(a);c(0,a);return this}};h.promise(x);x.success=x.done;x.error=x.fail;x.complete=j.add;x.statusCode=function(a){if(a){var b;if(2>u)for(b in a)y[b]=[y[b],a[b]];else b=a[x.status],x.then(b,b)}return this};e.url=((a||e.url)+"").replace(Db,"").replace(Hb,ia[1]+"//");e.dataTypes=b.trim(e.dataType||"*").toLowerCase().split(Ga);null==e.crossDomain&&(p=Za.exec(e.url.toLowerCase()),e.crossDomain=!(!p||p[1]==ia[1]&&p[2]==ia[2]&&(p[3]||("http:"===p[1]?80:
443))==(ia[3]||("http:"===ia[1]?80:443))));e.data&&e.processData&&"string"!=typeof e.data&&(e.data=b.param(e.data,e.traditional));E(va,e,d,x);if(2===u)return!1;N=e.global;e.type=e.type.toUpperCase();e.hasContent=!Gb.test(e.type);N&&0===b.active++&&b.event.trigger("ajaxStart");if(!e.hasContent&&(e.data&&(e.url+=(Ya.test(e.url)?"&":"?")+e.data,delete e.data),n=e.url,!1===e.cache)){p=b.now();var Q=e.url.replace(Kb,"$1_="+p);e.url=Q+(Q===e.url?(Ya.test(e.url)?"&":"?")+"_="+p:"")}(e.data&&e.hasContent&&
!1!==e.contentType||d.contentType)&&x.setRequestHeader("Content-Type",e.contentType);e.ifModified&&(n=n||e.url,b.lastModified[n]&&x.setRequestHeader("If-Modified-Since",b.lastModified[n]),b.etag[n]&&x.setRequestHeader("If-None-Match",b.etag[n]));x.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+("*"!==e.dataTypes[0]?", "+bb+"; q=0.01":""):e.accepts["*"]);for(A in e.headers)x.setRequestHeader(A,e.headers[A]);if(e.beforeSend&&(!1===e.beforeSend.call(k,x,
e)||2===u))return x.abort(),!1;for(A in{success:1,error:1,complete:1})x[A](e[A]);if(o=E(ab,e,d,x)){x.readyState=1;N&&l.trigger("ajaxSend",[x,e]);e.async&&0<e.timeout&&(M=setTimeout(function(){x.abort("timeout")},e.timeout));try{u=1,o.send(s,c)}catch(S){if(2>u)c(-1,S);else throw S;}}else c(-1,"No Transport");return x},param:function(a,d){var c=[],e=function(a,d){d=b.isFunction(d)?d():d;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(d)};d===f&&(d=b.ajaxSettings.traditional);if(b.isArray(a)||
a.jquery&&!b.isPlainObject(a))b.each(a,function(){e(this.name,this.value)});else for(var k in a)O(k,a[k],d,e);return c.join("&").replace(Cb,"+")}});b.extend({active:0,lastModified:{},etag:{}});var Lb=b.now(),sa=/(\=)\?(&|$)|\?\?/i;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return b.expando+"_"+Lb++}});b.ajaxPrefilter("json jsonp",function(a,d,e){d="string"==typeof a.data&&/^application\/x\-www\-form\-urlencoded/.test(a.contentType);if("jsonp"===a.dataTypes[0]||!1!==a.jsonp&&(sa.test(a.url)||
d&&sa.test(a.data))){var i,k=a.jsonpCallback=b.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,l=c[k],h=a.url,f=a.data,j="$1"+k+"$2";!1!==a.jsonp&&(h=h.replace(sa,j),a.url===h&&(d&&(f=f.replace(sa,j)),a.data===f&&(h+=(/\?/.test(h)?"&":"?")+a.jsonp+"="+k)));a.url=h;a.data=f;c[k]=function(a){i=[a]};e.always(function(){c[k]=l;i&&b.isFunction(l)&&c[k](i[0])});a.converters["script json"]=function(){i||b.error(k+" was not called");return i[0]};a.dataTypes[0]="json";return"script"}});b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){b.globalEval(a);return a}}});b.ajaxPrefilter("script",function(a){a.cache===f&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});b.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=e.head||e.getElementsByTagName("head")[0]||e.documentElement;return{send:function(i,k){b=e.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,
e){if(e||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,c&&b.parentNode&&c.removeChild(b),b=f,e||k(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var Da=c.ActiveXObject?function(){for(var a in na)na[a](0,1)}:!1,Mb=0,na;b.ajaxSettings.xhr=c.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&o()))a:{try{a=new c.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:o;(function(a){b.extend(b.support,{ajax:!!a,
cors:!!a&&"withCredentials"in a})})(b.ajaxSettings.xhr());b.support.ajax&&b.ajaxTransport(function(a){if(!a.crossDomain||b.support.cors){var d;return{send:function(e,i){var k=a.xhr(),l,h;a.username?k.open(a.type,a.url,a.async,a.username,a.password):k.open(a.type,a.url,a.async);if(a.xhrFields)for(h in a.xhrFields)k[h]=a.xhrFields[h];a.mimeType&&k.overrideMimeType&&k.overrideMimeType(a.mimeType);!a.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)k.setRequestHeader(h,
e[h])}catch(j){}k.send(a.hasContent&&a.data||null);d=function(c,e){var g,h,j,n,y;try{if(d&&(e||4===k.readyState))if(d=f,l&&(k.onreadystatechange=b.noop,Da&&delete na[l]),e)4!==k.readyState&&k.abort();else{g=k.status;j=k.getAllResponseHeaders();n={};(y=k.responseXML)&&y.documentElement&&(n.xml=y);try{n.text=k.responseText}catch(s){}try{h=k.statusText}catch(m){h=""}!g&&a.isLocal&&!a.crossDomain?g=n.text?200:404:1223===g&&(g=204)}}catch(r){e||i(-1,r)}n&&i(g,h,n,j)};!a.async||4===k.readyState?d():(l=
++Mb,Da&&(na||(na={},b(c).unload(Da)),na[l]=d),k.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ua={},K,ja,Nb=/^(?:toggle|show|hide)$/,Ob=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ta,pa=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],qa;b.fn.extend({show:function(a,d,c){var e;if(a||0===a)return this.animate(x("show",3),a,d,c);d=0;for(c=this.length;d<c;d++)a=this[d],a.style&&(e=a.style.display,!b._data(a,
"olddisplay")&&"none"===e&&(e=a.style.display=""),(""===e&&"none"===b.css(a,"display")||!b.contains(a.ownerDocument.documentElement,a))&&b._data(a,"olddisplay",p(a.nodeName)));for(d=0;d<c;d++)if(a=this[d],a.style&&(e=a.style.display,""===e||"none"===e))a.style.display=b._data(a,"olddisplay")||"";return this},hide:function(a,d,c){if(a||0===a)return this.animate(x("hide",3),a,d,c);for(var e,d=0,c=this.length;d<c;d++)a=this[d],a.style&&(e=b.css(a,"display"),"none"!==e&&!b._data(a,"olddisplay")&&b._data(a,
"olddisplay",e));for(d=0;d<c;d++)this[d].style&&(this[d].style.display="none");return this},_toggle:b.fn.toggle,toggle:function(a,d,c){var e="boolean"==typeof a;b.isFunction(a)&&b.isFunction(d)?this._toggle.apply(this,arguments):null==a||e?this.each(function(){var d=e?a:b(this).is(":hidden");b(this)[d?"show":"hide"]()}):this.animate(x("toggle",3),a,d,c);return this},fadeTo:function(a,b,c,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,
d,c,e){function k(){!1===l.queue&&b._mark(this);var d=b.extend({},l),c=1===this.nodeType,e=c&&b(this).is(":hidden"),g,i,h,f,j,n,y,s,m;d.animatedProperties={};for(h in a)if(g=b.camelCase(h),h!==g&&(a[g]=a[h],delete a[h]),(i=b.cssHooks[g])&&"expand"in i)for(h in f=i.expand(a[g]),delete a[g],f)h in a||(a[h]=f[h]);for(g in a){i=a[g];b.isArray(i)?(d.animatedProperties[g]=i[1],i=a[g]=i[0]):d.animatedProperties[g]=d.specialEasing&&d.specialEasing[g]||d.easing||"swing";if("hide"===i&&e||"show"===i&&!e)return d.complete.call(this);
c&&("height"===g||"width"===g)&&(d.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===b.css(this,"display")&&"none"===b.css(this,"float")&&(!b.support.inlineBlockNeedsLayout||"inline"===p(this.nodeName)?this.style.display="inline-block":this.style.zoom=1))}null!=d.overflow&&(this.style.overflow="hidden");for(h in a)c=new b.fx(this,d,h),i=a[h],Nb.test(i)?(m=b._data(this,"toggle"+h)||("toggle"===i?e?"show":"hide":0),m?(b._data(this,"toggle"+h,"show"===m?"hide":"show"),
c[m]()):c[i]()):(j=Ob.exec(i),n=c.cur(),j?(y=parseFloat(j[2]),s=j[3]||(b.cssNumber[h]?"":"px"),"px"!==s&&(b.style(this,h,(y||1)+s),n*=(y||1)/c.cur(),b.style(this,h,n+s)),j[1]&&(y=("-="===j[1]?-1:1)*y+n),c.custom(n,y,s)):c.custom(n,i,""));return!0}var l=b.speed(d,c,e);if(b.isEmptyObject(a))return this.each(l.complete,[!1]);a=b.extend({},a);return!1===l.queue?this.each(k):this.queue(l.queue,k)},stop:function(a,d,c){"string"!=typeof a&&(c=d,d=a,a=f);d&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var d,
e=!1,k=b.timers,l=b._data(this);c||b._unmark(!0,this);if(null==a)for(d in l){if(l[d]&&l[d].stop&&d.indexOf(".run")===d.length-4){var h=l[d];b.removeData(this,d,!0);h.stop(c)}}else if(l[d=a+".run"]&&l[d].stop)l=l[d],b.removeData(this,d,!0),l.stop(c);for(d=k.length;d--;)k[d].elem===this&&(null==a||k[d].queue===a)&&(c?k[d](!0):k[d].saveState(),e=!0,k.splice(d,1));(!c||!e)&&b.dequeue(this,a)})}});b.each({slideDown:x("show",1),slideUp:x("hide",1),slideToggle:x("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(a,d){b.fn[a]=function(a,b,c){return this.animate(d,a,b,c)}});b.extend({speed:function(a,d,c){var e=a&&"object"==typeof a?b.extend({},a):{complete:c||!c&&d||b.isFunction(a)&&a,duration:a,easing:c&&d||d&&!b.isFunction(d)&&d};e.duration=b.fx.off?0:"number"==typeof e.duration?e.duration:e.duration in b.fx.speeds?b.fx.speeds[e.duration]:b.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(a){b.isFunction(e.old)&&e.old.call(this);
e.queue?b.dequeue(this,e.queue):!1!==a&&b._unmark(this)};return e},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+0.5}},timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig=b.orig||{}}});b.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(b.fx.step[this.prop]||b.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];
var a,d=b.css(this.elem,this.prop);return isNaN(a=parseFloat(d))?!d||"auto"===d?0:d:a},custom:function(a,d,c){function e(a){return k.step(a)}var k=this,l=b.fx;this.startTime=qa||u();this.end=d;this.now=this.start=a;this.pos=this.state=0;this.unit=c||this.unit||(b.cssNumber[this.prop]?"":"px");e.queue=this.options.queue;e.elem=this.elem;e.saveState=function(){b._data(k.elem,"fxshow"+k.prop)===f&&(k.options.hide?b._data(k.elem,"fxshow"+k.prop,k.start):k.options.show&&b._data(k.elem,"fxshow"+k.prop,
k.end))};e()&&b.timers.push(e)&&!ta&&(ta=setInterval(l.tick,l.interval))},show:function(){var a=b._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||b.style(this.elem,this.prop);this.options.show=!0;a!==f?this.custom(this.cur(),a):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur());b(this.elem).show()},hide:function(){this.options.orig[this.prop]=b._data(this.elem,"fxshow"+this.prop)||b.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var d,
c,e=qa||u(),k=!0,l=this.elem,h=this.options;if(a||e>=h.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();h.animatedProperties[this.prop]=!0;for(d in h.animatedProperties)!0!==h.animatedProperties[d]&&(k=!1);if(k){null!=h.overflow&&!b.support.shrinkWrapBlocks&&b.each(["","X","Y"],function(a,b){l.style["overflow"+b]=h.overflow[a]});h.hide&&b(l).hide();if(h.hide||h.show)for(d in h.animatedProperties)b.style(l,d,h.orig[d]),b.removeData(l,"fxshow"+d,!0),b.removeData(l,"toggle"+
d,!0);(a=h.complete)&&(h.complete=!1,a.call(l))}return!1}Infinity==h.duration?this.now=e:(c=e-this.startTime,this.state=c/h.duration,this.pos=b.easing[h.animatedProperties[this.prop]](this.state,c,0,1,h.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}};b.extend(b.fx,{tick:function(){for(var a,d=b.timers,c=0;c<d.length;c++)a=d[c],!a()&&d[c]===a&&d.splice(c--,1);d.length||b.fx.stop()},interval:13,stop:function(){clearInterval(ta);ta=null},speeds:{slow:600,fast:200,
_default:400},step:{opacity:function(a){b.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});b.each(pa.concat.apply([],pa),function(a,d){d.indexOf("margin")&&(b.fx.step[d]=function(a){b.style(a.elem,d,Math.max(0,a.now)+a.unit)})});b.expr&&b.expr.filters&&(b.expr.filters.animated=function(a){return b.grep(b.timers,function(b){return a===b.elem}).length});var Ea,Pb=/^t(?:able|d|h)$/i,cb=/^(?:body|html)$/i;
"getBoundingClientRect"in e.documentElement?Ea=function(a,d,c,e){try{e=a.getBoundingClientRect()}catch(k){}if(!e||!b.contains(c,a))return e?{top:e.top,left:e.left}:{top:0,left:0};a=d.body;d=m(d);return{top:e.top+(d.pageYOffset||b.support.boxModel&&c.scrollTop||a.scrollTop)-(c.clientTop||a.clientTop||0),left:e.left+(d.pageXOffset||b.support.boxModel&&c.scrollLeft||a.scrollLeft)-(c.clientLeft||a.clientLeft||0)}}:Ea=function(a,d,c){var e,k=a.offsetParent,l=d.body;e=(d=d.defaultView)?d.getComputedStyle(a,
null):a.currentStyle;for(var h=a.offsetTop,f=a.offsetLeft;(a=a.parentNode)&&a!==l&&a!==c&&!(b.support.fixedPosition&&"fixed"===e.position);)e=d?d.getComputedStyle(a,null):a.currentStyle,h-=a.scrollTop,f-=a.scrollLeft,a===k&&(h+=a.offsetTop,f+=a.offsetLeft,b.support.doesNotAddBorder&&(!b.support.doesAddBorderForTableAndCells||!Pb.test(a.nodeName))&&(h+=parseFloat(e.borderTopWidth)||0,f+=parseFloat(e.borderLeftWidth)||0),k=a.offsetParent),b.support.subtractsBorderForOverflowNotVisible&&"visible"!==
e.overflow&&(h+=parseFloat(e.borderTopWidth)||0,f+=parseFloat(e.borderLeftWidth)||0);if("relative"===e.position||"static"===e.position)h+=l.offsetTop,f+=l.offsetLeft;b.support.fixedPosition&&"fixed"===e.position&&(h+=Math.max(c.scrollTop,l.scrollTop),f+=Math.max(c.scrollLeft,l.scrollLeft));return{top:h,left:f}};b.fn.offset=function(a){if(arguments.length)return a===f?this:this.each(function(d){b.offset.setOffset(this,a,d)});var d=this[0],c=d&&d.ownerDocument;return!c?null:d===c.body?b.offset.bodyOffset(d):
Ea(d,c,c.documentElement)};b.offset={bodyOffset:function(a){var d=a.offsetTop,c=a.offsetLeft;b.support.doesNotIncludeMarginInBodyOffset&&(d+=parseFloat(b.css(a,"marginTop"))||0,c+=parseFloat(b.css(a,"marginLeft"))||0);return{top:d,left:c}},setOffset:function(a,d,c){var e=b.css(a,"position");"static"===e&&(a.style.position="relative");var k=b(a),l=k.offset(),h=b.css(a,"top"),f=b.css(a,"left"),j={},n={},y,s;("absolute"===e||"fixed"===e)&&-1<b.inArray("auto",[h,f])?(n=k.position(),y=n.top,s=n.left):
(y=parseFloat(h)||0,s=parseFloat(f)||0);b.isFunction(d)&&(d=d.call(a,c,l));null!=d.top&&(j.top=d.top-l.top+y);null!=d.left&&(j.left=d.left-l.left+s);"using"in d?d.using.call(a,j):k.css(j)}};b.fn.extend({position:function(){if(!this[0])return null;var a=this[0],d=this.offsetParent(),c=this.offset(),e=cb.test(d[0].nodeName)?{top:0,left:0}:d.offset();c.top-=parseFloat(b.css(a,"marginTop"))||0;c.left-=parseFloat(b.css(a,"marginLeft"))||0;e.top+=parseFloat(b.css(d[0],"borderTopWidth"))||0;e.left+=parseFloat(b.css(d[0],
"borderLeftWidth"))||0;return{top:c.top-e.top,left:c.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||e.body;a&&!cb.test(a.nodeName)&&"static"===b.css(a,"position");)a=a.offsetParent;return a})}});b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,d){var c=/Y/.test(d);b.fn[a]=function(e){return b.access(this,function(a,e,k){var l=m(a);if(k===f)return l?d in l?l[d]:b.support.boxModel&&l.document.documentElement[e]||l.document.body[e]:a[e];
l?l.scrollTo(c?b(l).scrollLeft():k,c?k:b(l).scrollTop()):a[e]=k},a,e,arguments.length,null)}});b.each({Height:"height",Width:"width"},function(a,d){var c="client"+a,e="scroll"+a,k="offset"+a;b.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(b.css(a,d,"padding")):this[d]():null};b.fn["outer"+a]=function(a){var c=this[0];return c?c.style?parseFloat(b.css(c,d,a?"margin":"border")):this[d]():null};b.fn[d]=function(a){return b.access(this,function(a,d,l){if(b.isWindow(a))return d=a.document,
a=d.documentElement[c],b.support.boxModel&&a||d.body&&d.body[c]||a;if(9===a.nodeType)return d=a.documentElement,d[c]>=d[e]?d[c]:Math.max(a.body[e],d[e],a.body[k],d[k]);if(l===f)return a=b.css(a,d),d=parseFloat(a),b.isNumeric(d)?d:a;b(a).css(d,l)},d,a,arguments.length,null)}});c.jQuery=c.$=b;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})})(window);
(function(){var c=this,f=c._,m={},p=Array.prototype,x=Object.prototype,B=p.push,u=p.slice,o=p.concat,O=x.toString,R=x.hasOwnProperty,E=p.forEach,V=p.map,Z=p.reduce,ba=p.reduceRight,ca=p.filter,U=p.every,F=p.some,G=p.indexOf,da=p.lastIndexOf,x=Array.isArray,la=Object.keys,I=Function.prototype.bind,j=function(b){if(b instanceof j)return b;if(!(this instanceof j))return new j(b);this._wrapped=b};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=j),exports._=
j):c._=j;j.VERSION="1.4.2";var z=j.each=j.forEach=function(b,c,e){if(null!=b)if(E&&b.forEach===E)b.forEach(c,e);else if(b.length===+b.length)for(var h=0,f=b.length;h<f&&c.call(e,b[h],h,b)!==m;h++);else for(h in b)if(j.has(b,h)&&c.call(e,b[h],h,b)===m)break};j.map=j.collect=function(b,c,e){var h=[];if(null==b)return h;if(V&&b.map===V)return b.map(c,e);z(b,function(b,k,f){h[h.length]=c.call(e,b,k,f)});return h};j.reduce=j.foldl=j.inject=function(b,c,e,h){var f=2<arguments.length;null==b&&(b=[]);if(Z&&
b.reduce===Z)return h&&(c=j.bind(c,h)),f?b.reduce(c,e):b.reduce(c);z(b,function(b,k,j){f?e=c.call(h,e,b,k,j):(e=b,f=!0)});if(!f)throw new TypeError("Reduce of empty array with no initial value");return e};j.reduceRight=j.foldr=function(b,c,e,h){var f=2<arguments.length;null==b&&(b=[]);if(ba&&b.reduceRight===ba)return h&&(c=j.bind(c,h)),f?b.reduceRight(c,e):b.reduceRight(c);var n=b.length;if(n!==+n)var m=j.keys(b),n=m.length;z(b,function(j,r,o){r=m?m[--n]:--n;f?e=c.call(h,e,b[r],r,o):(e=b[r],f=!0)});
if(!f)throw new TypeError("Reduce of empty array with no initial value");return e};j.find=j.detect=function(b,c,e){var h;W(b,function(b,k,f){if(c.call(e,b,k,f))return h=b,!0});return h};j.filter=j.select=function(b,c,e){var h=[];if(null==b)return h;if(ca&&b.filter===ca)return b.filter(c,e);z(b,function(b,k,f){c.call(e,b,k,f)&&(h[h.length]=b)});return h};j.reject=function(b,c,e){return j.filter(b,function(b,k,h){return!c.call(e,b,k,h)},e)};j.every=j.all=function(b,c,e){c||(c=j.identity);var h=!0;if(null==
b)return h;if(U&&b.every===U)return b.every(c,e);z(b,function(b,k,f){if(!(h=h&&c.call(e,b,k,f)))return m});return!!h};var W=j.some=j.any=function(b,c,e){c||(c=j.identity);var h=!1;if(null==b)return h;if(F&&b.some===F)return b.some(c,e);z(b,function(b,k,f){if(h||(h=c.call(e,b,k,f)))return m});return!!h};j.contains=j.include=function(b,c){return null==b?!1:G&&b.indexOf===G?-1!=b.indexOf(c):W(b,function(b){return b===c})};j.invoke=function(b,c){var e=u.call(arguments,2);return j.map(b,function(b){return(j.isFunction(c)?
c:b[c]).apply(b,e)})};j.pluck=function(b,c){return j.map(b,function(b){return b[c]})};j.where=function(b,c){return j.isEmpty(c)?[]:j.filter(b,function(b){for(var e in c)if(j.has(c,e)&&c[e]!==b[e])return!1;return!0})};j.max=function(b,c,e){if(!c&&j.isArray(b)&&b[0]===+b[0]&&65535>b.length)return Math.max.apply(Math,b);if(!c&&j.isEmpty(b))return-Infinity;var h={computed:-Infinity,value:-Infinity};z(b,function(b,k,f){k=c?c.call(e,b,k,f):b;k>=h.computed&&(h={value:b,computed:k})});return h.value};j.min=
function(b,c,e){if(!c&&j.isArray(b)&&b[0]===+b[0]&&65535>b.length)return Math.min.apply(Math,b);if(!c&&j.isEmpty(b))return Infinity;var h={computed:Infinity,value:Infinity};z(b,function(b,k,f){k=c?c.call(e,b,k,f):b;k<h.computed&&(h={value:b,computed:k})});return h.value};j.shuffle=function(b){var c,e=0,h=[];z(b,function(b){c=j.random(e++);h[e-1]=h[c];h[c]=b});return h};var X=function(b){return j.isFunction(b)?b:function(c){return c[b]}};j.sortBy=function(b,c,e){var h=X(c);return j.pluck(j.map(b,function(b,
c,k){return{value:b,index:c,criteria:h.call(e,b,c,k)}}).sort(function(b,c){var e=b.criteria,k=c.criteria;if(e!==k){if(e>k||void 0===e)return 1;if(e<k||void 0===k)return-1}return b.index<c.index?-1:1}),"value")};var fa=function(b,c,e,h){var f={},j=X(c);z(b,function(c,l){var n=j.call(e,c,l,b);h(f,n,c)});return f};j.groupBy=function(b,c,e){return fa(b,c,e,function(b,c,e){(j.has(b,c)?b[c]:b[c]=[]).push(e)})};j.countBy=function(b,c,e){return fa(b,c,e,function(b,c){j.has(b,c)||(b[c]=0);b[c]++})};j.sortedIndex=
function(b,c,e,h){for(var e=null==e?j.identity:X(e),c=e.call(h,c),f=0,n=b.length;f<n;){var m=f+n>>>1;e.call(h,b[m])<c?f=m+1:n=m}return f};j.toArray=function(b){return!b?[]:b.length===+b.length?u.call(b):j.values(b)};j.size=function(b){return null==b?0:b.length===+b.length?b.length:j.keys(b).length};j.first=j.head=j.take=function(b,c,e){return null==b?void 0:null!=c&&!e?u.call(b,0,c):b[0]};j.initial=function(b,c,e){return u.call(b,0,b.length-(null==c||e?1:c))};j.last=function(b,c,e){return null==b?
void 0:null!=c&&!e?u.call(b,Math.max(b.length-c,0)):b[b.length-1]};j.rest=j.tail=j.drop=function(b,c,e){return u.call(b,null==c||e?1:c)};j.compact=function(b){return j.filter(b,function(b){return!!b})};var e=function(b,c,h){z(b,function(b){j.isArray(b)?c?B.apply(h,b):e(b,c,h):h.push(b)});return h};j.flatten=function(b,c){return e(b,c,[])};j.without=function(b){return j.difference(b,u.call(arguments,1))};j.uniq=j.unique=function(b,c,e,h){j.isFunction(c)&&(h=e,e=c,c=!1);var e=e?j.map(b,e,h):b,f=[],
n=[];z(e,function(e,h){if(c?!h||n[n.length-1]!==e:!j.contains(n,e)){n.push(e);f.push(b[h])}});return f};j.union=function(){return j.uniq(o.apply(p,arguments))};j.intersection=function(b){var c=u.call(arguments,1);return j.filter(j.uniq(b),function(b){return j.every(c,function(c){return 0<=j.indexOf(c,b)})})};j.difference=function(b){var c=o.apply(p,u.call(arguments,1));return j.filter(b,function(b){return!j.contains(c,b)})};j.zip=function(){for(var b=u.call(arguments),c=j.max(j.pluck(b,"length")),
e=Array(c),h=0;h<c;h++)e[h]=j.pluck(b,""+h);return e};j.object=function(b,c){if(null==b)return{};for(var e={},h=0,f=b.length;h<f;h++)c?e[b[h]]=c[h]:e[b[h][0]]=b[h][1];return e};j.indexOf=function(b,c,e){if(null==b)return-1;var h=0,f=b.length;if(e)if("number"==typeof e)h=0>e?Math.max(0,f+e):e;else return h=j.sortedIndex(b,c),b[h]===c?h:-1;if(G&&b.indexOf===G)return b.indexOf(c,e);for(;h<f;h++)if(b[h]===c)return h;return-1};j.lastIndexOf=function(b,c,e){if(null==b)return-1;var h=null!=e;if(da&&b.lastIndexOf===
da)return h?b.lastIndexOf(c,e):b.lastIndexOf(c);for(e=h?e:b.length;e--;)if(b[e]===c)return e;return-1};j.range=function(b,c,e){1>=arguments.length&&(c=b||0,b=0);for(var e=arguments[2]||1,h=Math.max(Math.ceil((c-b)/e),0),f=0,j=Array(h);f<h;)j[f++]=b,b+=e;return j};var h=function(){};j.bind=function(b,c){var e,f;if(b.bind===I&&I)return I.apply(b,u.call(arguments,1));if(!j.isFunction(b))throw new TypeError;f=u.call(arguments,2);return e=function(){if(!(this instanceof e))return b.apply(c,f.concat(u.call(arguments)));
h.prototype=b.prototype;var j=new h,n=b.apply(j,f.concat(u.call(arguments)));return Object(n)===n?n:j}};j.bindAll=function(b){var c=u.call(arguments,1);0==c.length&&(c=j.functions(b));z(c,function(c){b[c]=j.bind(b[c],b)});return b};j.memoize=function(b,c){var e={};c||(c=j.identity);return function(){var h=c.apply(this,arguments);return j.has(e,h)?e[h]:e[h]=b.apply(this,arguments)}};j.delay=function(b,c){var e=u.call(arguments,2);return setTimeout(function(){return b.apply(null,e)},c)};j.defer=function(b){return j.delay.apply(j,
[b,1].concat(u.call(arguments,1)))};j.throttle=function(b,c){var e,h,f,j,n=0,m=function(){n=new Date;f=null;j=b.apply(e,h)};return function(){var r=new Date,o=c-(r-n);e=this;h=arguments;0>=o?(clearTimeout(f),n=r,j=b.apply(e,h)):f||(f=setTimeout(m,o));return j}};j.debounce=function(b,c,e){var h,f;return function(){var j=this,n=arguments,m=e&&!h;clearTimeout(h);h=setTimeout(function(){h=null;e||(f=b.apply(j,n))},c);m&&(f=b.apply(j,n));return f}};j.once=function(b){var c=!1,e;return function(){if(c)return e;
c=!0;e=b.apply(this,arguments);b=null;return e}};j.wrap=function(b,c){return function(){var e=[b];B.apply(e,arguments);return c.apply(this,e)}};j.compose=function(){var b=arguments;return function(){for(var c=arguments,e=b.length-1;0<=e;e--)c=[b[e].apply(this,c)];return c[0]}};j.after=function(b,c){return 0>=b?c():function(){if(1>--b)return c.apply(this,arguments)}};j.keys=la||function(b){if(b!==Object(b))throw new TypeError("Invalid object");var c=[],e;for(e in b)j.has(b,e)&&(c[c.length]=e);return c};
j.values=function(b){var c=[],e;for(e in b)j.has(b,e)&&c.push(b[e]);return c};j.pairs=function(b){var c=[],e;for(e in b)j.has(b,e)&&c.push([e,b[e]]);return c};j.invert=function(b){var c={},e;for(e in b)j.has(b,e)&&(c[b[e]]=e);return c};j.functions=j.methods=function(b){var c=[],e;for(e in b)j.isFunction(b[e])&&c.push(e);return c.sort()};j.extend=function(b){z(u.call(arguments,1),function(c){for(var e in c)b[e]=c[e]});return b};j.pick=function(b){var c={},e=o.apply(p,u.call(arguments,1));z(e,function(e){e in
b&&(c[e]=b[e])});return c};j.omit=function(b){var c={},e=o.apply(p,u.call(arguments,1)),h;for(h in b)j.contains(e,h)||(c[h]=b[h]);return c};j.defaults=function(b){z(u.call(arguments,1),function(c){for(var e in c)null==b[e]&&(b[e]=c[e])});return b};j.clone=function(b){return!j.isObject(b)?b:j.isArray(b)?b.slice():j.extend({},b)};j.tap=function(b,c){c(b);return b};var n=function(b,c,e,h){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;b instanceof j&&(b=b._wrapped);c instanceof j&&
(c=c._wrapped);var f=O.call(b);if(f!=O.call(c))return!1;switch(f){case "[object String]":return b==""+c;case "[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case "[object Date]":case "[object Boolean]":return+b==+c;case "[object RegExp]":return b.source==c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||"object"!=typeof c)return!1;for(var m=e.length;m--;)if(e[m]==b)return h[m]==c;e.push(b);h.push(c);var m=0,r=!0;if("[object Array]"==
f){if(m=b.length,r=m==c.length)for(;m--&&(r=n(b[m],c[m],e,h)););}else{var f=b.constructor,o=c.constructor;if(f!==o&&(!j.isFunction(f)||!(f instanceof f&&j.isFunction(o)&&o instanceof o)))return!1;for(var p in b)if(j.has(b,p)&&(m++,!(r=j.has(c,p)&&n(b[p],c[p],e,h))))break;if(r){for(p in c)if(j.has(c,p)&&!m--)break;r=!m}}e.pop();h.pop();return r};j.isEqual=function(b,c){return n(b,c,[],[])};j.isEmpty=function(b){if(null==b)return!0;if(j.isArray(b)||j.isString(b))return 0===b.length;for(var c in b)if(j.has(b,
c))return!1;return!0};j.isElement=function(b){return!!(b&&1===b.nodeType)};j.isArray=x||function(b){return"[object Array]"==O.call(b)};j.isObject=function(b){return b===Object(b)};z("Arguments,Function,String,Number,Date,RegExp".split(","),function(b){j["is"+b]=function(c){return O.call(c)=="[object "+b+"]"}});j.isArguments(arguments)||(j.isArguments=function(b){return!(!b||!j.has(b,"callee"))});"function"!==typeof/./&&(j.isFunction=function(b){return"function"===typeof b});j.isFinite=function(b){return isFinite(b)&&
!isNaN(parseFloat(b))};j.isNaN=function(b){return j.isNumber(b)&&b!=+b};j.isBoolean=function(b){return!0===b||!1===b||"[object Boolean]"==O.call(b)};j.isNull=function(b){return null===b};j.isUndefined=function(b){return void 0===b};j.has=function(b,c){return R.call(b,c)};j.noConflict=function(){c._=f;return this};j.identity=function(b){return b};j.times=function(b,c,e){for(var h=0;h<b;h++)c.call(e,h)};j.random=function(b,c){null==c&&(c=b,b=0);return b+(0|Math.random()*(c-b+1))};var b={escape:{"&":"&amp;",
"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};b.unescape=j.invert(b.escape);var r={escape:RegExp("["+j.keys(b.escape).join("")+"]","g"),unescape:RegExp("("+j.keys(b.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(c){j[c]=function(e){return null==e?"":(""+e).replace(r[c],function(e){return b[c][e]})}});j.result=function(b,c){if(null==b)return null;var e=b[c];return j.isFunction(e)?e.call(b):e};j.mixin=function(b){z(j.functions(b),function(c){var e=j[c]=b[c];j.prototype[c]=
function(){var b=[this._wrapped];B.apply(b,arguments);b=e.apply(j,b);return this._chain?j(b).chain():b}})};var A=0;j.uniqueId=function(b){var c=A++;return b?b+c:c};j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var S=/(.)^/,ea={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},Y=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(b,c,e){var e=j.defaults({},e,j.templateSettings),h=RegExp([(e.escape||S).source,(e.interpolate||
S).source,(e.evaluate||S).source].join("|")+"|$","g"),f=0,n="__p+='";b.replace(h,function(c,e,h,j,l){n+=b.slice(f,l).replace(Y,function(b){return"\\"+ea[b]});n+=e?"'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":h?"'+\n((__t=("+h+"))==null?'':__t)+\n'":j?"';\n"+j+"\n__p+='":"";f=l+c.length});n+="';\n";e.variable||(n="with(obj||{}){\n"+n+"}\n");n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+n+"return __p;\n";try{var m=new Function(e.variable||"obj","_",
n)}catch(r){throw r.source=n,r;}if(c)return m(c,j);c=function(b){return m.call(this,b,j)};c.source="function("+(e.variable||"obj")+"){\n"+n+"}";return c};j.chain=function(b){return j(b).chain()};j.mixin(j);z("pop,push,reverse,shift,sort,splice,unshift".split(","),function(b){var c=p[b];j.prototype[b]=function(){var e=this._wrapped;c.apply(e,arguments);(b=="shift"||b=="splice")&&e.length===0&&delete e[0];return this._chain?j(e).chain():e}});z(["concat","join","slice"],function(b){var c=p[b];j.prototype[b]=
function(){var b=c.apply(this._wrapped,arguments);return this._chain?j(b).chain():b}});j.extend(j.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);
(function(){var c=this,f=c.Backbone,m=Array.prototype,p=m.push,x=m.slice,B=m.splice,u;u="undefined"!==typeof exports?exports:c.Backbone={};u.VERSION="0.9.2";var o=c._;!o&&"undefined"!==typeof require&&(o=require("underscore"));u.$=c.jQuery||c.Zepto||c.ender;u.noConflict=function(){c.Backbone=f;return this};u.emulateHTTP=!1;u.emulateJSON=!1;var O=/\s+/,m=u.Events={on:function(c,h,f){var b,j;if(!h)return this;c=c.split(O);for(b=this._callbacks||(this._callbacks={});j=c.shift();)j=b[j]||(b[j]=[]),j.push(h,
f);return this},off:function(c,h,f){var b,j,m;if(!(j=this._callbacks))return this;if(!c&&!h&&!f)return delete this._callbacks,this;for(c=c?c.split(O):o.keys(j);b=c.shift();)if(!(m=j[b])||!h&&!f)delete j[b];else for(b=m.length-2;0<=b;b-=2)h&&m[b]!==h||f&&m[b+1]!==f||m.splice(b,2);return this},trigger:function(c){var h,f,b,j,m,o,p;if(!(f=this._callbacks))return this;p=[];c=c.split(O);j=1;for(m=arguments.length;j<m;j++)p[j-1]=arguments[j];for(;h=c.shift();){if(o=f.all)o=o.slice();if(b=f[h])b=b.slice();
if(b){j=0;for(m=b.length;j<m;j+=2)b[j].apply(b[j+1]||this,p)}if(o){h=[h].concat(p);j=0;for(m=o.length;j<m;j+=2)o[j].apply(o[j+1]||this,h)}}return this}};m.bind=m.on;m.unbind=m.off;var R=u.Model=function(c,h){var f,b=c||{};h&&h.collection&&(this.collection=h.collection);this.attributes={};this._escapedAttributes={};this.cid=o.uniqueId("c");this.changed={};this._changes={};this._pending={};h&&h.parse&&(b=this.parse(b));if(f=o.result(this,"defaults"))b=o.extend({},f,b);this.set(b,{silent:!0});this.changed=
{};this._changes={};this._pending={};this._previousAttributes=o.clone(this.attributes);this.initialize.apply(this,arguments)};o.extend(R.prototype,m,{changed:null,_changes:null,_pending:null,_changing:null,idAttribute:"id",initialize:function(){},toJSON:function(){return o.clone(this.attributes)},sync:function(){return u.sync.apply(this,arguments)},get:function(c){return this.attributes[c]},escape:function(c){var h;if(h=this._escapedAttributes[c])return h;h=this.get(c);return this._escapedAttributes[c]=
o.escape(null==h?"":""+h)},has:function(c){return null!=this.get(c)},set:function(c,h,f){var b,j;if(null==c)return this;o.isObject(c)?(j=c,f=h):(j={})[c]=h;var c=f&&f.silent,m=f&&f.unset;j instanceof R&&(j=j.attributes);if(m)for(b in j)j[b]=void 0;if(!this._validate(j,f))return!1;this.idAttribute in j&&(this.id=j[this.idAttribute]);var p=this._changing,u=this.attributes,x=this._escapedAttributes,k=this._previousAttributes||{};for(b in j){h=j[b];if(!o.isEqual(u[b],h)||m&&o.has(u,b))delete x[b],this._changes[b]=
!0;m?delete u[b]:u[b]=h;!o.isEqual(k[b],h)||o.has(u,b)!==o.has(k,b)?(this.changed[b]=h,c||(this._pending[b]=!0)):(delete this.changed[b],delete this._pending[b],p||delete this._changes[b]);p&&o.isEqual(u[b],p[b])&&delete this._changes[b]}c||this.change(f);return this},unset:function(c,h){h=o.extend({},h,{unset:!0});return this.set(c,null,h)},clear:function(c){c=o.extend({},c,{unset:!0});return this.set(o.clone(this.attributes),c)},fetch:function(c){var c=c?o.clone(c):{},h=this,f=c.success;c.success=
function(b,j,m){if(!h.set(h.parse(b,m),c))return!1;f&&f(h,b,c)};return this.sync("read",this,c)},save:function(c,h,f){var b,j,m;null==c||o.isObject(c)?(b=c,f=h):null!=c&&((b={})[c]=h);f=f?o.clone(f):{};if(f.wait){if(!this._validate(b,f))return!1;j=o.clone(this.attributes)}c=o.extend({},f,{silent:!0});if(b&&!this.set(b,f.wait?c:f)||!b&&!this._validate(null,f))return!1;var p=this,u=f.success;f.success=function(c,e,h){m=!0;e=p.parse(c,h);f.wait&&(e=o.extend(b||{},e));if(!p.set(e,f))return!1;u&&u(p,c,
f)};h=this.sync(this.isNew()?"create":"update",this,f);!m&&f.wait&&(this.clear(c),this.set(j,c));return h},destroy:function(c){var c=c?o.clone(c):{},h=this,f=c.success,b=function(){h.trigger("destroy",h,h.collection,c)};c.success=function(j){(c.wait||h.isNew())&&b();f&&f(h,j,c)};if(this.isNew())return c.success(),!1;var j=this.sync("delete",this,c);c.wait||b();return j},url:function(){var c=o.result(this,"urlRoot")||o.result(this.collection,"url")||fa();return this.isNew()?c:c+("/"===c.charAt(c.length-
1)?"":"/")+encodeURIComponent(this.id)},parse:function(c){return c},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(c){var h=this._changing,f=this._changing={},b;for(b in this._changes)this._pending[b]=!0;var j=this._changes;this._changes={};var m=[];for(b in j)f[b]=this.get(b),m.push(b);for(var j=0,p=m.length;j<p;j++)this.trigger("change:"+m[j],this,f[m[j]],c);if(h)return this;for(;!o.isEmpty(this._pending);){this._pending={};
this.trigger("change",this,c);for(b in this.changed)!this._pending[b]&&!this._changes[b]&&delete this.changed[b];this._previousAttributes=o.clone(this.attributes)}this._changing=null;return this},hasChanged:function(c){return null==c?!o.isEmpty(this.changed):o.has(this.changed,c)},changedAttributes:function(c){if(!c)return this.hasChanged()?o.clone(this.changed):!1;var h,f=!1,b=this._previousAttributes,j;for(j in c)if(!o.isEqual(b[j],h=c[j]))(f||(f={}))[j]=h;return f},previous:function(c){return null==
c||!this._previousAttributes?null:this._previousAttributes[c]},previousAttributes:function(){return o.clone(this._previousAttributes)},isValid:function(c){return!this.validate||!this.validate(this.attributes,c)},_validate:function(c,h){if(h&&h.silent||!this.validate)return!0;var c=o.extend({},this.attributes,c),f=this.validate(c,h);if(!f)return!0;h&&h.error&&h.error(this,f,h);this.trigger("error",this,f,h);return!1}});var E=u.Collection=function(c,h){h||(h={});h.model&&(this.model=h.model);void 0!==
h.comparator&&(this.comparator=h.comparator);this._reset();this.initialize.apply(this,arguments);c&&(h.parse&&(c=this.parse(c)),this.reset(c,{silent:!0,parse:h.parse}))};o.extend(E.prototype,m,{model:R,initialize:function(){},toJSON:function(c){return this.map(function(h){return h.toJSON(c)})},sync:function(){return u.sync.apply(this,arguments)},add:function(c,h){var f,b,j,m=h&&h.at,c=o.isArray(c)?c.slice():[c];f=0;for(b=c.length;f<b;f++)if(!(c[f]=this._prepareModel(c[f],h)))throw Error("Can't add an invalid model to a collection");
for(f=c.length-1;0<=f;f--)b=c[f],(j=null!=b.id&&this._byId[b.id])||this._byCid[b.cid]?(h&&h.merge&&j&&j.set(b,h),c.splice(f,1)):(b.on("all",this._onModelEvent,this),this._byCid[b.cid]=b,null!=b.id&&(this._byId[b.id]=b));this.length+=c.length;f=[null!=m?m:this.models.length,0];p.apply(f,c);B.apply(this.models,f);this.comparator&&null==m&&this.sort({silent:!0});if(h&&h.silent)return this;for(;b=c.shift();)b.trigger("add",b,this,h);return this},remove:function(c,h){var f,b,j,m;h||(h={});c=o.isArray(c)?
c.slice():[c];f=0;for(b=c.length;f<b;f++)if(m=this.getByCid(c[f])||this.get(c[f]))delete this._byId[m.id],delete this._byCid[m.cid],j=this.indexOf(m),this.models.splice(j,1),this.length--,h.silent||(h.index=j,m.trigger("remove",m,this,h)),this._removeReference(m);return this},push:function(c,h){c=this._prepareModel(c,h);this.add(c,h);return c},pop:function(c){var h=this.at(this.length-1);this.remove(h,c);return h},unshift:function(c,h){c=this._prepareModel(c,h);this.add(c,o.extend({at:0},h));return c},
shift:function(c){var h=this.at(0);this.remove(h,c);return h},slice:function(c,h){return this.models.slice(c,h)},get:function(c){return null==c?void 0:this._byId[null!=c.id?c.id:c]},getByCid:function(c){return c&&this._byCid[c.cid||c]},at:function(c){return this.models[c]},where:function(c){return o.isEmpty(c)?[]:this.filter(function(h){for(var f in c)if(c[f]!==h.get(f))return!1;return!0})},sort:function(c){if(!this.comparator)throw Error("Cannot sort a set without a comparator");o.isString(this.comparator)||
1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(o.bind(this.comparator,this));(!c||!c.silent)&&this.trigger("reset",this,c);return this},pluck:function(c){return o.invoke(this.models,"get",c)},reset:function(c,h){for(var f=0,b=this.models.length;f<b;f++)this._removeReference(this.models[f]);this._reset();c&&this.add(c,o.extend({silent:!0},h));(!h||!h.silent)&&this.trigger("reset",this,h);return this},fetch:function(c){c=c?o.clone(c):{};void 0===c.parse&&(c.parse=
!0);var h=this,f=c.success;c.success=function(b,j,m){h[c.add?"add":"reset"](h.parse(b,m),c);f&&f(h,b,c)};return this.sync("read",this,c)},create:function(c,h){var f=this,h=h?o.clone(h):{},c=this._prepareModel(c,h);if(!c)return!1;h.wait||f.add(c,h);var b=h.success;h.success=function(c,e,h){h.wait&&f.add(c,h);b&&b(c,e,h)};c.save(null,h);return c},parse:function(c){return c},clone:function(){return new this.constructor(this.models)},chain:function(){return o(this.models).chain()},_reset:function(){this.length=
0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(c,h){if(c instanceof R)return c.collection||(c.collection=this),c;h||(h={});h.collection=this;var f=new this.model(c,h);return!f._validate(f.attributes,h)?!1:f},_removeReference:function(c){this===c.collection&&delete c.collection;c.off("all",this._onModelEvent,this)},_onModelEvent:function(c,h,f,b){("add"===c||"remove"===c)&&f!==this||("destroy"===c&&this.remove(h,b),h&&c==="change:"+h.idAttribute&&(delete this._byId[h.previous(h.idAttribute)],
null!=h.id&&(this._byId[h.id]=h)),this.trigger.apply(this,arguments))}});o.each("forEach,each,map,collect,reduce,foldl,inject,reduceRight,foldr,find,detect,filter,select,reject,every,all,some,any,include,contains,invoke,max,min,sortedIndex,toArray,size,first,head,take,initial,rest,tail,last,without,indexOf,shuffle,lastIndexOf,isEmpty".split(","),function(c){E.prototype[c]=function(){var h=x.call(arguments);h.unshift(this.models);return o[c].apply(o,h)}});o.each(["groupBy","countBy","sortBy"],function(c){E.prototype[c]=
function(h,f){var b=o.isFunction(h)?h:function(b){return b.get(h)};return o[c](this.models,b,f)}});var V=u.Router=function(c){c||(c={});c.routes&&(this.routes=c.routes);this._bindRoutes();this.initialize.apply(this,arguments)},Z=/\((.*?)\)/g,ba=/:\w+/g,ca=/\*\w+/g,U=/[-{}[\]+?.,\\^$|#\s]/g;o.extend(V.prototype,m,{initialize:function(){},route:function(c,h,f){o.isRegExp(c)||(c=this._routeToRegExp(c));f||(f=this[h]);u.history.route(c,o.bind(function(b){b=this._extractParameters(c,b);f&&f.apply(this,
b);this.trigger.apply(this,["route:"+h].concat(b));u.history.trigger("route",this,h,b)},this));return this},navigate:function(c,h){u.history.navigate(c,h);return this},_bindRoutes:function(){if(this.routes)for(var c,h=o.keys(this.routes);null!=(c=h.pop());)this.route(c,this.routes[c])},_routeToRegExp:function(c){c=c.replace(U,"\\$&").replace(Z,"(?:$1)?").replace(ba,"([^/]+)").replace(ca,"(.*?)");return RegExp("^"+c+"$")},_extractParameters:function(c,h){return c.exec(h).slice(1)}});var F=u.History=
function(){this.handlers=[];o.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},G=/^[#\/]|\s+$/,da=/^\/+|\/+$/g,la=/msie [\w.]+/,I=/\/$/;F.started=!1;o.extend(F.prototype,m,{interval:50,getHash:function(c){return(c=(c||this).location.href.match(/#(.*)$/))?c[1]:""},getFragment:function(c,h){if(null==c)if(this._hasPushState||!this._wantsHashChange||h){var c=this.location.pathname,f=this.root.replace(I,"");c.indexOf(f)||(c=c.substr(f.length))}else c=
this.getHash();return decodeURIComponent(c.replace(G,""))},start:function(c){if(F.started)throw Error("Backbone.history has already been started");F.started=!0;this.options=o.extend({},{root:"/"},this.options,c);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);var c=this.getFragment(),h=document.documentMode,h=la.exec(navigator.userAgent.toLowerCase())&&
(!h||7>=h);this.root=("/"+this.root+"/").replace(da,"/");h&&this._wantsHashChange&&(this.iframe=u.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(c));this._hasPushState?u.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!h?u.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=c;c=this.location;h=c.pathname.replace(/[^\/]$/,
"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!h)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&h&&c.hash&&(this.fragment=this.getHash().replace(G,""),this.history.replaceState({},document.title,this.root+this.fragment+c.search));if(!this.options.silent)return this.loadUrl()},stop:function(){u.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",
this.checkUrl);clearInterval(this._checkUrlInterval);F.started=!1},route:function(c,h){this.handlers.unshift({route:c,callback:h})},checkUrl:function(){var c=this.getFragment();c===this.fragment&&this.iframe&&(c=this.getFragment(this.getHash(this.iframe)));if(c===this.fragment)return!1;this.iframe&&this.navigate(c);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(c){var h=this.fragment=this.getFragment(c);return o.any(this.handlers,function(c){if(c.route.test(h))return c.callback(h),
!0})},navigate:function(c,h){if(!F.started)return!1;if(!h||!0===h)h={trigger:h};c=this.getFragment(c||"");if(this.fragment!==c){this.fragment=c;var f=this.root+c;if(this._hasPushState)this.history[h.replace?"replaceState":"pushState"]({},document.title,f);else if(this._wantsHashChange)this._updateHash(this.location,c,h.replace),this.iframe&&c!==this.getFragment(this.getHash(this.iframe))&&(h.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,c,h.replace));else return this.location.assign(f);
h.trigger&&this.loadUrl(c)}},_updateHash:function(c,h,f){f?(f=c.href.replace(/(javascript:|#).*$/,""),c.replace(f+"#"+h)):c.hash="#"+h}});u.history=new F;var j=u.View=function(c){this.cid=o.uniqueId("view");this._configure(c||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},z=/^(\S+)\s*(.*)$/,W="model,collection,el,id,attributes,className,tagName".split(",");o.extend(j.prototype,m,{tagName:"div",$:function(c){return this.$el.find(c)},initialize:function(){},render:function(){return this},
dispose:function(){this.undelegateEvents();this.model&&this.model.off&&this.model.off(null,null,this);this.collection&&this.collection.off&&this.collection.off(null,null,this);return this},remove:function(){this.dispose();this.$el.remove();return this},make:function(c,h,f){c=document.createElement(c);h&&u.$(c).attr(h);null!=f&&u.$(c).html(f);return c},setElement:function(c,h){this.$el&&this.undelegateEvents();this.$el=c instanceof u.$?c:u.$(c);this.el=this.$el[0];!1!==h&&this.delegateEvents();return this},
delegateEvents:function(c){if(c||(c=o.result(this,"events"))){this.undelegateEvents();for(var h in c){var f=c[h];o.isFunction(f)||(f=this[c[h]]);if(!f)throw Error('Method "'+c[h]+'" does not exist');var b=h.match(z),j=b[1],b=b[2],f=o.bind(f,this),j=j+(".delegateEvents"+this.cid);""===b?this.$el.bind(j,f):this.$el.delegate(b,j,f)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(c){this.options&&(c=o.extend({},this.options,c));o.extend(this,o.pick(c,W));
this.options=c},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"),!1);else{var c=o.extend({},o.result(this,"attributes"));this.id&&(c.id=o.result(this,"id"));this.className&&(c["class"]=o.result(this,"className"));this.setElement(this.make(o.result(this,"tagName"),c),!1)}}});var X={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};u.sync=function(c,f,j){var b=X[c];o.defaults(j||(j={}),{emulateHTTP:u.emulateHTTP,emulateJSON:u.emulateJSON});var m={type:b,dataType:"json"};
j.url||(m.url=o.result(f,"url")||fa());if(!j.data&&f&&("create"===c||"update"===c))m.contentType="application/json",m.data=JSON.stringify(f);j.emulateJSON&&(m.contentType="application/x-www-form-urlencoded",m.data=m.data?{model:m.data}:{});if(j.emulateHTTP&&("PUT"===b||"DELETE"===b)){m.type="POST";j.emulateJSON&&(m.data._method=b);var p=j.beforeSend;j.beforeSend=function(c){c.setRequestHeader("X-HTTP-Method-Override",b);if(p)return p.apply(this,arguments)}}"GET"!==m.type&&!j.emulateJSON&&(m.processData=
!1);var x=j.success;j.success=function(b,c,e){x&&x(b,c,e);f.trigger("sync",f,b,j)};var z=j.error;j.error=function(b){z&&z(f,b,j);f.trigger("error",f,b,j)};return u.ajax(o.extend(m,j))};u.ajax=function(){return u.$.ajax.apply(u.$,arguments)};R.extend=E.extend=V.extend=j.extend=F.extend=function(c,f){var j=this,b;b=c&&o.has(c,"constructor")?c.constructor:function(){j.apply(this,arguments)};o.extend(b,j,f);var m=function(){this.constructor=b};m.prototype=j.prototype;b.prototype=new m;c&&o.extend(b.prototype,
c);b.__super__=j.prototype;return b};var fa=function(){throw Error('A "url" property or function must be specified');}}).call(this);DefaceitHome=window.DefaceitHome||!1;Defaceit=window.Defaceit||{};Defaceit.wait=function(c,f,m,p){var m=m||this,p=p||[],x=setInterval(function(){if(0<Defaceit.load.wait.length)for(var B=0;B<Defaceit.load.wait.length;B++)if("Ok"!=Defaceit.load.wait[B])return;window[c]&&(f.call(m,p),clearInterval(x))},100)};
Defaceit.load={wait:[],js:function(c){var f=document.createElement("script");f.setAttribute("src",c);document.getElementsByTagName("head")[0].appendChild(f)},css:function(c){var f=document.createElement("link");f.rel="stylesheet";f.type="text/css";f.href=c;document.getElementsByTagName("head")[0].appendChild(f)},image:function(c){this.wait=this.wait||[];var f=this.wait.length,m=document.createElement("img");m.src=c;this.wait[f]=c;document.getElementsByTagName("head")[0].appendChild(m);var p=this;
m.onload=function(){p.wait[f]="Ok"}}};Defaceit.extend=function(c,f){var m=function(){this.initialize.apply(this,arguments)};m.prototype=_.extend({},c.prototype,f);m.prototype.parent=c.prototype;return m};Defaceit.merge=function(c,f){return jQuery.merge(c,f)};Defaceit.request=function(c){var f=document.createElement("script");f.setAttribute("src",c);document.getElementsByTagName("head")[0].appendChild(f)};callbacks=[];
function request(c){var f=document.createElement("script");f.setAttribute("src",c);document.getElementsByTagName("head")[0].appendChild(f)}function defaceit(c){callback=callbacks[0];callback[0].call(callback[1],c)}Defaceit.CrossDomainRequest=function(c){this.url=c;this.create_iframe();this.create_form(c)};
Defaceit.CrossDomainRequest.prototype={create_iframe:function(){if(!document.getElementById("coaframe")){var c=document.createElement("iframe");c.name="coaframe";c.style.visibility="hidden";c.style.position="absolute";c.style.left=c.style.top="0px";c.height=width="1px";c.id="coaframe";document.getElementsByTagName("body")[0].appendChild(c)}},create_form:function(c){var f=document.getElementById("coaform");if(f){for(;f.firstChild;)f.removeChild(f.firstChild);this.form=f}else f=this.form=document.createElement("form"),
f.style.display="none",f.id="coaform",f.enctype="multipart/form-data",f.method="POST",f.action=c,f.target="coaframe",f.setAttribute("target","coaframe"),document.body.appendChild(f)},add:function(c,f){var m=document.createElement("input");m.type="hidden";m.name=c;m.value=f;this.form.appendChild(m)},request:function(c,f){this.form.submit();var m=setInterval(function(){""!=location.hash&&"#none"!=location.hash&&(c.call(f,location.hash),location.hash="none",clearInterval(m))},200)}};
Defaceit.Screen={border:10,height:function(){return jQuery(window).height()},width:function(){return jQuery(window).width()},scroll_top:function(){return jQuery(window).scrollTop()}};Defaceit.Session=function(c){this.resource=c};Defaceit.Session.prototype={sign_in:!1,check_status:function(c){this.sign_in=!0;request(this.resource+"/show",function(f){null==f.data.key&&(this.sign_in=!1);this.data=f.data;c.call(this)},this)},signed_in:function(){return this.key?!0:!1}};
Defaceit.Display={width:function(){return jQuery(window).width()},height:function(){return jQuery(window).height()}};
Defaceit.Window||(Defaceit.Window={},Defaceit.Window.Simple=function(c){this.initialize(c)},Defaceit.Window.Simple.create=function(c){return new Defaceit.Window.Simple(c)},Defaceit.Window.Simple.prototype={wnd_handler:null,wnd_container:null,content_handler:null,config:{},initialize:function(c){c=this.configure(c);this.create_window();this.apply_title(c.title);this.apply_content(c.content);this.apply_buttons(c.buttons);this.modify(c.geometry)},configure:function(c){this.config=c||{};this.config.plugins=
this.config.plugins||{};this.config.geometry=this.config.geometry||[];this.config.buttons=this.config.buttons||[];return this.config},modify:function(c){if(!c||!c.length)return!1;for(var f=0;f<c.length;f++){var m=c[f],p=m.split(":"),m=p[0],p=1<p.length?p.slice(1):[];jQuery.isFunction(m)&&m.call(this)||this[m]&&this[m].apply(this,p)}},position:function(c,f){this.config.pX=c||this.config.pX;this.config.pY=f||this.config.pY;this.wnd_handler.css({left:this.config.pX,top:this.config.pY})},create_window:function(){(this.wnd_handler=
jQuery("<div>")).addClass("dtWindow").appendTo("body");(this.wnd_container=jQuery("<div>")).addClass("dtWindowContainer").appendTo(this.wnd_handler)},apply_title:function(c){if(!c)return!1;this.title=c;c=jQuery("<div>").html(c).addClass("dtWindowTitle");c.appendTo(this.wnd_container)},apply_content:function(c){if(!c)return!1;this.content=c;return this.content_handler&&this.content_handler.html(this.content)||(this.content_handler=jQuery("<div>").addClass("dtWindowContent").html(c).appendTo(this.wnd_container))},
apply_buttons:function(c){function f(c){var f=jQuery("<a>").attr("href","#").addClass("dtWindowButton").html(c.text);c.handler&&f.click(function(){c.handler.call(p);return!1});c.text&&f.attr("value",c.text);return f}if(!c||!c.length)return!1;for(var m=this.button_handler=jQuery("<div>").addClass("dtWindowButtons"),p=this,x=0;x<c.length;x++)m.append(f(c[x]));m.appendTo(this.wnd_container)},hide:function(){this.wnd_handler.hide()},show:function(){this.wnd_handler.show()},width:function(c){this.config.width=
parseInt(c||this.config.width);this.config.width&&this.wnd_handler.css({width:this.config.width})},height:function(c){this.config.height=parseInt(c||this.config.height);this.config.height&&this.wnd_handler.css({height:this.config.height})},fit_to_screen:function(){this.height(Defaceit.Screen.height()-2*Defaceit.Screen.border);this.width(Defaceit.Screen.width()-2*Defaceit.Screen.border);this.wnd_container.css({height:this.wnd_handler.height()-40,padding:20});var c=this.button_handler?this.button_handler.height():
0;this.content_handler.css({height:this.wnd_container.height()-c})},size:function(){this.wnd_container.css({width:this.width,height:this.height})},center:function(){this.config.pX=Math.floor(Defaceit.Screen.width()/2-this.wnd_handler.width()/2);this.config.pY=Math.floor(Defaceit.Screen.height()/2-this.wnd_handler.height()/2);this.position()},deltaXY:function(c,f){c=parseInt(c||0);f=parseInt(f||0);this.config.pX+=c;this.config.pY+=f;this.position()},top:function(){this.config.pY=Defaceit.Screen.border;
this.position()},right:function(){this.config.pX=Defaceit.Screen.width()-this.wnd_handler.width()-Defaceit.Screen.border;this.position()},left:function(){this.config.pX=Defaceit.Screen.border;this.position()},activate:function(){Defaceit.Window.Manager.get_active_window().deactivate();Defaceit.Window.Manager.active=this.nth;this.state=this.show_menu;this.wnd_handler.animate({width:this.width,height:this.height,left:this.width/2,top:this.height/2},"fast");this.wnd_handler.html(this.content)},deactivate:function(){Defaceit.Window.Manager.active=
-1;this.state=this.activate;this.wnd_handler.animate({width:50,height:50,left:this.init_position_x,top:this.init_position_y},"fast");this.wnd_handler.html(this.icon)},show_menu:function(){this.menu=this.menu||jQuery("<div>").addClass("menu").appendTo(this.wnd_handler).html('<a href="#">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c</a><a href="#">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a><a href="#">\u0423\u0434\u0430\u043b\u0438\u0442\u044c</a>');this.menu.animate({width:"20%"},
"fast");this.state=this.hide_menu},hide_menu:function(){this.menu.animate({width:"0%"},"fast");this.state=this.show_menu}},Defaceit.Window.InputBox=Defaceit.extend(Defaceit.Window.Simple,{configure:function(c){c.handler=c.handler||function(){alert("\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043d\u0435 \u0437\u0430\u0434\u0430\u043d")};this.textarea=jQuery("<TEXTAREA>").addClass("dtWindowInputBoxTextarea");c.content=this.textarea;
c.buttons=[{text:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",handler:c.handler},{text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",handler:function(){this.wnd_handler.remove()}}];return this.parent.configure(c)},message:function(){return this.textarea.val()}}),Defaceit.Window.Manager={collection:[],create:function(c,f){return new (Defaceit.Window[c]||Defaceit.Window.Simple)(f)},add:function(c){this.collection.push(c);return this.collection.length},get:function(c){return this.collection[c]},
get_active_window:function(){return 0<=Defaceit.Window.Manager.active?this.get(Defaceit.Window.Manager.active):{deactivate:function(){}}}});
Defaceit.Queue||(Defaceit.Queue=function(c){if(this==Defaceit)return c=c||"",Defaceit.Queue.list[c]=Defaceit.Queue.list[c]||new Defaceit.Queue(c),Defaceit.Queue.list[c];this.init(c);return this},Defaceit.Queue.prototype={queue:"",call_id:1,init:function(c){this.queue=c},next_call_id:function(){return this.call_id++},list:function(){this.request("list");return this},push:function(c){return this.request("push",encodeURIComponent(c))},top:function(){this.request("top");return this},last:function(){Defaceit.Queue.Pack.push(["last",
this.queue,this.next_call_id()]);setTimeout(function(){var c=Defaceit.Queue.Pack,f=[];Defaceit.Queue.Pack=[];_.each(c,function(c,p){f.push("a["+p+"]="+c[1]);f.push("i["+p+"]="+c[2])});0<f.length&&cors_post("http://eservices.defaceit.ru/queue/last_a",f.join("&"))},300);return 1},request:function(c,f){var f=f||"",m=this.next_call_id();512<f.length?cors_post("http://eservices.defaceit.ru/queue/"+c+"/"+this.queue+"/"+m,"message_text="+encodeURIComponent(f)):Defaceit.request("http://eservices.defaceit.ru/queue/"+
c+"/"+this.queue+"/"+m+"/"+f);return m},client:function(c){this.clients=this.clients||[];this.clients.push(c)},client_callback:function(c){c.call_id=parseInt(c.call_id);switch(c.type){case "messages":for(var f=0;f<c.data.length;f++)this.send_message(c.data[f].message_text,c.data[f]);break;case "message":this.send_message(c.data.message_text,c.data,c);break;case "status":this.send_status_message(c)}},send_status_message:function(c){for(var f=0;f<this.clients.length;f++){var m=this.clients[f];m.queue_status&&
m.queue_status(c)}},send_message:function(c,f,m){for(var c=decodeURIComponent(c),p=0;p<this.clients.length;p++){var x=this.clients[p];x.queue_message&&x.queue_message(c,f,m)}}},Defaceit.Queue.Pack=[],Defaceit.Queue.list=Defaceit.Queue.list||{},Defaceit.Queue.callbacks=Defaceit.Queue.callbacks||[],Defaceit.Queue.response=function(c){console.debug(c.pack);if(c.pack)for(var f=0;f<c.pack.length;f++)Defaceit.Queue.list[c.pack[f].queue_name].client_callback(c.pack[f]);else Defaceit.Queue.list[c.queue_name].client_callback(c)});
actions={};fire=function(c,f,m,p){actions[c]&&actions[c][f]&&actions[c][f][0]&&actions[c][f][0].call(actions[c][f][1],m,p)};function q(c,f){Defaceit.Queue(c).client({queue_message:function(f,p){fire(c,"message",f,p)},queue_status:function(f){fire(c,f.result,f,f)}});actions[c]=actions[c]||{};return{on:function(m,p){actions[c][m]=[f[p],f];return this}}}
function cors_post(c,f){var m=function(c,f){var m=new XMLHttpRequest;"withCredentials"in m?m.open(c,f,!0):"undefined"!=typeof XDomainRequest?(m=new XDomainRequest,m.open(c,f)):m=null;return m}("POST",c);if(!m)throw Error("CORS not supported");m.setRequestHeader("Content-type","application/x-www-form-urlencoded");m.setRequestHeader("Content-length",f.length);m.setRequestHeader("Connection","close");m.onload=function(){eval(m.responseText)};m.onerror=function(){console.log("There was an error!")};m.send(f)}
window.jQuery||Defaceit.load.js("http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js");Defaceit.load.css("http://defaceit.ru/defaceit/tools/css/defaceit.css");Defaceit.load.css("http://defaceit.ru/defaceit/bookshelf/css/bookshelf.css");DefaceitHome&&Defaceit.load.css("http://defaceit.ru/defaceit/tools/css/home.css");Defaceit.Bookshelf=function(c,f,m){this.init(c,f,m)};
Defaceit.Bookshelf.prototype={init:function(c,f,m){this.cb=f;this.scope=m||this;this.itemCount=0;this.queue=c;this.wnd=null},render_template:function(c){this.itemCount=0;this.wnd=Defaceit.Window.Manager.create("Simple",{content:c,buttons:[{text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",handler:function(){this.wnd_handler.remove();return!1}}],geometry:["width:800","center","show"]});Defaceit.Queue("items."+this.queue).list();bookshelfLoading=!1},render_items:function(c){0==this.itemCount%3&&(this.div=
jQuery("<div>").addClass("line").appendTo(jQuery("#bookshelf .page")));this.itemCount++;var f="",m="",p=[];(p=c.match(/^([^ ]*) (.*)$/))?(f=p[1],m=p[2]):f=c;var x=this;this.div.append(jQuery("<img>").attr("src",f).click(function(){x.cb.call(x.scope,m);return false}))},error:function(){alert("\u041e\u0447\u0435\u0440\u0435\u0434\u044c \u043f\u0443\u0441\u0442\u0430")}};
bookshelf=function(c,f,m){Defaceit.bookshelfInstance||(f=Defaceit.bookshelfInstance=new Defaceit.Bookshelf(c,f,m),q("default.bookshelf.template.defaceit.ru",f).on("empty","error").on("message","render_template"),q("items."+c,f).on("empty","error").on("message","render_items"));Defaceit.Queue("default.bookshelf.template.defaceit.ru").last()};bookshelfLoading=!1;
function start(){if(jQuery("#bookshelf").length||bookshelfLoading)return!1;bookshelfLoading=!0;bookshelf("bookshelf.defaceit.ru",function(c){Defaceit.Window.Manager.create("Simple",{content:c,buttons:[{text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",handler:function(){this.wnd_handler.remove();return!1}}],geometry:["center","show"]})})}/defaceit\.ru\/defaceit\/bookshelf\/develop/.test(document.location)&&Defaceit.wait("jQuery",start,this,["jQuery"]);Defaceit.load.css("http://defaceit.ru/defaceit/babycalc/css/babycalc.css");Defaceit.load.css("http://defaceit.ru/defaceit/tools/css/home.css");Defaceit.Page={};namespace=function(){return Defaceit.Page.name+"."+Defaceit.Page.namespace};_.templateSettings={interpolate:/\{\{(.+?)\}\}/g};Blocks={};Defaceit.Model=Backbone.Model.extend({status:function(c,f){if(c)this.myStatus=c,(void 0===f||f)&&this.trigger("status:change");else return this.myStatus}});
Defaceit.HtmlPageBlock=Defaceit.Model.extend({initialize:function(c){this.name(c);this.visible=!0;this.queueStore=new Defaceit.RWCollection;this.queueStore.on("status:change",this.route,this);this.on("status:change",this.route,this);this.status("start")},name:function(c){c&&(this.set("name",c),this.trigger("block:changed"));return this.get("name")},route:function(){var c="BLOCK:"+this.status()+", STORE:"+(this.queueStore&&this.queueStore.status());console.debug(this.name()+"  "+c);switch(c){case "BLOCK:start, STORE:empty":this.status("ready");
break;case "BLOCK:ready, STORE:empty":case "BLOCK:ready, STORE:ready":this.trigger("load");break;case "BLOCK:start, STORE:ready":this.status("ready");break;case "BLOCK:save, STORE:ready":this.trigger("save",this);this.status("ready");break;case "BLOCK:edit, STORE:empty":case "BLOCK:edit, STORE:start":case "BLOCK:edit, STORE:ready":this.edit();break;case "BLOCK:sync, STORE:update":this.save()}},edit:function(){alert("You should specify Edit function")},save:function(){Backbone.Model.prototype.save.call(this);
this.status("save")},toObject:function(){return{}}});Defaceit.HtmlPageBlock.MenuItemView=Backbone.View.extend({tagName:"div",className:"blockMenuItem",events:{click:"open"},open:function(){this.htmlPageBlock.status("edit")},initialize:function(c){this.htmlPageBlock=c;c.on("block:changed",this.render,this)},render:function(){this.$el.html(this.htmlPageBlock.name());return this}});
Blocks.Default=Defaceit.HtmlPageBlock.extend({initialize:function(c){Defaceit.HtmlPageBlock.prototype.initialize.apply(this,[c]);this.queueNamespace="default."+Defaceit.Page.namespace;this.queueStore=new Defaceit.StackQueueStore(c,this.queueNamespace);this.queueStore.on("status:change",this.route,this)},interactive_edit:function(){var c=this,f=jQuery("."+this.name().toLowerCase()+"_container");if(f.length){var m=f.height();f.html(jQuery('<a class="blockMenuItem" href="#">\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c</a>').click(function(){c.edit()}));
f.height(m)}},edit:function(c){null===c?this.status("ready"):_.isString(c)?(this.status("sync",!1),this.fill(c)):this.edit(prompt(this.name()+":",this.queueStore.data))},fill:function(c){this.queueStore.set(c)},toObject:function(){return this.queueStore.data}});
Blocks.PageUrl=Blocks.Default.extend({initialize:function(){this.visible=!1;this.name("PageUrl");this.queueStore={read:function(){},write:function(){},status:function(){return"ready"}}},status:function(){return"ready"},edit:function(){alert("PageUrl \u043d\u0435\u0438\u0437\u043c\u0435\u043d\u044f\u0435\u043c\u043e\u0435 \u043f\u043e\u043b\u0435.")},toObject:function(){return namespace()}});
Blocks.Namespace=Blocks.Default.extend({initialize:function(){this.visible=!1;this.name("Namespace");this.queueStore={read:function(){},write:function(){},status:function(){return"ready"}}},status:function(){return"ready"},edit:function(){alert("PageUrl \u043d\u0435\u0438\u0437\u043c\u0435\u043d\u044f\u0435\u043c\u043e\u0435 \u043f\u043e\u043b\u0435.")},toObject:function(){return Defaceit.Page.namespace}});
Blocks.PageName=Blocks.Default.extend({initialize:function(){this.visible=!1;this.name("PageName");this.queueStore={read:function(){},write:function(){},status:function(){return"ready"}}},status:function(){return"ready"},edit:function(){alert("PageUrl \u043d\u0435\u0438\u0437\u043c\u0435\u043d\u044f\u0435\u043c\u043e\u0435 \u043f\u043e\u043b\u0435.")},toObject:function(){return Defaceit.Page.name}});
Blocks.Defaults=Defaceit.HtmlPageBlock.extend({initialize:function(c){Defaceit.HtmlPageBlock.prototype.initialize.apply(this,[c]);this.queueNamespace="defaults."+Defaceit.Page.namespace;this.queueStore.add(new Defaceit.StackQueueStore("logo",this.queueNamespace))},edit:function(c){null===c?this.status("ready"):_.isString(c)?(this.status("sync",!1),this.fill(c)):this.edit(prompt("Logo:",this.queueStore.find("logo").data))},fill:function(c){this.queueStore.find("logo").set(c)},toObject:function(){return{logo:this.queueStore.find("logo").data}}});
Blocks.Thumbnail=Defaceit.HtmlPageBlock.extend({initialize:function(c){Defaceit.HtmlPageBlock.prototype.initialize.apply(this,[c]);this.queueNamespace=c+"."+namespace();this.queueStore.add(new Defaceit.StackQueueStore("title",this.queueNamespace));this.queueStore.add(new Defaceit.StackQueueStore("content",this.queueNamespace));this.queueStore.add(new Defaceit.StackQueueStore("url",this.queueNamespace))},fill:function(c,f,m){this.queueStore.find("title").set(c);this.queueStore.find("content").set(f);
this.queueStore.find("url").set(m)},edit:function(c){c?(this.status("sync",!1),this.fill.apply(this,c)):(new Blocks.Thumbnail.EditView(this)).render()},toObject:function(){return{title:this.queueStore.find("title").data,content:this.queueStore.find("content").data,url:this.queueStore.find("url").data,id:this.name()}}});
Blocks.Thumbnail.EditView=Backbone.View.extend({el:".center",initialize:function(c){this.thumbnail=c},select:function(){this.trigger("select",this)},done:function(){this.thumbnail.edit([this.$el.find("#title").val(),this.$el.find("#content").val(),this.$el.find("#url").val()])},render:function(){this.$el.html('<div class="page"><p class="calc_label">title:<input style="width:99%" id="title"/></p><p class="calc_label">content:<textarea style="width:99%; height: 100px;" id="content" /></textarea></p>url:<input style="width:99%" id="url" /></page>');
this.$el.find("#title").val(this.thumbnail.queueStore.find("title").data);this.$el.find("#content").val(this.thumbnail.queueStore.find("content").data);this.$el.find("#url").val(this.thumbnail.queueStore.find("url").data);var c=(new Blocks.Article.PanelButtonsView).render();c.on("done",this.done,this);c.on("cancel",this.cancel,this)}});
Blocks.Thumbnails=Defaceit.HtmlPageBlock.extend({initialize:function(c){Defaceit.HtmlPageBlock.prototype.initialize.apply(this,[c]);this.thumbnails=[];this.queueNamespace=namespace();var f=this;this.queueStore={status:function(){return f.status()}};this.status("start")},fetch:function(){var c=new Blocks.Thumbnail("Thumbnail"+(this.thumbnails.length+1));c.on("load",this.load_next,this);c.on("save",function(){this.trigger("save")},this);c.fetch();this.thumbnails.push(c)},load_next:function(){var c=
this.thumbnails[this.thumbnails.length-1];c&&"empty"==c.queueStore.status()?this.status("ready"):(this.status("wait"),this.fetch())},last:function(){return this.thumbnails[this.thumbnails.length-1]},add:function(){},fill:function(){},edit:function(c){if(c)this.status("ready"),alert("Save data");else(new Blocks.Thumbnails.EditView(this)).on("block:edit_done",this.edit,this)},interactive_edit:function(){_.each(this.thumbnails,function(c){"empty"==c.queueStore.status()&&jQuery(".thumbnails_container").prepend(jQuery('<a class="blockMenuItem" href="#">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c</a>').click(function(){w=
Defaceit.Window.Manager.create("Simple",{content:'<div class="center"></div>',buttons:[{text:"\u0420\u0430\u0441\u0447\u0438\u0442\u0430\u0442\u044c",handler:function(){}}],geometry:["width:750","center","show"]});c.edit();w.center()})).css({border:"1px dotted black",padding:"10px",margin:"10px"});jQuery("#"+c.name()).html('<a class="blockMenuItem" href="#">'+c.queueStore.find("title").data+"</a><br />").click(function(){w=Defaceit.Window.Manager.create("Simple",{content:'<div class="center"></div>',
buttons:[{text:"\u0420\u0430\u0441\u0447\u0438\u0442\u0430\u0442\u044c",handler:function(){}}],geometry:["width:750","center","show"]});c.edit();w.center()})})},compile:function(){t='<div id="{{id}}"><h4>{{title}}</h4><div>{{content}}</div><p style="text-align:right;margin-top:20px;"><a class="btn" href="{{url}}">\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435</a></p></div>';content1=content2=content3="";var c=1;_.each(this.thumbnails,function(f){"empty"!=f.queueStore.status()&&(0==c%3?content3+=
_.template(t,f.toObject()):0==c%2?content2+=_.template(t,f.toObject()):content1+=_.template(t,f.toObject()),c++)});this.set("result",_.template('<ul class="thumbnails"><li class="span4">{{content1}}</li><li class="span4">{{content2}}</li><li class="span4">{{content3}}</li></ul>',{content1:content1,content2:content2,content3:content3}))},toObject:function(){this.compile();return this.get("result")}});
Blocks.Thumbnails.EditView=Backbone.View.extend({el:".center",className:"panel",events:{"click .edit":"edit","click #cancel":"cancel"},edit:function(c){this.htmlPageBlock.thumbnails[parseInt(c.target.id)].edit()},initialize:function(c){this.htmlPageBlock=c;this.render()},done:function(){console.debug(this.htmlPageBlock.last());this.htmlPageBlock.last().edit()},cancel:function(){},render:function(){var c='<p class="calc_label">title:<input style="width:99%" id="title"/></p><p class="calc_label">content:<textarea style="width:99%; height: 200px;" id="content" /></textarea></p>url:<input style="width:99%" id="url" />',
c="",f=[];_.each(this.htmlPageBlock.thumbnails,function(c,p){f.push('<a id="'+p+'" class="edit" href="#">'+c.queueStore.find("title").data+"</a>")});c=f.join("<br />");this.$el.html('<div class="page">'+c+"</div>");c=(new Blocks.Article.PanelButtonsView).render();c.on("done",this.done,this);c.on("cancel",this.cancel,this)}});
Blocks.Article=Defaceit.HtmlPageBlock.extend({initialize:function(c){Defaceit.HtmlPageBlock.prototype.initialize.apply(this,[c]);this.queueNamespace="article."+namespace();this.queueStore.add(new Defaceit.StackQueueStore("title",this.queueNamespace));this.queueStore.add(new Defaceit.StackQueueStore("content",this.queueNamespace))},fill:function(c,f){this.queueStore.find("title").set(c);this.queueStore.find("content").set(f)},edit:function(c){if(c)this.status("sync",!1),this.fill.apply(this,c);else(new Blocks.Article.EditView(this)).on("block:edit_done",
this.edit,this)},interactive_edit:function(){var c=this,f=jQuery(".article_container"),m=f.height();f.html(jQuery('<a class="blockMenuItem" href="#">'+c.queueStore.find("title").data+"</a>").click(function(){c.w=Defaceit.Window.Manager.create("Simple",{content:'<div class="center"></div>',buttons:[{text:"\u0420\u0430\u0441\u0447\u0438\u0442\u0430\u0442\u044c",handler:function(){}}],geometry:["width:750","center","show"]});c.edit()}));f.height(m).css({border:"1px dotted black",padding:"50px",margin:"10px"})},
toObject:function(){return{title:this.queueStore.find("title").data,content:this.queueStore.find("content").data}},toString:function(){return this.title+" "+this.content}});
Blocks.Article.EditView=Backbone.View.extend({el:".center",className:"panel",initialize:function(c){this.htmlPageBlock=c;this.htmlPageBlock.on("render",this.render,this);this.template=new Defaceit.Template("article","template.defaceit.ru");this.template.on("status:change",this.render,this)},save:function(){var c=jQuery("#defaceit-article-title").val(),f=jQuery("#defaceit-article-content").val();this.htmlPageBlock.edit([c,f]);this.hide()},cancel:function(){this.htmlPageBlock.status("ready");
this.hide()},hide:function(){this.$el.html("")},render:function(){if("ready"==this.template.status()&&("ready"==this.htmlPageBlock.queueStore.status()||"empty"==this.htmlPageBlock.queueStore.status())){this.$el.html(_.template(this.template.get("text"),this.htmlPageBlock));this.$el.find("#defaceit-article-title").val(this.htmlPageBlock.queueStore.find("title").data);this.$el.find("#defaceit-article-content").val(this.htmlPageBlock.queueStore.find("content").data);var c=(new Blocks.Article.PanelButtonsView).render();
c.on("done",this.save,this);c.on("cancel",this.cancel,this);this.htmlPageBlock.w.center()}}});
Blocks.Article.PanelButtonsView=Backbone.View.extend({el:".page",events:{"click #done":"done","click #cancel":"cancel"},done:function(){this.trigger("done")},cancel:function(){this.trigger("cancel")},render:function(){this.$el.append($("<div>").addClass("blockMenuItem").attr("id","done").html("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"));this.$el.append($("<div>").addClass("blockMenuItem").attr("id","cancel").html("\u041e\u0442\u043c\u0435\u043d\u0430"));return this}});
Defaceit.BlockManager=Defaceit.Model.extend({initialize:function(c){this.blockList={};this.status("start",!1);this.on("status:change",this.check_status,this);this.template=new Defaceit.Template(c);this.template.on("status:change",this.find_blocks,this);this.statusCollection=new Defaceit.StatusCollection;this.statusCollection.on("status:change",this.check_status,this)},find_blocks:function(){var c=this.template.get("words"),c=this.normalize(c);_.each(c,this.add,this);this.statusCollection.fetch()},
normalize:function(c){for(var f=[],m=0;m<c.length;m++)f.push(this.name(c[m]));return _.uniq(f)},name:function(c){return c.replace("{{","").replace("}}","").split(".")[0]},add:function(c){var f="";_.isString(c)?(f=this.name(c),c=this.create_block_from_name(f)):(f=c.name(),alert("BlockManager: \u0411\u043b\u043e\u043a \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u043d \u0441\u0442\u0440\u043e\u043a\u043e\u0439 \u0430 \u043d\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c"));
this.statusCollection.add(c);c.on("save",this.done,this);this.blockList[f]=this.blockList[f]||c},check_status:function(){var c="BLOCK:"+this.status()+", STORE:"+(this.statusCollection&&this.statusCollection.status());console.debug("BlockManager  "+c);switch(c){case "BLOCK:start, STORE:ready":this.status("ready");break;case "BLOCK:ready, STORE:wait":this.status("wait",!1);break;case "BLOCK:wait, STORE:ready":this.status("ready",!1);break;case "BLOCK:should_be_saved, STORE:ready":this.done()}},done:function(){if("ready"!=
this.status()&&"should_be_saved"!=this.status())this.status("should_be_saved");else{var c=new Defaceit.BlockManager.EditView,f=this.template.render(this.toObject()),f=f.replace(RegExp("\n","g"),"<br />\n");c.render(f,Defaceit.Page.name);c.save()}},create_block_from_name:function(c){return Blocks[c]?new Blocks[c](c):new Blocks.Default(c)},toObject:function(){var c={};_.each(this.statusCollection.collection,function(f){c[f.name()]=f.toObject()});return c}});
Defaceit.BlockManager.EditView=Backbone.View.extend({tagName:"form",className:"",save:function(){this.$el.attr("method","POST").attr("action","http://defaceit.ru/page/save").submit()},cancel:function(){},render:function(c,f){this.$el.append(jQuery("<textarea>").attr("name","content").css("display","none").val(c));this.$el.append(jQuery("<input>").attr("name","url").attr("type","hidden").val(f));this.$el.append(jQuery("<input>").attr("name","title").attr("type","hidden").val(Defaceit.Page.name));
this.$el.append(jQuery("<input>").attr("name","site").attr("type","hidden").val(Defaceit.Page.namespace));jQuery(".center").html("").append(this.$el)}});
Defaceit.Template=Backbone.Model.extend({initialize:function(c,f){this.queueStore=new Defaceit.StackQueueStore(c,f||"template.defaceit.ru");this.status(this.queueStore.status());this.queueStore.on("status:change",this.parse,this);this.fetch()},parse:function(){if("ready"==this.queueStore.status()){var c=this.queueStore.data;this.set("text",c);c=c.match(/{{[^}]+}}/g)||[];this.set("words",_.uniq(c));this.status("ready")}},status:function(c){c&&(this.myStatus=c,this.trigger("status:change"));
return this.myStatus},render:function(c){return _.template(this.get("text"),c)}});
Defaceit.MainPageView=Backbone.View.extend({el:"body",initialize:function(){this.template=new Defaceit.Template("create_page");this.template.on("status:change",this.render,this);this.thumbnails=new Defaceit.BlockManager("thumbnails_page")},done:function(){this.thumbnails.done()},render:function(){"ready"==this.template.status()&&($("body").html(this.template.render({})),button=new Defaceit.Page.BigButtonView,button.render(),button.on("done",this.done,this))}});Backbone.old_sync=Backbone.sync;
Backbone.sync=function(c,f,m){if(f.queueStore)switch(c){case "read":f.queueStore.read();break;case "create":f.queueStore.write();break;case "update":f.queueStore.write()}else Backbone.old_sync.apply(this,[c,f,m])};Defaceit.StatusCollection=function(){this.initialize()};
_.extend(Defaceit.StatusCollection.prototype,{initialize:function(){this.status("wait");this.collection=[]},add:function(c){this.collection.push(c);c.on("status:change",this.check_status,this);return this},fetch:function(){_.each(this.collection,function(c){c.fetch()})},status:function(c){if(c){var f=this.myStatus!=c;this.myStatus=c;f&&this.trigger("status:change")}else return this.myStatus},check_status:function(){this.status(function(c){var f=[];_.each(c,function(c){f.push(c.status())});f=_.uniq(f);
return 1==f.length?f.pop():"wait"}(this.collection))}},Backbone.Events);Defaceit.RWCollection=function(){this.initialize()};
_.extend(Defaceit.RWCollection.prototype,{initialize:function(){this.status("start");this.storeList=[]},read:function(){_.each(this.storeList,function(c){c.read()},this)},write:function(){_.each(this.storeList,function(c){c.write()},this)},add:function(c){c.on("status:change",this.check_status,this);this.storeList.push(c)},status:function(c){if(c){var f=this.myStatus!=c;this.myStatus=c;f&&this.trigger("status:change")}else return this.myStatus},check_status:function(){this.status(function(c){var f=
[];_.each(c,function(c){f.push(c.status())});f=_.uniq(f);return 1==f.length?f.pop():"wait"}(this.storeList))},find:function(c){return _.find(this.storeList,function(f){return f.field==c})}},Backbone.Events);Defaceit.QueueStore=Defaceit.extend({});
_.extend(Defaceit.QueueStore.prototype,{initialize:function(c,f){this.status("start");this.field=c;this.namespace=f||Defaceit.namespace;this.queueCallId=[];this.queue=this.full_name();Defaceit.Queue(this.full_name()).client(this)},full_name:function(){return this.field+"."+this.namespace},set:function(c,f){this.queueCallId=[];this.data=c;this.status(f||"update")},queue_message:function(c,f,m){-1!=_.indexOf(this.queueCallId,m.call_id)&&this.set(c,"ready")},status:function(c){if(c)this.myStatus=c,this.trigger("status:change");
else return this.myStatus},queue_status:function(c){"empty"==c.result?this.set("","empty"):(this.status("ready"),console.debug("\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f"))},read:function(){throw Error("\u041d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f read \u0432 QueueStore");},write:function(){throw Error("\u041d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f write \u0432 QueueStore");
}},Backbone.Events);Defaceit.StackQueueStore=Defaceit.extend(Defaceit.QueueStore,{read:function(){this.queueCallId.push(Defaceit.Queue(this.full_name()).last())},write:function(){Defaceit.Queue(this.full_name()).push(this.data)}});
String.prototype.translit=function(){var c={"\u0410":"A","\u0430":"a","\u0411":"B","\u0431":"b","\u0412":"V","\u0432":"v","\u0413":"G","\u0433":"g","\u0414":"D","\u0434":"d","\u0415":"E","\u0435":"e","\u0401":"Yo","\u0451":"yo","\u0416":"Zh","\u0436":"zh","\u0417":"Z","\u0437":"z","\u0418":"I","\u0438":"i","\u0419":"Y","\u0439":"y","\u041a":"K","\u043a":"k","\u041b":"L","\u043b":"l","\u041c":"M","\u043c":"m","\u041d":"N","\u043d":"n","\u041e":"O","\u043e":"o","\u041f":"P","\u043f":"p","\u0420":"R",
"\u0440":"r","\u0421":"S","\u0441":"s","\u0422":"T","\u0442":"t","\u0423":"U","\u0443":"u","\u0424":"F","\u0444":"f","\u0425":"Kh","\u0445":"kh","\u0426":"Ts","\u0446":"ts","\u0427":"Ch","\u0447":"ch","\u0428":"Sh","\u0448":"sh","\u0429":"Sch","\u0449":"sch","\u042a":"","\u044a":"","\u042b":"Y","\u044b":"y","\u042c":"","\u044c":"","\u042d":"E","\u044d":"e","\u042e":"Yu","\u044e":"yu","\u042f":"Ya","\u044f":"ya"," ":"-",_:"-",'"':"","'":"",".":"",",":"","!":"",":":"",";":""},f="",m;for(m in c)f+=m;
f=RegExp("["+f+"]","g");m=function(f){return f in c?c[f]:""};return function(){for(var c=this.replace(f,m).replace(" ","-").toString(),x="",B=0;B<c.length;B++)-1!="QqWwEeRrTtYyUuIiOoPpAaSsDdFfGgHhJjKkLlZzXxCcVvBbNnMm-0123456789".indexOf(c.charAt(B))&&(x+=c.charAt(B));return x}}();
Defaceit.Page.ButtonView=Backbone.View.extend({tagName:"img",events:{click:"run"},hide:function(){this.$el.hide()},run:function(){this.trigger("hide")},render:function(c,f){this.$el.attr("src","http://defaceit.ru/images/templates/test.png").css({width:"100px",position:"absolute",left:c,top:f}).appendTo("body");return this}});
Defaceit.Page.BigButtonView=Backbone.View.extend({tagName:"div",className:"centerLayer",events:{click:"show"},hide:function(){for(var c=0;c<this.elements.length;c++)this.elements[c].hide();this.$el.css({display:"none"});this.trigger("done")},show:function(){this.elements=[];this.elements.push(new Defaceit.Page.ButtonView);this.elements.push(new Defaceit.Page.ButtonView);this.elements.push(new Defaceit.Page.ButtonView);for(var c=120,f=$("#big-button").offset(),m=$("#big-button").width()/2-50,p=$("#big-button").height()/
2-50,x=0;x<this.elements.length;x++)dX=220*Math.cos(c*Math.PI/180),dY=220*Math.sin(c*Math.PI/180),c+=40,this.elements[x].render(m+f.left+dX,p+f.top-dY),this.elements[x].on("hide",this.hide,this)},render:function(){this.$el.html('<img id="big-button" src="http://defaceit.ru/images/buttons/create.png" />').appendTo("body")}});
function run(){if(!Defaceit.Page.name){var c=null;do c=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b");while(null===c);Defaceit.Page.name=c.toLowerCase().translit()}mainPage=new Defaceit.MainPageView};
