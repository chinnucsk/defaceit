(function(){var b=this,f=b._,g={},m=Array.prototype,o=Object.prototype,p=m.push,k=m.slice,h=m.concat,s=o.toString,t=o.hasOwnProperty,u=m.forEach,w=m.map,A=m.reduce,B=m.reduceRight,C=m.filter,D=m.every,r=m.some,v=m.indexOf,E=m.lastIndexOf,o=Array.isArray,G=Object.keys,x=Function.prototype.bind,d=function(e){if(e instanceof d)return e;if(!(this instanceof d))return new d(e);this._wrapped=e};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=d),exports._=
d):b._=d;d.VERSION="1.4.2";var n=d.each=d.forEach=function(e,a,c){if(e!=null)if(u&&e.forEach===u)e.forEach(a,c);else if(e.length===+e.length)for(var b=0,j=e.length;b<j;b++){if(a.call(c,e[b],b,e)===g)break}else for(b in e)if(d.has(e,b)&&a.call(c,e[b],b,e)===g)break};d.map=d.collect=function(e,a,c){var d=[];if(e==null)return d;if(w&&e.map===w)return e.map(a,c);n(e,function(e,b,j){d[d.length]=a.call(c,e,b,j)});return d};d.reduce=d.foldl=d.inject=function(e,a,c,b){var j=arguments.length>2;e==null&&(e=
[]);if(A&&e.reduce===A){b&&(a=d.bind(a,b));return j?e.reduce(a,c):e.reduce(a)}n(e,function(e,d,l){if(j)c=a.call(b,c,e,d,l);else{c=e;j=true}});if(!j)throw new TypeError("Reduce of empty array with no initial value");return c};d.reduceRight=d.foldr=function(e,a,c,b){var j=arguments.length>2;e==null&&(e=[]);if(B&&e.reduceRight===B){b&&(a=d.bind(a,b));return j?e.reduceRight(a,c):e.reduceRight(a)}var l=e.length;if(l!==+l)var i=d.keys(e),l=i.length;n(e,function(d,f,h){f=i?i[--l]:--l;if(j)c=a.call(b,c,e[f],
f,h);else{c=e[f];j=true}});if(!j)throw new TypeError("Reduce of empty array with no initial value");return c};d.find=d.detect=function(e,a,c){var d;F(e,function(e,b,j){if(a.call(c,e,b,j)){d=e;return true}});return d};d.filter=d.select=function(e,a,c){var d=[];if(e==null)return d;if(C&&e.filter===C)return e.filter(a,c);n(e,function(e,b,j){a.call(c,e,b,j)&&(d[d.length]=e)});return d};d.reject=function(e,a,c){return d.filter(e,function(e,d,b){return!a.call(c,e,d,b)},c)};d.every=d.all=function(e,a,c){a||
(a=d.identity);var b=true;if(e==null)return b;if(D&&e.every===D)return e.every(a,c);n(e,function(e,d,j){if(!(b=b&&a.call(c,e,d,j)))return g});return!!b};var F=d.some=d.any=function(e,a,c){a||(a=d.identity);var b=false;if(e==null)return b;if(r&&e.some===r)return e.some(a,c);n(e,function(e,d,j){if(b||(b=a.call(c,e,d,j)))return g});return!!b};d.contains=d.include=function(e,a){return e==null?false:v&&e.indexOf===v?e.indexOf(a)!=-1:F(e,function(e){return e===a})};d.invoke=function(e,a){var c=k.call(arguments,
2);return d.map(e,function(e){return(d.isFunction(a)?a:e[a]).apply(e,c)})};d.pluck=function(e,a){return d.map(e,function(e){return e[a]})};d.where=function(e,a){return d.isEmpty(a)?[]:d.filter(e,function(e){for(var c in a)if(d.has(a,c)&&a[c]!==e[c])return false;return true})};d.max=function(e,a,c){if(!a&&d.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!a&&d.isEmpty(e))return-Infinity;var b={computed:-Infinity,value:-Infinity};n(e,function(e,d,j){d=a?a.call(c,e,d,j):e;d>=
b.computed&&(b={value:e,computed:d})});return b.value};d.min=function(e,a,c){if(!a&&d.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!a&&d.isEmpty(e))return Infinity;var b={computed:Infinity,value:Infinity};n(e,function(e,d,j){d=a?a.call(c,e,d,j):e;d<b.computed&&(b={value:e,computed:d})});return b.value};d.shuffle=function(e){var a,c=0,b=[];n(e,function(e){a=d.random(c++);b[c-1]=b[a];b[a]=e});return b};var y=function(e){return d.isFunction(e)?e:function(a){return a[e]}};
d.sortBy=function(e,a,c){var b=y(a);return d.pluck(d.map(e,function(e,a,d){return{value:e,index:a,criteria:b.call(c,e,a,d)}}).sort(function(e,a){var c=e.criteria,d=a.criteria;if(c!==d){if(c>d||c===void 0)return 1;if(c<d||d===void 0)return-1}return e.index<a.index?-1:1}),"value")};var z=function(e,a,c,d){var b={},j=y(a);n(e,function(a,I){var l=j.call(c,a,I,e);d(b,l,a)});return b};d.groupBy=function(e,a,c){return z(e,a,c,function(e,a,c){(d.has(e,a)?e[a]:e[a]=[]).push(c)})};d.countBy=function(e,a,c){return z(e,
a,c,function(e,a){d.has(e,a)||(e[a]=0);e[a]++})};d.sortedIndex=function(e,a,c,b){for(var c=c==null?d.identity:y(c),a=c.call(b,a),j=0,l=e.length;j<l;){var i=j+l>>>1;c.call(b,e[i])<a?j=i+1:l=i}return j};d.toArray=function(e){return!e?[]:e.length===+e.length?k.call(e):d.values(e)};d.size=function(e){return e==null?0:e.length===+e.length?e.length:d.keys(e).length};d.first=d.head=d.take=function(e,a,c){return e==null?void 0:a!=null&&!c?k.call(e,0,a):e[0]};d.initial=function(e,a,c){return k.call(e,0,e.length-
(a==null||c?1:a))};d.last=function(e,a,c){return e==null?void 0:a!=null&&!c?k.call(e,Math.max(e.length-a,0)):e[e.length-1]};d.rest=d.tail=d.drop=function(e,a,c){return k.call(e,a==null||c?1:a)};d.compact=function(e){return d.filter(e,function(e){return!!e})};var a=function(e,c,b){n(e,function(e){d.isArray(e)?c?p.apply(b,e):a(e,c,b):b.push(e)});return b};d.flatten=function(e,c){return a(e,c,[])};d.without=function(e){return d.difference(e,k.call(arguments,1))};d.uniq=d.unique=function(e,a,c,b){if(d.isFunction(a)){b=
c;c=a;a=false}var c=c?d.map(e,c,b):e,j=[],l=[];n(c,function(c,b){if(a?!b||l[l.length-1]!==c:!d.contains(l,c)){l.push(c);j.push(e[b])}});return j};d.union=function(){return d.uniq(h.apply(m,arguments))};d.intersection=function(e){var a=k.call(arguments,1);return d.filter(d.uniq(e),function(e){return d.every(a,function(a){return d.indexOf(a,e)>=0})})};d.difference=function(e){var a=h.apply(m,k.call(arguments,1));return d.filter(e,function(e){return!d.contains(a,e)})};d.zip=function(){for(var e=k.call(arguments),
a=d.max(d.pluck(e,"length")),c=Array(a),b=0;b<a;b++)c[b]=d.pluck(e,""+b);return c};d.object=function(a,c){if(a==null)return{};for(var d={},b=0,j=a.length;b<j;b++)c?d[a[b]]=c[b]:d[a[b][0]]=a[b][1];return d};d.indexOf=function(a,c,b){if(a==null)return-1;var j=0,l=a.length;if(b)if(typeof b=="number")j=b<0?Math.max(0,l+b):b;else{j=d.sortedIndex(a,c);return a[j]===c?j:-1}if(v&&a.indexOf===v)return a.indexOf(c,b);for(;j<l;j++)if(a[j]===c)return j;return-1};d.lastIndexOf=function(a,c,d){if(a==null)return-1;
var b=d!=null;if(E&&a.lastIndexOf===E)return b?a.lastIndexOf(c,d):a.lastIndexOf(c);for(d=b?d:a.length;d--;)if(a[d]===c)return d;return-1};d.range=function(a,c,d){if(arguments.length<=1){c=a||0;a=0}for(var d=arguments[2]||1,b=Math.max(Math.ceil((c-a)/d),0),j=0,l=Array(b);j<b;){l[j++]=a;a=a+d}return l};var c=function(){};d.bind=function(a,b){var j,l;if(a.bind===x&&x)return x.apply(a,k.call(arguments,1));if(!d.isFunction(a))throw new TypeError;l=k.call(arguments,2);return j=function(){if(!(this instanceof
j))return a.apply(b,l.concat(k.call(arguments)));c.prototype=a.prototype;var d=new c,i=a.apply(d,l.concat(k.call(arguments)));return Object(i)===i?i:d}};d.bindAll=function(a){var c=k.call(arguments,1);c.length==0&&(c=d.functions(a));n(c,function(c){a[c]=d.bind(a[c],a)});return a};d.memoize=function(a,c){var b={};c||(c=d.identity);return function(){var j=c.apply(this,arguments);return d.has(b,j)?b[j]:b[j]=a.apply(this,arguments)}};d.delay=function(a,c){var d=k.call(arguments,2);return setTimeout(function(){return a.apply(null,
d)},c)};d.defer=function(a){return d.delay.apply(d,[a,1].concat(k.call(arguments,1)))};d.throttle=function(a,c){var d,b,j,l,i=0,f=function(){i=new Date;j=null;l=a.apply(d,b)};return function(){var h=new Date,g=c-(h-i);d=this;b=arguments;if(g<=0){clearTimeout(j);i=h;l=a.apply(d,b)}else j||(j=setTimeout(f,g));return l}};d.debounce=function(a,c,d){var b,j;return function(){var l=this,i=arguments,f=d&&!b;clearTimeout(b);b=setTimeout(function(){b=null;d||(j=a.apply(l,i))},c);f&&(j=a.apply(l,i));return j}};
d.once=function(a){var c=false,d;return function(){if(c)return d;c=true;d=a.apply(this,arguments);a=null;return d}};d.wrap=function(a,c){return function(){var d=[a];p.apply(d,arguments);return c.apply(this,d)}};d.compose=function(){var a=arguments;return function(){for(var c=arguments,d=a.length-1;d>=0;d--)c=[a[d].apply(this,c)];return c[0]}};d.after=function(a,c){return a<=0?c():function(){if(--a<1)return c.apply(this,arguments)}};d.keys=G||function(a){if(a!==Object(a))throw new TypeError("Invalid object");
var c=[],b;for(b in a)d.has(a,b)&&(c[c.length]=b);return c};d.values=function(a){var c=[],b;for(b in a)d.has(a,b)&&c.push(a[b]);return c};d.pairs=function(a){var c=[],b;for(b in a)d.has(a,b)&&c.push([b,a[b]]);return c};d.invert=function(a){var c={},b;for(b in a)d.has(a,b)&&(c[a[b]]=b);return c};d.functions=d.methods=function(a){var c=[],b;for(b in a)d.isFunction(a[b])&&c.push(b);return c.sort()};d.extend=function(a){n(k.call(arguments,1),function(c){for(var b in c)a[b]=c[b]});return a};d.pick=function(a){var c=
{},b=h.apply(m,k.call(arguments,1));n(b,function(b){b in a&&(c[b]=a[b])});return c};d.omit=function(a){var c={},b=h.apply(m,k.call(arguments,1)),j;for(j in a)d.contains(b,j)||(c[j]=a[j]);return c};d.defaults=function(a){n(k.call(arguments,1),function(c){for(var b in c)a[b]==null&&(a[b]=c[b])});return a};d.clone=function(a){return!d.isObject(a)?a:d.isArray(a)?a.slice():d.extend({},a)};d.tap=function(a,c){c(a);return a};var j=function(a,c,b,l){if(a===c)return a!==0||1/a==1/c;if(a==null||c==null)return a===
c;if(a instanceof d)a=a._wrapped;if(c instanceof d)c=c._wrapped;var i=s.call(a);if(i!=s.call(c))return false;switch(i){case "[object String]":return a==""+c;case "[object Number]":return a!=+a?c!=+c:a==0?1/a==1/c:a==+c;case "[object Date]":case "[object Boolean]":return+a==+c;case "[object RegExp]":return a.source==c.source&&a.global==c.global&&a.multiline==c.multiline&&a.ignoreCase==c.ignoreCase}if(typeof a!="object"||typeof c!="object")return false;for(var f=b.length;f--;)if(b[f]==a)return l[f]==
c;b.push(a);l.push(c);var f=0,h=true;if(i=="[object Array]"){f=a.length;if(h=f==c.length)for(;f--;)if(!(h=j(a[f],c[f],b,l)))break}else{var i=a.constructor,g=c.constructor;if(i!==g&&(!d.isFunction(i)||!(i instanceof i&&d.isFunction(g)&&g instanceof g)))return false;for(var k in a)if(d.has(a,k)){f++;if(!(h=d.has(c,k)&&j(a[k],c[k],b,l)))break}if(h){for(k in c)if(d.has(c,k)&&!f--)break;h=!f}}b.pop();l.pop();return h};d.isEqual=function(a,c){return j(a,c,[],[])};d.isEmpty=function(a){if(a==null)return true;
if(d.isArray(a)||d.isString(a))return a.length===0;for(var c in a)if(d.has(a,c))return false;return true};d.isElement=function(a){return!!(a&&a.nodeType===1)};d.isArray=o||function(a){return s.call(a)=="[object Array]"};d.isObject=function(a){return a===Object(a)};n("Arguments,Function,String,Number,Date,RegExp".split(","),function(a){d["is"+a]=function(c){return s.call(c)=="[object "+a+"]"}});d.isArguments(arguments)||(d.isArguments=function(a){return!(!a||!d.has(a,"callee"))});"function"!==typeof/./&&
(d.isFunction=function(a){return typeof a==="function"});d.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};d.isNaN=function(a){return d.isNumber(a)&&a!=+a};d.isBoolean=function(a){return a===true||a===false||s.call(a)=="[object Boolean]"};d.isNull=function(a){return a===null};d.isUndefined=function(a){return a===void 0};d.has=function(a,c){return t.call(a,c)};d.noConflict=function(){b._=f;return this};d.identity=function(a){return a};d.times=function(a,c,b){for(var d=0;d<a;d++)c.call(b,
d)};d.random=function(a,c){if(c==null){c=a;a=0}return a+(0|Math.random()*(c-a+1))};var l={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};l.unescape=d.invert(l.escape);var i={escape:RegExp("["+d.keys(l.escape).join("")+"]","g"),unescape:RegExp("("+d.keys(l.unescape).join("|")+")","g")};d.each(["escape","unescape"],function(a){d[a]=function(c){return c==null?"":(""+c).replace(i[a],function(c){return l[a][c]})}});d.result=function(a,c){if(a==null)return null;var b=
a[c];return d.isFunction(b)?b.call(a):b};d.mixin=function(a){n(d.functions(a),function(c){var b=d[c]=a[c];d.prototype[c]=function(){var a=[this._wrapped];p.apply(a,arguments);a=b.apply(d,a);return this._chain?d(a).chain():a}})};var J=0;d.uniqueId=function(a){var c=J++;return a?a+c:c};d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;
d.template=function(a,c,b){var b=d.defaults({},b,d.templateSettings),j=RegExp([(b.escape||H).source,(b.interpolate||H).source,(b.evaluate||H).source].join("|")+"|$","g"),l=0,i="__p+='";a.replace(j,function(c,b,d,j,f){i=i+a.slice(l,f).replace(L,function(a){return"\\"+K[a]});i=i+(b?"'+\n((__t=("+b+"))==null?'':_.escape(__t))+\n'":d?"'+\n((__t=("+d+"))==null?'':__t)+\n'":j?"';\n"+j+"\n__p+='":"");l=f+c.length});i=i+"';\n";b.variable||(i="with(obj||{}){\n"+i+"}\n");i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
i+"return __p;\n";try{var f=new Function(b.variable||"obj","_",i)}catch(h){h.source=i;throw h;}if(c)return f(c,d);c=function(a){return f.call(this,a,d)};c.source="function("+(b.variable||"obj")+"){\n"+i+"}";return c};d.chain=function(a){return d(a).chain()};d.mixin(d);n("pop,push,reverse,shift,sort,splice,unshift".split(","),function(a){var c=m[a];d.prototype[a]=function(){var b=this._wrapped;c.apply(b,arguments);(a=="shift"||a=="splice")&&b.length===0&&delete b[0];return this._chain?d(b).chain():
b}});n(["concat","join","slice"],function(a){var c=m[a];d.prototype[a]=function(){var a=c.apply(this._wrapped,arguments);return this._chain?d(a).chain():a}});d.extend(d.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);(function(){var b=this,f=b.Backbone,g=Array.prototype,m=g.push,o=g.slice,p=g.splice,k;k="undefined"!==typeof exports?exports:b.Backbone={};k.VERSION="0.9.2";var h=b._;!h&&"undefined"!==typeof require&&(h=require("underscore"));k.$=b.jQuery||b.Zepto||b.ender;k.noConflict=function(){b.Backbone=f;return this};k.emulateHTTP=!1;k.emulateJSON=!1;var s=/\s+/,g=k.Events={on:function(a,c,b){var d,i;if(!c)return this;a=a.split(s);for(d=this._callbacks||(this._callbacks={});i=a.shift();)i=d[i]||(d[i]=[]),i.push(c,
b);return this},off:function(a,c,b){var d,i,f;if(!(i=this._callbacks))return this;if(!a&&!c&&!b)return delete this._callbacks,this;for(a=a?a.split(s):h.keys(i);d=a.shift();)if(!(f=i[d])||!c&&!b)delete i[d];else for(d=f.length-2;0<=d;d-=2)c&&f[d]!==c||b&&f[d+1]!==b||f.splice(d,2);return this},trigger:function(a){var c,b,d,i,f,h,g;if(!(b=this._callbacks))return this;g=[];a=a.split(s);i=1;for(f=arguments.length;i<f;i++)g[i-1]=arguments[i];for(;c=a.shift();){if(h=b.all)h=h.slice();if(d=b[c])d=d.slice();
if(d){i=0;for(f=d.length;i<f;i+=2)d[i].apply(d[i+1]||this,g)}if(h){c=[c].concat(g);i=0;for(f=h.length;i<f;i+=2)h[i].apply(h[i+1]||this,c)}}return this}};g.bind=g.on;g.unbind=g.off;var t=k.Model=function(a,c){var b,d=a||{};c&&c.collection&&(this.collection=c.collection);this.attributes={};this._escapedAttributes={};this.cid=h.uniqueId("c");this.changed={};this._changes={};this._pending={};c&&c.parse&&(d=this.parse(d));if(b=h.result(this,"defaults"))d=h.extend({},b,d);this.set(d,{silent:!0});this.changed=
{};this._changes={};this._pending={};this._previousAttributes=h.clone(this.attributes);this.initialize.apply(this,arguments)};h.extend(t.prototype,g,{changed:null,_changes:null,_pending:null,_changing:null,idAttribute:"id",initialize:function(){},toJSON:function(){return h.clone(this.attributes)},sync:function(){return k.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){var c;if(c=this._escapedAttributes[a])return c;c=this.get(a);return this._escapedAttributes[a]=
h.escape(null==c?"":""+c)},has:function(a){return null!=this.get(a)},set:function(a,c,b){var d,i;if(null==a)return this;h.isObject(a)?(i=a,b=c):(i={})[a]=c;var a=b&&b.silent,f=b&&b.unset;i instanceof t&&(i=i.attributes);if(f)for(d in i)i[d]=void 0;if(!this._validate(i,b))return!1;this.idAttribute in i&&(this.id=i[this.idAttribute]);var g=this._changing,k=this.attributes,m=this._escapedAttributes,e=this._previousAttributes||{};for(d in i){c=i[d];if(!h.isEqual(k[d],c)||f&&h.has(k,d))delete m[d],this._changes[d]=
!0;f?delete k[d]:k[d]=c;!h.isEqual(e[d],c)||h.has(k,d)!==h.has(e,d)?(this.changed[d]=c,a||(this._pending[d]=!0)):(delete this.changed[d],delete this._pending[d],g||delete this._changes[d]);g&&h.isEqual(k[d],g[d])&&delete this._changes[d]}a||this.change(b);return this},unset:function(a,c){c=h.extend({},c,{unset:!0});return this.set(a,null,c)},clear:function(a){a=h.extend({},a,{unset:!0});return this.set(h.clone(this.attributes),a)},fetch:function(a){var a=a?h.clone(a):{},c=this,b=a.success;a.success=
function(d,i,f){if(!c.set(c.parse(d,f),a))return!1;b&&b(c,d,a)};return this.sync("read",this,a)},save:function(a,c,b){var d,i,f;null==a||h.isObject(a)?(d=a,b=c):null!=a&&((d={})[a]=c);b=b?h.clone(b):{};if(b.wait){if(!this._validate(d,b))return!1;i=h.clone(this.attributes)}a=h.extend({},b,{silent:!0});if(d&&!this.set(d,b.wait?a:b)||!d&&!this._validate(null,b))return!1;var g=this,k=b.success;b.success=function(a,c,i){f=true;c=g.parse(a,i);b.wait&&(c=h.extend(d||{},c));if(!g.set(c,b))return false;k&&
k(g,a,b)};c=this.sync(this.isNew()?"create":"update",this,b);!f&&b.wait&&(this.clear(a),this.set(i,a));return c},destroy:function(a){var a=a?h.clone(a):{},c=this,b=a.success,d=function(){c.trigger("destroy",c,c.collection,a)};a.success=function(f){(a.wait||c.isNew())&&d();b&&b(c,f,a)};if(this.isNew())return a.success(),!1;var f=this.sync("delete",this,a);a.wait||d();return f},url:function(){var a=h.result(this,"urlRoot")||h.result(this.collection,"url")||z();return this.isNew()?a:a+("/"===a.charAt(a.length-
1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(a){var c=this._changing,b=this._changing={},d;for(d in this._changes)this._pending[d]=!0;var f=this._changes;this._changes={};var g=[];for(d in f)b[d]=this.get(d),g.push(d);for(var f=0,k=g.length;f<k;f++)this.trigger("change:"+g[f],this,b[g[f]],a);if(c)return this;for(;!h.isEmpty(this._pending);){this._pending={};
this.trigger("change",this,a);for(d in this.changed)!this._pending[d]&&!this._changes[d]&&delete this.changed[d];this._previousAttributes=h.clone(this.attributes)}this._changing=null;return this},hasChanged:function(a){return null==a?!h.isEmpty(this.changed):h.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?h.clone(this.changed):!1;var c,b=!1,d=this._previousAttributes,f;for(f in a)if(!h.isEqual(d[f],c=a[f]))(b||(b={}))[f]=c;return b},previous:function(a){return null==
a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return h.clone(this._previousAttributes)},isValid:function(a){return!this.validate||!this.validate(this.attributes,a)},_validate:function(a,c){if(c&&c.silent||!this.validate)return!0;var a=h.extend({},this.attributes,a),b=this.validate(a,c);if(!b)return!0;c&&c.error&&c.error(this,b,c);this.trigger("error",this,b,c);return!1}});var u=k.Collection=function(a,c){c||(c={});c.model&&(this.model=c.model);void 0!==
c.comparator&&(this.comparator=c.comparator);this._reset();this.initialize.apply(this,arguments);a&&(c.parse&&(a=this.parse(a)),this.reset(a,{silent:!0,parse:c.parse}))};h.extend(u.prototype,g,{model:t,initialize:function(){},toJSON:function(a){return this.map(function(c){return c.toJSON(a)})},sync:function(){return k.sync.apply(this,arguments)},add:function(a,c){var b,d,f,g=c&&c.at,a=h.isArray(a)?a.slice():[a];b=0;for(d=a.length;b<d;b++)if(!(a[b]=this._prepareModel(a[b],c)))throw Error("Can't add an invalid model to a collection");
for(b=a.length-1;0<=b;b--)d=a[b],(f=null!=d.id&&this._byId[d.id])||this._byCid[d.cid]?(c&&c.merge&&f&&f.set(d,c),a.splice(b,1)):(d.on("all",this._onModelEvent,this),this._byCid[d.cid]=d,null!=d.id&&(this._byId[d.id]=d));this.length+=a.length;b=[null!=g?g:this.models.length,0];m.apply(b,a);p.apply(this.models,b);this.comparator&&null==g&&this.sort({silent:!0});if(c&&c.silent)return this;for(;d=a.shift();)d.trigger("add",d,this,c);return this},remove:function(a,c){var b,d,f,g;c||(c={});a=h.isArray(a)?
a.slice():[a];b=0;for(d=a.length;b<d;b++)if(g=this.getByCid(a[b])||this.get(a[b]))delete this._byId[g.id],delete this._byCid[g.cid],f=this.indexOf(g),this.models.splice(f,1),this.length--,c.silent||(c.index=f,g.trigger("remove",g,this,c)),this._removeReference(g);return this},push:function(a,c){a=this._prepareModel(a,c);this.add(a,c);return a},pop:function(a){var c=this.at(this.length-1);this.remove(c,a);return c},unshift:function(a,c){a=this._prepareModel(a,c);this.add(a,h.extend({at:0},c));return a},
shift:function(a){var c=this.at(0);this.remove(c,a);return c},slice:function(a,c){return this.models.slice(a,c)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},where:function(a){return h.isEmpty(a)?[]:this.filter(function(c){for(var b in a)if(a[b]!==c.get(b))return!1;return!0})},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");h.isString(this.comparator)||
1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(h.bind(this.comparator,this));(!a||!a.silent)&&this.trigger("reset",this,a);return this},pluck:function(a){return h.invoke(this.models,"get",a)},reset:function(a,c){for(var b=0,d=this.models.length;b<d;b++)this._removeReference(this.models[b]);this._reset();a&&this.add(a,h.extend({silent:!0},c));(!c||!c.silent)&&this.trigger("reset",this,c);return this},fetch:function(a){a=a?h.clone(a):{};void 0===a.parse&&(a.parse=
!0);var c=this,b=a.success;a.success=function(d,f,g){c[a.add?"add":"reset"](c.parse(d,g),a);b&&b(c,d,a)};return this.sync("read",this,a)},create:function(a,c){var b=this,c=c?h.clone(c):{},a=this._prepareModel(a,c);if(!a)return!1;c.wait||b.add(a,c);var d=c.success;c.success=function(a,c,f){f.wait&&b.add(a,f);d&&d(a,c,f)};a.save(null,c);return a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},chain:function(){return h(this.models).chain()},_reset:function(){this.length=
0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(a,c){if(a instanceof t)return a.collection||(a.collection=this),a;c||(c={});c.collection=this;var b=new this.model(a,c);return!b._validate(b.attributes,c)?!1:b},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,c,b,d){("add"===a||"remove"===a)&&b!==this||("destroy"===a&&this.remove(c,d),c&&a==="change:"+c.idAttribute&&(delete this._byId[c.previous(c.idAttribute)],
null!=c.id&&(this._byId[c.id]=c)),this.trigger.apply(this,arguments))}});h.each("forEach,each,map,collect,reduce,foldl,inject,reduceRight,foldr,find,detect,filter,select,reject,every,all,some,any,include,contains,invoke,max,min,sortedIndex,toArray,size,first,head,take,initial,rest,tail,last,without,indexOf,shuffle,lastIndexOf,isEmpty".split(","),function(a){u.prototype[a]=function(){var c=o.call(arguments);c.unshift(this.models);return h[a].apply(h,c)}});h.each(["groupBy","countBy","sortBy"],function(a){u.prototype[a]=
function(c,b){var d=h.isFunction(c)?c:function(a){return a.get(c)};return h[a](this.models,d,b)}});var w=k.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,B=/:\w+/g,C=/\*\w+/g,D=/[-{}[\]+?.,\\^$|#\s]/g;h.extend(w.prototype,g,{initialize:function(){},route:function(a,c,b){h.isRegExp(a)||(a=this._routeToRegExp(a));b||(b=this[c]);k.history.route(a,h.bind(function(d){d=this._extractParameters(a,d);b&&b.apply(this,d);
this.trigger.apply(this,["route:"+c].concat(d));k.history.trigger("route",this,c,d)},this));return this},navigate:function(a,c){k.history.navigate(a,c);return this},_bindRoutes:function(){if(this.routes)for(var a,c=h.keys(this.routes);null!=(a=c.pop());)this.route(a,this.routes[a])},_routeToRegExp:function(a){a=a.replace(D,"\\$&").replace(A,"(?:$1)?").replace(B,"([^/]+)").replace(C,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,c){return a.exec(c).slice(1)}});var r=k.History=function(){this.handlers=
[];h.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},v=/^[#\/]|\s+$/,E=/^\/+|\/+$/g,G=/msie [\w.]+/,x=/\/$/;r.started=!1;h.extend(r.prototype,g,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,c){if(null==a)if(this._hasPushState||!this._wantsHashChange||c){var a=this.location.pathname,b=this.root.replace(x,"");a.indexOf(b)||(a=a.substr(b.length))}else a=this.getHash();
return decodeURIComponent(a.replace(v,""))},start:function(a){if(r.started)throw Error("Backbone.history has already been started");r.started=!0;this.options=h.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);var a=this.getFragment(),c=document.documentMode,c=G.exec(navigator.userAgent.toLowerCase())&&
(!c||7>=c);this.root=("/"+this.root+"/").replace(E,"/");c&&this._wantsHashChange&&(this.iframe=k.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));this._hasPushState?k.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!c?k.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;c=a.pathname.replace(/[^\/]$/,
"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!c)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&c&&a.hash&&(this.fragment=this.getHash().replace(v,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){k.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",
this.checkUrl);clearInterval(this._checkUrlInterval);r.started=!1},route:function(a,c){this.handlers.unshift({route:a,callback:c})},checkUrl:function(){var a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var c=this.fragment=this.getFragment(a);return h.any(this.handlers,function(a){if(a.route.test(c))return a.callback(c),
!0})},navigate:function(a,c){if(!r.started)return!1;if(!c||!0===c)c={trigger:c};a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var b=this.root+a;if(this._hasPushState)this.history[c.replace?"replaceState":"pushState"]({},document.title,b);else if(this._wantsHashChange)this._updateHash(this.location,a,c.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(c.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,c.replace));else return this.location.assign(b);
c.trigger&&this.loadUrl(a)}},_updateHash:function(a,c,b){b?(b=a.href.replace(/(javascript:|#).*$/,""),a.replace(b+"#"+c)):a.hash="#"+c}});k.history=new r;var d=k.View=function(a){this.cid=h.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},n=/^(\S+)\s*(.*)$/,F="model,collection,el,id,attributes,className,tagName".split(",");h.extend(d.prototype,g,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},
dispose:function(){this.undelegateEvents();this.model&&this.model.off&&this.model.off(null,null,this);this.collection&&this.collection.off&&this.collection.off(null,null,this);return this},remove:function(){this.dispose();this.$el.remove();return this},make:function(a,c,b){a=document.createElement(a);c&&k.$(a).attr(c);null!=b&&k.$(a).html(b);return a},setElement:function(a,c){this.$el&&this.undelegateEvents();this.$el=a instanceof k.$?a:k.$(a);this.el=this.$el[0];!1!==c&&this.delegateEvents();return this},
delegateEvents:function(a){if(a||(a=h.result(this,"events"))){this.undelegateEvents();for(var c in a){var b=a[c];h.isFunction(b)||(b=this[a[c]]);if(!b)throw Error('Method "'+a[c]+'" does not exist');var d=c.match(n),f=d[1],d=d[2],b=h.bind(b,this),f=f+(".delegateEvents"+this.cid);""===d?this.$el.bind(f,b):this.$el.delegate(d,f,b)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=h.extend({},this.options,a));h.extend(this,h.pick(a,F));
this.options=a},_ensureElement:function(){if(this.el)this.setElement(h.result(this,"el"),!1);else{var a=h.extend({},h.result(this,"attributes"));this.id&&(a.id=h.result(this,"id"));this.className&&(a["class"]=h.result(this,"className"));this.setElement(this.make(h.result(this,"tagName"),a),!1)}}});var y={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};k.sync=function(a,b,d){var f=y[a];h.defaults(d||(d={}),{emulateHTTP:k.emulateHTTP,emulateJSON:k.emulateJSON});var g={type:f,dataType:"json"};
d.url||(g.url=h.result(b,"url")||z());if(!d.data&&b&&("create"===a||"update"===a))g.contentType="application/json",g.data=JSON.stringify(b);d.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{});if(d.emulateHTTP&&("PUT"===f||"DELETE"===f)){g.type="POST";d.emulateJSON&&(g.data._method=f);var m=d.beforeSend;d.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",f);if(m)return m.apply(this,arguments)}}"GET"!==g.type&&!d.emulateJSON&&(g.processData=
!1);var p=d.success;d.success=function(a,e,f){p&&p(a,e,f);b.trigger("sync",b,a,d)};var n=d.error;d.error=function(a){n&&n(b,a,d);b.trigger("error",b,a,d)};return k.ajax(h.extend(g,d))};k.ajax=function(){return k.$.ajax.apply(k.$,arguments)};t.extend=u.extend=w.extend=d.extend=r.extend=function(a,b){var d=this,f;f=a&&h.has(a,"constructor")?a.constructor:function(){d.apply(this,arguments)};h.extend(f,d,b);var g=function(){this.constructor=f};g.prototype=d.prototype;f.prototype=new g;a&&h.extend(f.prototype,
a);f.__super__=d.prototype;return f};var z=function(){throw Error('A "url" property or function must be specified');}}).call(this);DefaceitHome=window.DefaceitHome||!1;Defaceit=window.Defaceit||{};Defaceit.wait=function(b,f,g,m){var g=g||this,m=m||[],o=setInterval(function(){if(0<Defaceit.load.wait.length)for(var p=0;p<Defaceit.load.wait.length;p++)if("Ok"!=Defaceit.load.wait[p])return;window[b]&&(f.call(g,m),clearInterval(o))},100)};
Defaceit.load={wait:[],js:function(b){var f=document.createElement("script");f.setAttribute("src",b);document.getElementsByTagName("head")[0].appendChild(f)},css:function(b){var f=document.createElement("link");f.rel="stylesheet";f.type="text/css";f.href=b;document.getElementsByTagName("head")[0].appendChild(f)},image:function(b){this.wait=this.wait||[];var f=this.wait.length,g=document.createElement("img");g.src=b;this.wait[f]=b;document.getElementsByTagName("head")[0].appendChild(g);var m=this;
g.onload=function(){m.wait[f]="Ok"}}};Defaceit.extend=function(b,f){var g=function(){this.initialize.apply(this,arguments)};g.prototype=_.extend({},b.prototype,f);g.prototype.parent=b.prototype;return g};Defaceit.merge=function(b,f){return jQuery.merge(b,f)};Defaceit.request=function(b){var f=document.createElement("script");f.setAttribute("src",b);document.getElementsByTagName("head")[0].appendChild(f)};callbacks=[];
function request(b){var f=document.createElement("script");f.setAttribute("src",b);document.getElementsByTagName("head")[0].appendChild(f)}function defaceit(b){callback=callbacks[0];callback[0].call(callback[1],b)};Defaceit.CrossDomainRequest=function(b){this.url=b;this.create_iframe();this.create_form(b)};
Defaceit.CrossDomainRequest.prototype={create_iframe:function(){if(!document.getElementById("coaframe")){var b=document.createElement("iframe");b.name="coaframe";b.style.visibility="hidden";b.style.position="absolute";b.style.left=b.style.top="0px";b.height=width="1px";b.id="coaframe";document.getElementsByTagName("body")[0].appendChild(b)}},create_form:function(b){var f=document.getElementById("coaform");if(f){for(;f.firstChild;)f.removeChild(f.firstChild);this.form=f}else f=this.form=document.createElement("form"),
f.style.display="none",f.id="coaform",f.enctype="multipart/form-data",f.method="POST",f.action=b,f.target="coaframe",f.setAttribute("target","coaframe"),document.body.appendChild(f)},add:function(b,f){var g=document.createElement("input");g.type="hidden";g.name=b;g.value=f;this.form.appendChild(g)},request:function(b,f){this.form.submit();var g=setInterval(function(){""!=location.hash&&"#none"!=location.hash&&(b.call(f,location.hash),location.hash="none",clearInterval(g))},200)}};Defaceit.Screen={border:10,height:function(){return jQuery(window).height()},width:function(){return jQuery(window).width()},scroll_top:function(){return jQuery(window).scrollTop()}};Defaceit.Session=function(b){this.resource=b};Defaceit.Session.prototype={sign_in:!1,check_status:function(b){this.sign_in=!0;request(this.resource+"/show",function(f){null==f.data.key&&(this.sign_in=!1);this.data=f.data;b.call(this)},this)},signed_in:function(){return this.key?!0:!1}};Defaceit.Display={width:function(){return jQuery(window).width()},height:function(){return jQuery(window).height()}};Defaceit.Window||(Defaceit.Window={},Defaceit.Window.Simple=function(b){this.initialize(b)},Defaceit.Window.Simple.create=function(b){return new Defaceit.Window.Simple(b)},Defaceit.Window.Simple.prototype={wnd_handler:null,wnd_container:null,content_handler:null,config:{},initialize:function(b){b=this.configure(b);this.create_window();this.apply_title(b.title);this.apply_content(b.content);this.apply_buttons(b.buttons);this.modify(b.geometry)},configure:function(b){this.config=b||{};this.config.plugins=
this.config.plugins||{};this.config.geometry=this.config.geometry||[];this.config.buttons=this.config.buttons||[];return this.config},modify:function(b){if(!b||!b.length)return!1;for(var f=0;f<b.length;f++){var g=b[f],m=g.split(":"),g=m[0],m=1<m.length?m.slice(1):[];jQuery.isFunction(g)&&g.call(this)||this[g]&&this[g].apply(this,m)}},position:function(b,f){this.config.pX=b||this.config.pX;this.config.pY=f||this.config.pY;this.wnd_handler.css({left:this.config.pX,top:this.config.pY})},create_window:function(){(this.wnd_handler=
jQuery("<div>")).addClass("dtWindow").appendTo("body");(this.wnd_container=jQuery("<div>")).addClass("dtWindowContainer").appendTo(this.wnd_handler)},apply_title:function(b){if(!b)return!1;this.title=b;b=jQuery("<div>").html(b).addClass("dtWindowTitle");b.appendTo(this.wnd_container)},apply_content:function(b){if(!b)return!1;this.content=b;return this.content_handler&&this.content_handler.html(this.content)||(this.content_handler=jQuery("<div>").addClass("dtWindowContent").html(b).appendTo(this.wnd_container))},
apply_buttons:function(b){function f(b){var f=jQuery("<a>").attr("href","#").addClass("dtWindowButton").html(b.text);b.handler&&f.click(function(){b.handler.call(m);return!1});b.text&&f.attr("value",b.text);return f}if(!b||!b.length)return!1;for(var g=this.button_handler=jQuery("<div>").addClass("dtWindowButtons"),m=this,o=0;o<b.length;o++)g.append(f(b[o]));g.appendTo(this.wnd_container)},hide:function(){this.wnd_handler.hide()},show:function(){this.wnd_handler.show()},width:function(b){this.config.width=
parseInt(b||this.config.width);this.config.width&&this.wnd_handler.css({width:this.config.width})},height:function(b){this.config.height=parseInt(b||this.config.height);this.config.height&&this.wnd_handler.css({height:this.config.height})},fit_to_screen:function(){this.height(Defaceit.Screen.height()-2*Defaceit.Screen.border);this.width(Defaceit.Screen.width()-2*Defaceit.Screen.border);this.wnd_container.css({height:this.wnd_handler.height()-40,padding:20});var b=this.button_handler?this.button_handler.height():
0;this.content_handler.css({height:this.wnd_container.height()-b})},size:function(){this.wnd_container.css({width:this.width,height:this.height})},center:function(){this.config.pX=Math.floor(Defaceit.Screen.width()/2-this.wnd_handler.width()/2);this.config.pY=Math.floor(Defaceit.Screen.height()/2-this.wnd_handler.height()/2);this.position()},deltaXY:function(b,f){b=parseInt(b||0);f=parseInt(f||0);this.config.pX+=b;this.config.pY+=f;this.position()},top:function(){this.config.pY=Defaceit.Screen.border;
this.position()},right:function(){this.config.pX=Defaceit.Screen.width()-this.wnd_handler.width()-Defaceit.Screen.border;this.position()},left:function(){this.config.pX=Defaceit.Screen.border;this.position()},activate:function(){Defaceit.Window.Manager.get_active_window().deactivate();Defaceit.Window.Manager.active=this.nth;this.state=this.show_menu;this.wnd_handler.animate({width:this.width,height:this.height,left:this.width/2,top:this.height/2},"fast");this.wnd_handler.html(this.content)},deactivate:function(){Defaceit.Window.Manager.active=
-1;this.state=this.activate;this.wnd_handler.animate({width:50,height:50,left:this.init_position_x,top:this.init_position_y},"fast");this.wnd_handler.html(this.icon)},show_menu:function(){this.menu=this.menu||jQuery("<div>").addClass("menu").appendTo(this.wnd_handler).html('<a href="#">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c</a><a href="#">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a><a href="#">\u0423\u0434\u0430\u043b\u0438\u0442\u044c</a>');this.menu.animate({width:"20%"},
"fast");this.state=this.hide_menu},hide_menu:function(){this.menu.animate({width:"0%"},"fast");this.state=this.show_menu}},Defaceit.Window.InputBox=Defaceit.extend(Defaceit.Window.Simple,{configure:function(b){b.handler=b.handler||function(){alert("\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043d\u0435 \u0437\u0430\u0434\u0430\u043d")};this.textarea=jQuery("<TEXTAREA>").addClass("dtWindowInputBoxTextarea");b.content=this.textarea;
b.buttons=[{text:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",handler:b.handler},{text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",handler:function(){this.wnd_handler.remove()}}];return this.parent.configure(b)},message:function(){return this.textarea.val()}}),Defaceit.Window.Manager={collection:[],create:function(b,f){return new (Defaceit.Window[b]||Defaceit.Window.Simple)(f)},add:function(b){this.collection.push(b);return this.collection.length},get:function(b){return this.collection[b]},
get_active_window:function(){return 0<=Defaceit.Window.Manager.active?this.get(Defaceit.Window.Manager.active):{deactivate:function(){}}}});Defaceit.Queue||(Defaceit.Queue=function(b){if(this==Defaceit)return b=b||"",Defaceit.Queue.list[b]=Defaceit.Queue.list[b]||new Defaceit.Queue(b),Defaceit.Queue.list[b];this.init(b);return this},Defaceit.Queue.prototype={queue:"",call_id:1,init:function(b){this.queue=b},next_call_id:function(){return this.call_id++},list:function(){this.request("list");return this},push:function(b){return this.request("push",encodeURIComponent(b))},top:function(){this.request("top");return this},last:function(){return this.request("last")},
request:function(b,f){var f=f||"",g=this.next_call_id();1024<f.length?cors_post("http://eservices.defaceit.ru/queue/"+b+"/"+this.queue+"/"+g,"message_text="+f):Defaceit.request("http://eservices.defaceit.ru/queue/"+b+"/"+this.queue+"/"+g+"/"+f);return g},client:function(b){this.clients=this.clients||[];this.clients.push(b)},client_callback:function(b){b.call_id=parseInt(b.call_id);switch(b.type){case "messages":for(var f=0;f<b.data.length;f++)this.send_message(b.data[f].message_text,
b.data[f]);break;case "message":this.send_message(b.data.message_text,b.data,b);break;case "status":this.send_status_message(b)}},send_status_message:function(b){for(var f=0;f<this.clients.length;f++){var g=this.clients[f];g.queue_status&&g.queue_status(b)}},send_message:function(b,f,g){for(var b=decodeURIComponent(b),m=0;m<this.clients.length;m++){var o=this.clients[m];o.queue_message&&o.queue_message(b,f,g)}}},Defaceit.Queue.list=Defaceit.Queue.list||{},Defaceit.Queue.callbacks=Defaceit.Queue.callbacks||
[],Defaceit.Queue.response=function(b){Defaceit.Queue.list[b.queue_name].client_callback(b)});actions={};fire=function(b,f,g,m){actions[b]&&actions[b][f]&&actions[b][f][0]&&actions[b][f][0].call(actions[b][f][1],g,m)};function q(b,f){Defaceit.Queue(b).client({queue_message:function(f,m){fire(b,"message",f,m)},queue_status:function(f){fire(b,f.result,f,f)}});actions[b]=actions[b]||{};return{on:function(g,m){actions[b][g]=[f[m],f];return this}}}
function cors_post(b,f){var g=function(b,f){var g=new XMLHttpRequest;if("withCredentials"in g)g.open(b,f,true);else if(typeof XDomainRequest!="undefined"){g=new XDomainRequest;g.open(b,f)}else g=null;return g}("POST",b);if(!g)throw Error("CORS not supported");g.setRequestHeader("Content-type","application/x-www-form-urlencoded");g.setRequestHeader("Content-length",f.length);g.setRequestHeader("Connection","close");g.onload=function(){eval(g.responseText)};g.onerror=function(){console.log("There was an error!")};
g.send(f)};window.jQuery||Defaceit.load.js("http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js");Defaceit.load.css("http://defaceit.ru/defaceit/tools/css/defaceit.css");
