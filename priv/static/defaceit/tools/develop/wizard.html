<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">

<head>
	<title>Baloon Firework Development page</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="description" content="Страница разработчиков фейверка шаров" />
	

	<script type="text/javascript" src="http://defaceit.ru/defaceit/tools/lib/jquery.min.js"></script>
	<script type="text/javascript" src="http://defaceit.ru/defaceit/tools/lib/underscore.js"></script>
	<script type="text/javascript" src="http://defaceit.ru/defaceit/tools/lib/backbone.js"></script>
	<script type="text/javascript" src="http://defaceit.ru/defaceit/tools/develop/defaceit.js"></script>
	<script type="text/javascript" src="http://defaceit.ru/defaceit/tools/develop/request.js"></script>
	<script type="text/javascript" src="http://defaceit.ru/defaceit/tools/develop/queue.js"></script>
	<script type="text/javascript" src="http://defaceit.ru/defaceit/tools/develop/variable.js"></script>
	<script type="text/javascript" src="http://defaceit.ru/defaceit/tools/develop/wizard.js"></script>

	<!--<script type="text/javascript" src="http://defaceit.ru/defaceit/tools.js"></script>-->

</head>
<body>

    <script>
    	var SomeModel = Backbone.Model.extend({
    		wizard: function() {
    			var that = this;
    			console.debug('run wizard ' + this.get('name'));
    			setTimeout(function(){
    				console.debug(that.get('name') + ' wizard done');
    				that.trigger('wizard:done');
    			}, this.get('time'));
    		}
    	});

    	var a = new SomeModel();
    	a.set('name', 'a1');
    	a.set('time', 1000);

		var b = new SomeModel();
		b.set('name', 'b1');
		b.set('time', 1000);

		var c = new SomeModel();
		c.set('name', 'c1');
		c.set('time', 100);

		Defaceit.Wizard([a,[c, b]]).on('done', function() {
			console.debug('we are ready to work');
		});    	

    </script>
</body>
</html>
